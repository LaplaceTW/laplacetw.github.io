<!doctype html>
<html>
    <head>
        <title>Pitting</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,
            minimum-scale=1,user-scalable=no,viewport-fit=cover">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="apple-mobile-web-app-title" content="Pitting"/>
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
        <link rel="apple-touch-icon" href="/static/images/apple-icon-60x60.png">
        <link rel="apple-touch-icon" href="/static/images/apple-icon-80x80.png">
        <link rel="apple-touch-icon" href="/static/images/apple-icon-114x114.png">
        <link rel="apple-touch-icon" href="/static/images/apple-icon-180x180.png">
        <link rel="stylesheet" href="./static/css/index.css">
        <link rel="manifest" href="./manifest.json"/>
    </head>
    <body>
        <div id="app">
            <!-- side navigation menu -->
            <div id="sideNav" ref="sideNav">
                <a id="btnCloseNav" @click="closeNav($event)">&times;</a>
                <ul>
                   <li @click="changeView('takeVideo');openCamera();closeNav($event);">Take Video</li>
                </ul>
                <ul>
                    <li @click="changeView('uploadVideo');closeNav($event);">Upload Video</li>
                </ul>
                <ul>
                    <li @click="changeView('dataAnalysis');closeNav($event);">Data Analysis</li>
                </ul>
                <!-- About Pitting / Privacy Policy -->
            </div>
            <nav>
                <a id="toggleNav" @click="openNav($event)">
                    <img src="./static/images/icons8-menu.svg"/>
                </a>
            </nav>
            <!-- main page -->
            <div id="main">
                <component v-if="curView === 'takeVideo'">
                    <img id="grid" v-show="camState" src="./static/images/cam_grid.png">
                    <video playsinline autoplay ref="camera"></video>
                    <canvas ref="screenshot"></canvas>
                    <span id="timer">{{ videoTimeCountdown }}</span>
                    <button id="toggleCam" v-show="!recState" @click="recVideo">Start</button>
                    <button id="toggleCam" v-show="recState">‚óèREC</button>
                    <button id="btnShare" ref="btnShare" >Save</button>
                </component>
                <component v-else-if="curView === 'uploadVideo'">
                    <button id="btnShare" ref="btnShare" >Save</button>
                </component>
                <component v-else>
                </component>
            </div>
        </div>
        <script src="./static/scripts/vue.min.2.6.14.js"></script>
        <script src="./static/scripts/index.js"></script>
    </body>
</html>