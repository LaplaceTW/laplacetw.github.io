<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Laplace&#39;s Lab</title>
  
  <subtitle>â€œWe&#39;re believers that the best way to learn something is to do it.â€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://laplacetw.github.io/"/>
  <updated>2020-09-20T06:10:53.646Z</updated>
  <id>https://laplacetw.github.io/</id>
  
  <author>
    <name>LaplaceTW</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Python:&amp;nbsp;install psycopg2 error</title>
    <link href="https://laplacetw.github.io/python-install-error-psycopg2/"/>
    <id>https://laplacetw.github.io/python-install-error-psycopg2/</id>
    <published>2020-09-20T05:21:32.000Z</published>
    <updated>2020-09-20T06:10:53.646Z</updated>
    
    <content type="html"><![CDATA[<p>å•Šå•Šï¼ŒERRORã€‚<a id="more"></a></p><p>ä¸Šä¸€æ¬¡å®‰è£PostgreSQLæ˜¯æ±°æ›Win 7ç­†é›»ä¹‹å‰ï¼Œé€™æ¬¡åœ¨Mac OSå®‰è£<a href="http://postgresapp.com/" target="_blank" rel="noopener">Postgres.app</a>ï¼Œç„¶å¾Œè¦å®‰è£psycopg2çš„æ™‚å€™å ±éŒ¯äº†ã€‚</p><p>å‚»çœ¼ï¼Œæˆ‘æœ‰äº›æ€¥ç”¨å•Šï¼Œä½ å¤§å“¥è«‹æ”¯æ´æ”¶éŠ€å¥½å—ï¼Ÿ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Error: pg_config executable not found.</span><br><span class="line"></span><br><span class="line">Please add the directory containing pg_config to the PATH</span><br><span class="line"></span><br><span class="line">(omitted...)</span><br><span class="line"></span><br><span class="line">ERROR: Command errored out with <span class="built_in">exit</span> status 1: python setup.py egg_info Check the logs <span class="keyword">for</span> full <span class="built_in">command</span> output.</span><br></pre></td></tr></table></figure><p>pipå ±éŒ¯èªªæ‰¾ä¸åˆ°pg_configè·¯å¾‘ï¼Œè¦æŠŠPostgress.appçš„binè³‡æ–™å¤¾è·¯å¾‘åŠ å…¥ç’°å¢ƒè®Šæ•¸ï¼Œ<a href="https://stackoverflow.com/questions/11618898/pg-config-executable-not-found#24684701" target="_blank" rel="noopener">åƒè€ƒstackoverflowä¸Šçš„è¨è«–</a>ï¼Œæ–¼å®‰è£æ™‚æŒ‡å®šå…¶è·¯å¾‘(Mac OS)ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=<span class="string">"/Applications/Postgres.app/Contents/Versions/latest/bin:<span class="variable">$PATH</span>"</span> pip install psycopg2</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å•Šå•Šï¼ŒERRORã€‚
    
    </summary>
    
      <category term="Python" scheme="https://laplacetw.github.io/categories/Python/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="error" scheme="https://laplacetw.github.io/tags/error/"/>
    
      <category term="psycopg2" scheme="https://laplacetw.github.io/tags/psycopg2/"/>
    
      <category term="postgresql" scheme="https://laplacetw.github.io/tags/postgresql/"/>
    
  </entry>
  
  <entry>
    <title>Python:å¿«é€Ÿå»ºç«‹TelegramèŠå¤©æ©Ÿå™¨äºº</title>
    <link href="https://laplacetw.github.io/python-botlegram/"/>
    <id>https://laplacetw.github.io/python-botlegram/</id>
    <published>2020-09-17T04:17:59.000Z</published>
    <updated>2020-09-17T07:27:34.371Z</updated>
    
    <content type="html"><![CDATA[<p>å¯«äº†ä¸€å€‹å¥—ä»¶ï¼Œé›–ç„¶ç¾åœ¨é‚„æ²’å•¥åŠŸèƒ½ï¼Œåªèƒ½ç™¼é€æ–‡å­—å’Œç…§ç‰‡ã€‚<a id="more"></a>ä¹Ÿä¸æ˜¯åªæœ‰æäº†å€‹å¥—ä»¶ï¼Œé‚„å˜—è©¦äº†ç”¨<a href="https://www.sphinx-doc.org/en/master/" target="_blank" rel="noopener">Sphinx</a>è‡ªå‹•ç”¢ç”Ÿæ–‡ä»¶ç„¶å¾Œæ‰˜ç®¡åˆ°<a href="https://readthedocs.org/" target="_blank" rel="noopener">Read The Docs</a>ï¼Œè¢«autodocè·¯å¾‘æŠ˜é¨°äº†ä¸å°‘æ™‚é–“â€¦é€™æ˜¯å¦ä¸€æ®µæ•…äº‹äº†ã€‚é›–ç„¶ç¾åœ¨æ‰é–‹å§‹ç ”ç©¶æ€éº¼å¯«Telegram Botï¼Œä¹Ÿæœ‰å¤šç¨®ç¨‹å¼èªè¨€çš„ç¾æˆæ¡†æ¶å¯ä»¥ç”¨ï¼Œä½†æˆ‘ä¸æƒ³è¦ä½¿ç”¨é«˜åº¦å°è£çš„è¤‡é›œæ¡†æ¶ï¼Œæ‰€ä»¥æ±ºå®šä¸€é‚Šå­¸ç¿’Telegram Bot APIï¼Œä¸€é‚Šå®Œæˆé€™å€‹å¥—ä»¶ï¼Œå¸Œæœ›æˆ‘æœ‰è¶³å¤ çš„æ™‚é–“å’Œå¿ƒåŠ› ğŸ˜Œ</p><h3 id="Botlegram"><a href="#Botlegram" class="headerlink" title="Botlegram"></a>Botlegram</h3><p></p><p>é˜ï¼é˜ï¼ç¶“éä¸€ç•ªæŠ˜é¨°çµ‚æ–¼ç™¼ä½ˆåˆ°Githubä¸Šäº†ï¼Œæˆ‘å¸Œæœ›èƒ½ä¿æŒå®ƒçš„å½ˆæ€§ï¼Œä¸è¦åšå¤šé¤˜çš„äº‹ï¼Œå®ƒå°±åªæ˜¯ä¸€å€‹Telegram Bot APIçš„Pythonç‰ˆæœ¬ï¼Œæ‰€ä»¥åŠŸèƒ½å‡½å¼å‘½åä¹Ÿæœƒç›¡å¯èƒ½åœ°ä¿æŒèˆ‡<a href="https://core.telegram.org/bots/api#available-methods" target="_blank" rel="noopener">Telegram Bot API methods</a>ä¸€è‡´ã€‚</p><ul><li>source code: <a href="https://github.com/laplacetw/botlegram" target="_blank" rel="noopener">Botlegram</a></li><li>online document: <a href="https://botlegram.readthedocs.io/" target="_blank" rel="noopener">Botlegram Doc</a></li></ul><h3 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h3><p></p><h5 id="æº–å‚™å·¥ä½œï¼š"><a href="#æº–å‚™å·¥ä½œï¼š" class="headerlink" title="æº–å‚™å·¥ä½œï¼š"></a>æº–å‚™å·¥ä½œï¼š</h5><ul><li>ä»¥ä¸‹èªªæ˜æ˜¯ä»¥éƒ¨ç½²åœ¨Herokuç‚ºä¾‹ï¼Œæ‰€ä»¥å¿…é ˆå…ˆæº–å‚™ä¸€å€‹<a href="https://www.heroku.com/" target="_blank" rel="noopener">Herokuå¸³è™Ÿ</a>ï¼Œç„¶å¾Œ<a href="https://trailhead.salesforce.com/content/learn/projects/develop-heroku-applications/create-a-heroku-app" target="_blank" rel="noopener">å»ºç«‹ä¸€æ”¯APP</a></li><li>åˆæ¬¡ä½¿ç”¨Herokuå‰‡å¿…é ˆå…ˆ<a href="https://devcenter.heroku.com/articles/heroku-command-line" target="_blank" rel="noopener">å®‰è£Heroku CLI</a></li><li>ä¸‹è¼‰æˆ‘é å…ˆæº–å‚™çš„Telegram Botæ‡¶äººåŒ…: <a href="https://github.com/laplacetw/botlegram/files/5236011/echoBot.zip" target="_blank" rel="noopener">echo Bot</a></li><li>å’ŒTelegramå®˜æ–¹å¸³è™Ÿ<a href="https://telegram.me/BotFather" target="_blank" rel="noopener">BotFather</a>é€²è¡Œå°è©± (å–åå«Bot Fatheræˆ‘è¦ºå¾—å¾ˆæœ‰è¶£ ğŸ˜†&nbsp;)ï¼ŒæŒ‰æŒ‡ç¤ºå»ºç«‹Botå–å¾—å°ˆå±¬tokenï¼Œæ­¤tokenå¿…é ˆç”±ä½ è‡ªå·±å¦¥å–„ä¿ç®¡ï¼Œå› ç‚º<font color="red">ä»»ä½•äººéƒ½èƒ½ä½¿ç”¨é€™å€‹tokenä¾†æ§åˆ¶ä½ çš„Bot</font>ã€‚</li></ul><p><img src="https://i.imgur.com/wauvK7S.png" alt></p><h5 id="è§£å£“ç¸®æ‡¶äººåŒ…echoBot-zip"><a href="#è§£å£“ç¸®æ‡¶äººåŒ…echoBot-zip" class="headerlink" title="è§£å£“ç¸®æ‡¶äººåŒ…echoBot.zip"></a>è§£å£“ç¸®æ‡¶äººåŒ…echoBot.zip</h5><p>é–‹å•Ÿapp.py:</p><ul><li>your_bot_tokenæ›¿æ›æˆä½ çš„å°ˆå±¬token</li><li>your_hostæ›¿æ›æˆä½ çš„Heroku Appç¶²å€ï¼Œè«‹æ³¨æ„ä¸å¯å¿½ç•¥çš„æ–œç·š<br>e.g. â€œ<a href="https://APP_NAME.herokuapp.com/&quot;" target="_blank" rel="noopener">https://APP_NAME.herokuapp.com/&quot;</a></li></ul><h5 id="éƒ¨ç½²åˆ°Heroku"><a href="#éƒ¨ç½²åˆ°Heroku" class="headerlink" title="éƒ¨ç½²åˆ°Heroku"></a>éƒ¨ç½²åˆ°Heroku</h5><p>æ‰“é–‹çµ‚ç«¯æ©Ÿä¾ç…§ä¸‹æ–¹æŒ‡ä»¤æ“ä½œï¼ŒAPP_NAMEæ›¿æ›æˆä½ çš„Heroku App name<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> echoBot</span><br><span class="line">$ heroku login</span><br><span class="line">$ heroku git:remote -a APP_NAME</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -am <span class="string">"echo Bot"</span></span><br><span class="line">$ git push heroku master</span><br></pre></td></tr></table></figure></p><h5 id="ç¢ºèªèˆ‡æ¸¬è©¦"><a href="#ç¢ºèªèˆ‡æ¸¬è©¦" class="headerlink" title="ç¢ºèªèˆ‡æ¸¬è©¦"></a>ç¢ºèªèˆ‡æ¸¬è©¦</h5><p>éƒ¨ç½²æˆåŠŸçš„è©±ï¼Œå¯ä»¥åœ¨Herokuçš„APP Logsé é¢çœ‹åˆ°ã€ŒWebhook is already setã€<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Starting process with <span class="built_in">command</span> `gunicorn app:app`</span><br><span class="line">[INFO] Starting gunicorn 20.0.4</span><br><span class="line">[INFO] Listening at: http://0.0.0.0:10426 (4)</span><br><span class="line">[INFO] Using worker: sync</span><br><span class="line">[INFO] Booting worker with pid: 10</span><br><span class="line">[INFO] Booting worker with pid: 11</span><br><span class="line">State changed from starting to up</span><br><span class="line">* [Bot] Webhook is already <span class="built_in">set</span></span><br><span class="line">* [Bot] Webhook is already <span class="built_in">set</span></span><br></pre></td></tr></table></figure></p><p>æ‰“é–‹Telegramå’Œä½ çš„æ©Ÿå™¨äººå°è©±ï¼Œå®ƒæ‡‰è©²æœƒé–‹å§‹é¸šéµ¡å­¸èˆŒå›‰ ğŸ§</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯«äº†ä¸€å€‹å¥—ä»¶ï¼Œé›–ç„¶ç¾åœ¨é‚„æ²’å•¥åŠŸèƒ½ï¼Œåªèƒ½ç™¼é€æ–‡å­—å’Œç…§ç‰‡ã€‚
    
    </summary>
    
      <category term="Python" scheme="https://laplacetw.github.io/categories/Python/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="chatbot" scheme="https://laplacetw.github.io/tags/chatbot/"/>
    
      <category term="telegram" scheme="https://laplacetw.github.io/tags/telegram/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Herokué ç«¯ä¸»æ©Ÿæ§åˆ¶ç€è¦½å™¨</title>
    <link href="https://laplacetw.github.io/data-sci-heroku-selenium-chrome-driver/"/>
    <id>https://laplacetw.github.io/data-sci-heroku-selenium-chrome-driver/</id>
    <published>2020-09-06T10:01:30.000Z</published>
    <updated>2020-09-17T04:11:16.585Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚é¡Œã€‚<a id="more"></a>æœ€è¿‘åœ¨ç ”ç©¶Telegram Bot APIï¼Œé›–ç„¶è®€éæ–‡ä»¶çŸ¥é“è¨±å¤šèªè¨€éƒ½å·²ç¶“æœ‰ä¸å°‘ç¬¬ä¸‰æ–¹æ¡†æ¶æ”¯æ´ï¼ŒåŸºæ–¼æŸäº›æ‡‰ç”¨ç›®çš„ä¸æƒ³è¢«æ¡†æ¶ç¶ä½ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±å¯«ã€‚ç„¶å¾Œæˆ‘å°±è€—äº†æ•´æ•´å…©å¤©ï¼Œå˜—è©¦å¦‚ä½•è®“éƒ¨ç½²åœ¨Herokuä¸Šçš„Botèƒ½é †åˆ©ä½¿ç”¨headless browseræ“·å–åˆ°æˆ‘è¦çš„æ•¸æ“šâ€¦ã€‚èªªä¹Ÿå¥‡æ€ªï¼Œæœ¬æ©ŸåŸ·è¡Œæ˜¯æ²’å•é¡Œçš„ï¼Œä½†åœ¨é ç«¯ä¸»æ©Ÿå°±æ˜¯ä¸€ç›´ä¸Ÿå‡ºTimeout Errorï¼ŒåŸä¾†é ç«¯ä¸»æ©Ÿæ§åˆ¶Chromeè¨ªå•ç›®æ¨™ç¶²é çš„æ™‚å€™ç¸½æ˜¯é­é‡æŸDDoS Protectionæœå‹™æ‰€é˜»æ“‹ï¼Œä½†ç¶“éä¸€ç•ªå˜—è©¦ç›®å‰ä»æ˜¯æ‡‰å°ä¸äº†é€™å€‹æƒ…æ³ï¼Œè€—äº†å¥½å¹¾å¤©â€¦æ–¼æ˜¯å­¸åˆ°äº†windows.navigator.webdriveré€™å€‹åƒæ•¸ã€‚</p><p>*å‡è¨­Heroku APPå·²å»ºç«‹ã€‚</p><h3 id="Add-Config-Vars-amp-Buildpacks"><a href="#Add-Config-Vars-amp-Buildpacks" class="headerlink" title="Add Config Vars &amp; Buildpacks"></a>Add Config Vars &amp; Buildpacks</h3><p></p><p>åœ¨APPçš„Settingé é¢ï¼Œè¨­å®šä»¥ä¸‹å…©å€‹ç’°å¢ƒè®Šæ•¸ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CHROMEDRIVER_PATH = /app/.chromedriver/bin/chromedriver</span><br><span class="line">GOOGLE_CHROME_BIN = /app/.apt/usr/bin/google-chrome</span><br></pre></td></tr></table></figure></p><p>åœ¨APPçš„Settingé é¢ï¼Œè¨­å®šä»¥ä¸‹å…©å€‹buildpackï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/heroku/heroku-buildpack-google-chrome</span><br><span class="line">https://github.com/heroku/heroku-buildpack-chromedriver</span><br></pre></td></tr></table></figure></p><p></p><p><br><img src="https://i.imgur.com/qOPtW4a.png" alt></p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p></p><p>ç¨‹å¼çš„éƒ¨åˆ†ï¼ŒChrome driverçš„åƒæ•¸æœƒä½¿ç”¨åˆ°ä¸Šè¿°æ‰€è¨­å®šçš„ç’°å¢ƒè®Šæ•¸ã€‚<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_chrome</span><span class="params">()</span>:</span></span><br><span class="line">    op = webdriver.ChromeOptions()</span><br><span class="line">    op.binary_location = os.environ.get(<span class="string">"GOOGLE_CHROME_BIN"</span>)</span><br><span class="line">    op.add_argument(<span class="string">"--headless"</span>)</span><br><span class="line">    op.add_argument(<span class="string">"--disable-dev-shm-usage"</span>)</span><br><span class="line">    op.add_argument(<span class="string">"--no-sandbox"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    # avoid detection å¥½å­©å­å…ˆä¸è¦ ^.&lt;</span></span><br><span class="line"><span class="string">    op.add_argument('--disable-infobars')</span></span><br><span class="line"><span class="string">    op.add_experimental_option('useAutomationExtension', False)</span></span><br><span class="line"><span class="string">    op.add_experimental_option("excludeSwitches", ["enable-automation"])</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> webdriver.Chrome(executable_path=os.environ.get(<span class="string">"CHROMEDRIVER_PATH"</span>), options=op)</span><br></pre></td></tr></table></figure></p><h3 id="Deploy"><a href="#Deploy" class="headerlink" title="Deploy"></a>Deploy</h3><p></p><p>ç„¶å¾Œå°±å¯ä»¥é€²è¡Œéƒ¨ç½²ä½¿ç”¨äº†ï¼ŒHeroku APPæœƒéœ€è¦å®‰è£è¨±å¤šä¾è³´å¥—ä»¶è€Œå¢åŠ 100+MBçš„ä½¿ç”¨ç©ºé–“ã€‚</p><p>é€éAPP bashæ¸¬è©¦å¾è­‰äº¤æ‰€æ“·å–ä¸Šå¸‚è‚¡ç¥¨ä»£è™Ÿä¸€è¦½è¡¨â¬‡ï¸<br><img src="https://i.imgur.com/SrXtcYd.png" alt></p><h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref."></a>Ref.</h3><p></p><p><br>ï¼Š<a href="https://www.andressevilla.com/running-chromedriver-with-python-selenium-on-heroku/" target="_blank" rel="noopener">Running ChromeDriver with Python Selenium on Heroku</a><br>ï¼Š<a href="https://selenium-python.readthedocs.io/" target="_blank" rel="noopener">Selenium å®˜æ–¹æ–‡ä»¶</a></p><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p></p><p><br>é—œæ–¼å‹•æ…‹ç¶²é è³‡æ–™æ“·å–çš„å°æŠ€å·§ï¼šé›–ç„¶Selenium WebDriverWaitæä¾›explicit waitså¯ç­‰å¾…æŒ‡å®šé é¢å…ƒç´ è¼‰å…¥ï¼Œä½†å¯¦éš›ä¸Šä¸¦æ²’æœ‰é€™éº¼é †åˆ©ï¼Œä¸éé€™ä¹Ÿæ˜¯è®“æˆ‘è¦ºå¾—å­¸ç¿’web crawleræœ‰è¶£çš„åœ°æ–¹(å„˜ç®¡æœ‰æ™‚å€™å¾ˆé ­ç–¼ğŸ˜–)ã€‚æœ‰æ™‚å€™æœƒç™¼ç”ŸæŒ‡å®šå…ƒç´ ç¢ºå¯¦åœ¨é é¢ä¸Šè¼‰å…¥å®Œæˆäº†ï¼Œä½†å…§å®¹å»æ˜¯ç©ºç©ºå¦‚ä¹Ÿï¼Œåˆæˆ–è¨±æ˜¯æˆ‘æ…§æ ¹ä¸å¤ ç”¨ä¸å¥½<a href="https://selenium-python.readthedocs.io/waits.html?highlight=WebDriverWait#explicit-waits" target="_blank" rel="noopener">text_to_be_present_in_element</a>ï¼Œè©¦äº†åŠå¤©é‚„æ˜¯æŠ“ä¸åˆ°æˆ‘è¦çš„æ•¸æ“šã€‚å“­å•Šï¼Œæˆ‘å°±æ˜¯è¦æ“·å–å…§å®¹æ–‡å­—å’©ï¼åªå¥½æ›å€‹æ–¹å¼ç­‰å¾…ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"></span><br><span class="line">driver = get_chrome()</span><br><span class="line">driver.get(<span class="string">""</span>)</span><br><span class="line">is_text = <span class="keyword">lambda</span> driver: driver.find_element_by_css_selector(<span class="string">''</span>).text.strip() != <span class="string">''</span></span><br><span class="line">WebDriverWait(driver, <span class="number">30</span>, <span class="number">0.5</span>).until(is_text)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚é¡Œã€‚
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="web crawler" scheme="https://laplacetw.github.io/tags/web-crawler/"/>
    
      <category term="heroku" scheme="https://laplacetw.github.io/tags/heroku/"/>
    
      <category term="selenium" scheme="https://laplacetw.github.io/tags/selenium/"/>
    
      <category term="chrome driver" scheme="https://laplacetw.github.io/tags/chrome-driver/"/>
    
  </entry>
  
  <entry>
    <title>2020 Medical AI Summer Camp</title>
    <link href="https://laplacetw.github.io/medical-AI-summer-camp-2020/"/>
    <id>https://laplacetw.github.io/medical-AI-summer-camp-2020/</id>
    <published>2020-09-01T13:57:37.000Z</published>
    <updated>2020-09-01T15:22:55.932Z</updated>
    
    <content type="html"><![CDATA[<p>å­¸æ ¡ä¿¡ç®±æ¯å¤©éƒ½æœƒæ”¶åˆ°ä¸€å †è®“äººæƒ³ç›´æ¥åˆªé™¤çš„ä¿¡ï¼Œä½†æˆ‘é‚„æ˜¯æœƒè®€å®Œä¸»æ—¨å†åˆªé™¤(?)ï¼Œç•¢ç«Ÿå¶çˆ¾é‚„æ˜¯æœƒæœ‰ä¸éŒ¯çš„è³‡è¨Šï¼Œä¾‹å¦‚å…è²»çš„ç ”ç¿’â€¦å’Œä¾¿ç•¶ã€‚<a id="more"></a>æ­¤ç ”ç¿’ç‚ºç§‘æŠ€éƒ¨è£œåŠ©å­¸æ ¡æˆç«‹çš„AIç”Ÿé†«å‰µæ–°ç ”ç©¶ä¸­å¿ƒæ‰€èˆ‰è¾¦ï¼Œå ±åäººæ•¸ç«Ÿç„¶å¤šåˆ°è¦åŠ é–‹æ•™å®¤ç”¨è¦–è¨Šé€£ç·šã€‚</p><p>è­°ç¨‹ï¼š</p><table><thead><tr><th style="text-align:center">08/31</th><th style="text-align:center">09/01</th></tr></thead><tbody><tr><td style="text-align:center">æ·ºè«‡æ©Ÿå™¨å­¸ç¿’èˆ‡æ·±åº¦å­¸ç¿’</td><td style="text-align:center">é›²ç«¯äººå·¥æ™ºæ…§åœ¨é†«å­¸å½±åƒçš„æ‡‰ç”¨</td></tr><tr><td style="text-align:center">äººå·¥æ™ºæ…§æ–¼ç”Ÿç†è¨ˆç®—ä¹‹æ‡‰ç”¨â€”è¨Šè™Ÿç¯‡</td><td style="text-align:center">äººå·¥æ™ºæ…§èˆ‡è‡ªç„¶èªè¨€è™•ç†æ¦‚è¿°â€”ä»¥å°èªåœ¨é†«ç™‚æœå‹™ä¹‹æ‡‰ç”¨ç‚ºä¾‹</td></tr><tr><td style="text-align:center">äººå·¥æ™ºæ…§æ–¼ç”Ÿç†è¨ˆç®—ä¹‹æ‡‰ç”¨â€”å½±åƒç¯‡</td><td style="text-align:center">AWSé›²ç«¯è³‡æºåˆ†äº«</td></tr><tr><td style="text-align:center">å¿«é€ŸæŒæ¡ã€Œé›²ç«¯é‹ç®—ã€</td><td style="text-align:center">AWS AI/MLå·¥å…·èˆ‡æ‡‰ç”¨</td></tr></tbody></table><p>èªªå¯¦è©±æˆ‘ä¸¦æ²’æœ‰ç‰¹åˆ¥æœŸå¾…è­°é¡Œçš„æ·±åº¦ï¼Œç•¢ç«Ÿè¬›è€…é‚„æ˜¯è¦è€ƒé‡è½çœ¾çš„ç¨‹åº¦åšèª¿æ•´ï¼Œå¦‚æœè¬›æ¼”ç®—æ³•æˆ–å…¬å¼æ¨å°æ‡‰è©²æœƒç¡æˆä¸€ç‰‡å§ğŸ˜‚&nbsp;&nbsp;&nbsp;ä½†æˆ‘è¦ºå¾—ç¬¬ä¸€å¤©çš„ã€Œäººå·¥æ™ºæ…§æ–¼ç”Ÿç†è¨ˆç®—ä¹‹æ‡‰ç”¨ã€çš„å…§å®¹éå¸¸è±å¯Œä¸”æ·ºé¡¯æ˜“æ‡‚ï¼Œè¬›è€…åˆ†äº«äº†å°‡äººå·¥æ™ºæ…§æ‡‰ç”¨æ–¼è‚ºéƒ¨CTå½±åƒç—…ç¶è¾¨è­˜ä»¥åŠç¡çœ ç‹€æ…‹åµæ¸¬çš„å¯¦å‹™ç¶“é©—ï¼ŒçœŸçš„å¾ˆæ„Ÿè¬è¬›å¸«åˆ†äº«å¦‚æ­¤çè²´çš„ç¶“é©—ï¼Œæˆ‘æƒ³é€™éƒ½æ˜¯éœ€è¦æŠ•å…¥ä¸å°‘æ™‚é–“è·Ÿè³‡æºå»ç ”ç©¶çš„ã€‚</p><p>è€Œç¬¬äºŒå¤©ç«Ÿç„¶æœ‰AWSçš„å¸‚å ´æ‹“å±•ä»£è¡¨ä¾†ä»‹ç´¹ä»–å€‘å®¶çš„é›²ç«¯é‹ç®—æœå‹™ï¼Œç„¶å¾Œæˆ‘æ‰çŸ¥é“å­¸æ ¡æœ‰åŠ å…¥AWS Educateï¼Œé€™é‚„ä¸å…‰é€Ÿè¨»å†Šä¸€æ³¢å•Šæ˜¯ä¸æ˜¯ğŸ˜&nbsp;&nbsp;&nbsp;è½å®Œä»–å€‘çš„ç°¡å ±ï¼Œå°AWSçš„å¹³å°ç”Ÿæ…‹èˆ‡ç”¢å“ç·šæœ‰è¼ƒç‚ºå»£æ³›çš„äº†è§£â€¦çœŸä¸æ„§æ˜¯å¸‚ä½”é¾é ­ï¼Œæœ€å¾Œé‚„æœ‰æåˆ°AWSçš„é‡å­é‹ç®—æœå‹™ä¹Ÿå·²ç¶“ä¸Šç·šäº†ï¼Œä¸éå°±åªæ˜¯æä¸€ä¸‹XD ç§‘æŠ€å·¨é ­å€‘çš„é‡å­éœ¸æ¬Šä¹‹ç¾…é¦¬ç«¶æŠ€ç”Ÿæ­»é¬¥é‚„æœ‰å¾—æ‰“å‘¢ã€‚</p><p><img src="https://i.imgur.com/YVVX2M0.png" alt></p><p>ä¾¿ç•¶ã„å‘·ï¼Œå®Œã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å­¸æ ¡ä¿¡ç®±æ¯å¤©éƒ½æœƒæ”¶åˆ°ä¸€å †è®“äººæƒ³ç›´æ¥åˆªé™¤çš„ä¿¡ï¼Œä½†æˆ‘é‚„æ˜¯æœƒè®€å®Œä¸»æ—¨å†åˆªé™¤(?)ï¼Œç•¢ç«Ÿå¶çˆ¾é‚„æ˜¯æœƒæœ‰ä¸éŒ¯çš„è³‡è¨Šï¼Œä¾‹å¦‚å…è²»çš„ç ”ç¿’â€¦å’Œä¾¿ç•¶ã€‚
    
    </summary>
    
      <category term="Workshop" scheme="https://laplacetw.github.io/categories/Workshop/"/>
    
    
      <category term="big data" scheme="https://laplacetw.github.io/tags/big-data/"/>
    
      <category term="deep learning" scheme="https://laplacetw.github.io/tags/deep-learning/"/>
    
      <category term="cloud computing" scheme="https://laplacetw.github.io/tags/cloud-computing/"/>
    
  </entry>
  
  <entry>
    <title>Apache Kafkaå®‰è£æ¸¬è©¦</title>
    <link href="https://laplacetw.github.io/data-sci-kafka-hello-world/"/>
    <id>https://laplacetw.github.io/data-sci-kafka-hello-world/</id>
    <published>2020-08-26T07:19:58.000Z</published>
    <updated>2020-08-27T06:16:56.158Z</updated>
    
    <content type="html"><![CDATA[<p>ç´€éŒ„å‰é™£å­å˜—è©¦å»ºç«‹Kafkaå¹³å°æ¨¡æ“¬äº‹ä»¶ä¸²æµçš„éç¨‹ã€‚<a id="more"></a>æ¨¡æ“¬çš„æƒ…å¢ƒæ˜¯ï¼Œå‡è¨­æœ‰äººæ„ŸæŸ“äº†COVID-19ï¼Œç„¶å¾Œæˆ‘å€‘è¦åˆ©ç”¨Kafka Producerç™¼ä½ˆè©²äº‹ä»¶é€šçŸ¥ï¼Œä½¿Kafka Consumeræ¥æ”¶åˆ°è¨Šæ¯ä¸¦é¡¯ç¤ºå‡ºä¾†ã€‚</p><h3 id="What-is-Apache-Kafka"><a href="#What-is-Apache-Kafka" class="headerlink" title="What is Apache Kafka?"></a>What is Apache Kafka?</h3><p><a href="https://kafka.apache.org/" target="_blank" rel="noopener">Apache Kafkaå®˜ç¶²</a>ï¼š</p><blockquote><p>Apache Kafka is an open-source <font color="red">distributed</font> event streaming platform used by thousands of companies for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.</p></blockquote><p><a href="https://zh.wikipedia.org/wiki/Kafka" target="_blank" rel="noopener">ç¶­åŸºä¸­æ–‡é é¢</a>ï¼š</p><blockquote><p>Kafkaæœ€åˆæ˜¯ç”±é ˜è‹±é–‹ç™¼ï¼Œç”±Scalaå’ŒJavaç·¨å¯«ï¼Œæ–¼2011å¹´åˆé–‹æºã€‚è©²å°ˆæ¡ˆçš„ç›®æ¨™æ˜¯ç‚ºè™•ç†å³æ™‚è³‡æ–™æä¾›ä¸€å€‹çµ±ä¸€ã€é«˜ååã€ä½å»¶é²çš„å¹³å°ã€‚</p></blockquote><p>åœ¨Kafkaä¸­æœ‰å¹¾å€‹ä¸»è¦çš„æ¦‚å¿µï¼š</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">Broker</td><td style="text-align:center">å¯¦ç¾è³‡æ–™å„²å­˜çš„ä¸»æ©Ÿä¼ºæœå™¨</td></tr><tr><td style="text-align:center">Producer</td><td style="text-align:center">è¨Šæ¯çš„ç”Ÿç”¢è€…</td></tr><tr><td style="text-align:center">Consumer</td><td style="text-align:center">è¨Šæ¯çš„æ¶ˆè²»è€…</td></tr><tr><td style="text-align:center">Topic</td><td style="text-align:center">è¨Šæ¯çš„åˆ†é¡</td></tr><tr><td style="text-align:center">Partition</td><td style="text-align:center">Topicä¸­çš„è¨Šæ¯æœƒè¢«åˆ†ç‚ºè‹¥å¹²Partitionï¼Œä»¥æé«˜è¨Šæ¯è™•ç†æ•ˆç‡</td></tr></tbody></table><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><ul><li>å®‰è£JDKï¼š<a href="https://www.oracle.com/tw/java/technologies/javase-downloads.html" target="_blank" rel="noopener">å®˜ç¶²ä¸‹è¼‰é€£çµ</a></li><li>ä¸‹è¼‰Apache Kafkaä¸¦è§£å£“ç¸®ï¼š<a href="https://kafka.apache.org/downloads" target="_blank" rel="noopener">å®˜ç¶²ä¸‹è¼‰é€£çµ</a></li><li>å®‰è£kafka-pythonå¥—ä»¶<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install kafka-python</span><br></pre></td></tr></table></figure></li></ul><h3 id="Get-Started"><a href="#Get-Started" class="headerlink" title="Get Started"></a>Get Started</h3><p>ç§»å‹•åˆ°è§£å£“ç¸®å¾Œçš„Kafkaè³‡æ–™å¤¾æ ¹ç›®éŒ„</p><ul><li><p>å•Ÿå‹•Zookeeper server</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/zookeeper-server-start.sh config/zookeeper.properties</span><br></pre></td></tr></table></figure></li><li><p>å•Ÿå‹•Kafka server</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/kafka-server-start.sh config/server.properties</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Š<a href="https://zookeeper.apache.org/" target="_blank" rel="noopener">Apache Zookeeper</a>æ˜¯ç”¨ä¾†ç®¡ç†Kafkaåˆ†æ•£å¼å¢é›†(Brokers)çµ„æ…‹è¨­å®šèˆ‡å…¶è³‡æºé…ç½®çš„æœå‹™ã€‚<br>ï¼Šå•Ÿå‹•serverè‹¥é¡¯ç¤ºä»¥ä¸‹éŒ¯èª¤è¨Šæ¯ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Unrecognized VM option <span class="string">'PrintGCDateStamps'</span></span><br><span class="line">Error: Could not create the Java Virtual Machine.</span><br><span class="line">Error: A fatal exception has occurred. Program will <span class="built_in">exit</span>.</span><br></pre></td></tr></table></figure></p><p>åƒè€ƒ<a href="https://stackoverflow.com/questions/36970622/kafka-unrecognized-vm-option-printgcdatestamps" target="_blank" rel="noopener">stackoverflowç›¸é—œè¨è«–</a>ï¼Œä¿®æ”¹/bin/kafka-run-class.shé€™å€‹æª”æ¡ˆï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [[ <span class="string">"<span class="variable">$JAVA_MAJOR_VERSION</span>"</span> -ge <span class="string">"9"</span> ]]</span><br></pre></td></tr></table></figure></p><p><font color="red">å°‡ä¸Šè¿°çš„ifæ¢ä»¶å¼å…§å®¹ä¿®æ”¹ç‚º</font></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JAVA_MAJOR_VERSION=$(<span class="variable">$JAVA</span> -version 2&gt;&amp;1 | sed -E -n <span class="string">'s/.* version "([^.-]*).*/\1/p'</span>)</span><br></pre></td></tr></table></figure><ul><li><p>å»ºç«‹Topic<br>ä»¥ä¸‹æŒ‡ä»¤æœƒå»ºç«‹ä¸€å€‹å…·æœ‰ä¸€å€‹å‰¯æœ¬ã€ä¸€å€‹åˆ†å€çš„åç¨±ç‚ºcovid-19çš„Topicï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic covid-19</span><br></pre></td></tr></table></figure></li><li><p>ç¢ºèªå·²å»ºç«‹çš„Topic</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/kafka-topics.sh --list --zookeeper localhost:2181</span><br></pre></td></tr></table></figure></li><li><p>Producer</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!usr/bin/env python3</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> kafka <span class="keyword">import</span> KafkaProducer</span><br><span class="line">producer = KafkaProducer(bootstrap_servers=<span class="string">'localhost:9092'</span>)</span><br><span class="line">counter = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    msg = <span class="string">'[Total: '</span> + str(counter) + <span class="string">']Someone is contracted COVID-19! Be careful!'</span></span><br><span class="line">    msg = msg.encode(<span class="string">'ascii'</span>)</span><br><span class="line">    producer.send(<span class="string">'covid-19'</span>, msg)</span><br><span class="line">    time.sleep(<span class="number">5</span>)</span><br><span class="line">    counter += <span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>Consumer</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!usr/bin/env python3</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> kafka <span class="keyword">import</span> KafkaConsumer</span><br><span class="line">consumer = KafkaConsumer(<span class="string">'covid-19'</span>)</span><br><span class="line"><span class="keyword">for</span> msg <span class="keyword">in</span> consumer:</span><br><span class="line">    print(msg.value.decode(<span class="string">'ascii'</span>))</span><br></pre></td></tr></table></figure></li></ul><p>å¯ä»¥çœ‹åˆ°Consumeréƒ½æ¥æ”¶åˆ°äº†COVID-19äº‹ä»¶é€šçŸ¥â¬‡ï¸<br><img src="https://i.imgur.com/DK82jfm.gif" alt></p><p>Ref. <a href="https://timber.io/blog/hello-world-in-kafka-using-python" target="_blank" rel="noopener">Hello World In Kafka Using Python</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç´€éŒ„å‰é™£å­å˜—è©¦å»ºç«‹Kafkaå¹³å°æ¨¡æ“¬äº‹ä»¶ä¸²æµçš„éç¨‹ã€‚
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="kafka" scheme="https://laplacetw.github.io/tags/kafka/"/>
    
      <category term="big data" scheme="https://laplacetw.github.io/tags/big-data/"/>
    
  </entry>
  
  <entry>
    <title>Pythonåˆ†å‰²å½±ç‰‡ç‚ºæŒ‡å®šé•·åº¦</title>
    <link href="https://laplacetw.github.io/python-video-split/"/>
    <id>https://laplacetw.github.io/python-video-split/</id>
    <published>2020-08-24T03:38:49.000Z</published>
    <updated>2020-08-24T06:46:03.546Z</updated>
    
    <content type="html"><![CDATA[<p>äººå€‘ç¶“å¸¸åœ¨é€šè¨Šè»Ÿé«”åˆ†äº«å„ç¨®å¤šåª’é«”è¨Šæ¯ï¼Œè€Œå½±ç‰‡é•·åº¦æˆ–æª”æ¡ˆå¤§å°å¯èƒ½æœƒæœ‰ä¸Šå‚³é™åˆ¶ï¼Œåªå¥½å°‡å…¶åˆ†å‰²æˆå¤šå€‹ç‰‡æ®µä¸Šå‚³ã€‚<a id="more"></a>å°±Lineè€Œè¨€ï¼Œæˆ‘æŸ¥åˆ°çš„è³‡è¨Šæ˜¯é™åˆ¶å½±ç‰‡é•·åº¦5åˆ†é˜å…§ã€æª”æ¡ˆå¤§å°300MBä»¥ä¸‹ï¼Œå°±èƒ½é †åˆ©å‚³é€ä¸¦æ–¼èŠå¤©å®¤ä¸­æ’­æ”¾ã€‚çŸ­ç‰‡çš„è©±è‡ªå·±æ‰‹å‹•åˆ†å‰²ä¸€ä¸‹å°±è¡Œäº†ï¼Œä½†ä½ çŸ¥é“çš„(?)ï¼Œæœ‰äº›äººåˆ†äº«çš„ç‰‡æ®µå®Œæ•´åŠ ç¸½èµ·ä¾†éƒ½æ•¸ååˆ†é˜ç”šè‡³ä¸€å€‹å¤šå°æ™‚ï¼Œä»”ç´°è§€å¯Ÿé‚£äº›ç‰‡æ®µçš„é•·åº¦ç«Ÿç„¶éƒ½ä¸ä¸€æ¨£ï¼Œè€Œä¸”é‚„æœ‰ä¸Šå­—(XXXåˆ†äº«ä¹‹é¡çš„)ï¼Œé€™â€¦é‚„çœŸæ˜¯åƒåŠ›ä¸è¨å¥½å•Šï¼Œæˆ‘åªèƒ½èªªç¥å¤§å¤§ä¸€ç”Ÿå¹³å®‰ğŸ™†â€â™‚ï¸ã€‚</p><hr><p>é‚„æ˜¯äº¤çµ¦ç¨‹å¼ä¾†è™•ç†å§ï¼ŒæŒ‡å®šå½±ç‰‡åˆ†å‰²ç§’æ•¸ï¼Œä¸¦è‡ªå‹•åœ¨ç‰‡é ­ä¸Šå­—æŒçºŒ3ç§’åšç‚ºé †åºæ¨™è¨˜ã€‚æ­¤ç¯„ä¾‹éœ€ç”¨åˆ°<a href="https://pypi.org/project/moviepy/" target="_blank" rel="noopener">moviepy</a>å¥—ä»¶ï¼Œä¸”éœ€äº‹å…ˆå®‰è£<a href="https://ffmpeg.org/" target="_blank" rel="noopener">FFmpeg</a>å’Œ<a href="https://imagemagick.org/script/download.php" target="_blank" rel="noopener">ImageMagick</a>é€™å…©å€‹é–‹æºè»Ÿé«”ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> moviepy.editor <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># e.g. video_split("./LaplaceTW.mp4", 300)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">video_split</span><span class="params">(filepath, duration)</span>:</span></span><br><span class="line">    video = mp.VideoFileClip(filepath).resize(width=<span class="number">720</span>)</span><br><span class="line">    video_length = int(video.duration) <span class="comment"># seconds</span></span><br><span class="line">    parts = int(video_length / duration)</span><br><span class="line">    remaining = video_length - (duration * parts)</span><br><span class="line">    parts = (parts + <span class="number">1</span>) <span class="keyword">if</span> remaining &gt; <span class="number">0</span> <span class="keyword">else</span> parts</span><br><span class="line">    print(<span class="string">"Video Length:"</span>, video_length, <span class="string">" | Split Parts:"</span>, parts)</span><br><span class="line"></span><br><span class="line">    start, end = <span class="number">0</span>, duration</span><br><span class="line">    <span class="keyword">for</span> part <span class="keyword">in</span> range(<span class="number">1</span>, parts + <span class="number">1</span>):</span><br><span class="line">        title = <span class="string">"Part."</span> + str(part)</span><br><span class="line">        text = (mp.TextClip(title, fontsize=<span class="number">50</span>, color=<span class="string">'yellow'</span>)</span><br><span class="line">            .set_pos((<span class="string">"right"</span>, <span class="string">"top"</span>))</span><br><span class="line">            .set_duration(<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">        clip = video.subclip(start, end)</span><br><span class="line">        clip = mp.CompositeVideoClip([clip, text])</span><br><span class="line">        clip.write_videofile(title + <span class="string">'.mp4'</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> part == parts - <span class="number">1</span> <span class="keyword">and</span> remaining &gt; <span class="number">0</span>:</span><br><span class="line">            start += duration</span><br><span class="line">            end += remaining</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            start += duration</span><br><span class="line">            end += duration</span><br></pre></td></tr></table></figure><p>åˆ†å‰²é•·æ™‚é–“å½±ç‰‡ â¬‡ï¸<br><img src="https://i.imgur.com/IgC7WQW.png" alt></p><p>è™•ç†çµæœ â¬‡ï¸<br><img src="https://i.imgur.com/XqVlcYG.gif" alt></p><hr><p>ï¼Šè‹¥æ²’æœ‰å®‰è£ImageMagickå‰‡æœƒç™¼ç”ŸåŸ·è¡ŒéŒ¯èª¤ï¼š[Errno 2] No such file or directory: â€˜unsetâ€™: â€˜unsetâ€™<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">OSError: MoviePy Error: creation of None failed because of the following error:</span><br><span class="line"></span><br><span class="line">[Errno 2] No such file or directory: <span class="string">'unset'</span>: <span class="string">'unset'</span>.</span><br><span class="line"></span><br><span class="line">.This error can be due to the fact that ImageMagick is not installed on your computer, </span><br><span class="line">or (<span class="keyword">for</span> Windows users) that you didn<span class="string">'t specify the path to the ImageMagick binary in </span></span><br><span class="line"><span class="string">file conf.py, or that the path you specified is incorrect</span></span><br></pre></td></tr></table></figure></p><p>Ref. <a href="https://github.com/Zulko/moviepy/issues/1003" target="_blank" rel="noopener">TextClip Doesnâ€™t work at all #1003</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;äººå€‘ç¶“å¸¸åœ¨é€šè¨Šè»Ÿé«”åˆ†äº«å„ç¨®å¤šåª’é«”è¨Šæ¯ï¼Œè€Œå½±ç‰‡é•·åº¦æˆ–æª”æ¡ˆå¤§å°å¯èƒ½æœƒæœ‰ä¸Šå‚³é™åˆ¶ï¼Œåªå¥½å°‡å…¶åˆ†å‰²æˆå¤šå€‹ç‰‡æ®µä¸Šå‚³ã€‚
    
    </summary>
    
      <category term="Python" scheme="https://laplacetw.github.io/categories/Python/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="moviepy" scheme="https://laplacetw.github.io/tags/moviepy/"/>
    
      <category term="mytoolbox" scheme="https://laplacetw.github.io/tags/mytoolbox/"/>
    
  </entry>
  
  <entry>
    <title>COSCUP 2020ï¼</title>
    <link href="https://laplacetw.github.io/coscup-2020/"/>
    <id>https://laplacetw.github.io/coscup-2020/</id>
    <published>2020-08-03T08:13:20.000Z</published>
    <updated>2020-08-05T06:29:26.940Z</updated>
    
    <content type="html"><![CDATA[<p>æ±ºå®šå¾—å¾ˆè‡¨æ™‚ï¼Œä½†ä»Šå¹´ä¸ç”¨æ¶ç¥¨ï¼Œåªè¦å¡«å¯«å¥åº·è²æ˜æ›¸å°±èƒ½åƒåŠ äº†ã€‚<a id="more"></a>é›–èªªCOSCUPæ˜¯å…è²»åƒåŠ çš„ï¼Œä½†å°è³‡å¦‚æˆ‘é‚„æ˜¯æœ‰å€‹äººè´ŠåŠ©é»å°éŒ¢ï¼Œå¸Œæœ›å¾€å¾Œè‡ªå·±æ¯å¹´éƒ½èƒ½åƒåŠ ã€‚å‰›å¥½æˆ‘çš„ä¸‰å€åˆ¸ä¹Ÿé‚„æ²’æƒ³åˆ°è¦ç”¨åœ¨å“ªï¼Œæ–¼æ˜¯è¶•ç·Šç¶å®šä¿¡ç”¨å¡ã€å…‰é€Ÿè¨‚äº†é«˜éµç¥¨å’Œå•†æ—…ï¼Œé€±äº”æ™šé–“å°±é£›å¥”åˆ°å°åŒ—æº–å‚™åƒåŠ äººç”Ÿç¬¬ä¸€å ´COSCUPğŸ˜ã€‚</p><p>COSCUP 2020å®˜ç¶²ï¼š<a href="https://coscup.org/2020/zh-TW" target="_blank" rel="noopener">https://coscup.org/2020/zh-TW</a></p><blockquote><p>é–‹ç™¼è€… (Coders)ã€ä½¿ç”¨è€… (Users) å’Œæ¨å»£è€… (Promoters) æ˜¯è®“è‡ªç”±åŠé–‹æ”¾åŸå§‹ç¢¼è»Ÿé«”ç™¼å…‰ç™¼ç†±çš„ä¸‰å¤§æ”¯æŸ±ï¼Œé€™å€‹ç ”è¨æœƒå°±æ˜¯å°ˆç‚ºé€™ä¸‰ç¨®äººèˆ‰è¾¦çš„ï¼šä½ å¯ä»¥æ˜¯ A è»Ÿé«”çš„é–‹ç™¼è€…ã€B è»Ÿé«”çš„æ¨å»£è€…ã€C è»Ÿé«”çš„ä½¿ç”¨è€…ï¼Œä¸è«–ä½ æ˜¯å·²ç¶“è¸å…¥è‡ªç”±åŠé–‹æ”¾åŸå§‹ç¢¼è»Ÿé«”é ˜åŸŸï¼Œé‚„æ˜¯ä¸€ç›´ç«™åœ¨é–€å£ä¸çŸ¥å¦‚ä½•å…¥é–€ï¼Œæ­¡è¿ä½ ä¾†åƒåŠ  COSCUP â€” Conference for Open Source Coders, Users and Promoters!</p></blockquote><p>é€™å…©å¤©çš„è½è…³è™•â¬‡ï¸<br><img src="https://i.imgur.com/eIUe5PV.jpg" alt></p><p>COSCUPä»Šå¹´ä¾ç„¶åœ¨å°ç§‘å¤§èˆ‰è¾¦ï¼Œæˆ‘ç…§å®˜ç¶²æ‰€èªªçš„æ­æ·é‹åˆ°å…¬é¤¨ç«™ï¼Œå¾2è™Ÿå‡ºå£æ—æ²¿è‘—èˆŸå±±è·¯è¡Œèµ°è‡³é¹¿é³´å ‚ï¼Œå†å³è½‰æ¬’æ¨¹é“èµ°åˆ°åº•ï¼Œé€™æ‰æŠµé”å°ç§‘å¤§â€¦æ­¥è¡Œç´„10åˆ†é˜ï¼Œç†±åˆ°çˆ†ç‚¸ã€‚</p><p>Badgeâ¬‡ï¸<br><img src="https://i.imgur.com/7Sy02Dw.jpg" alt></p><p>ä¸»è­°ç¨‹æœƒå ´â¬‡ï¸<br><img src="https://i.imgur.com/b80Zd26.jpg" alt></p><p>æˆ‘åœ¨è¡Œå‰æœ‰æ ¹æ“šè­°ç¨‹è¡¨ç¨å¾®è¦åŠƒäº†æƒ³è½çš„è­°ç¨‹ï¼Œé€™æ¬¡ä¹Ÿå’Œå¤šå¹´ä¸è¦‹çš„å‹äººç´„å¥½åœ¨COSCUPç¢°é¢ï¼Œæ™‚å…‰é£›é€ç›¸ç•¶æœ‰æ„Ÿâ€¦ä¸éä¸­åˆå¤–å‡ºç”¨é¤å›ä¾†æ²’è¶•ä¸Šå”é³³æ”¿å§”ä¸»è¬›çš„è­°é¡Œï¼Œç•¢ç«Ÿç¾åœ¨ç–«æƒ…ä»æœªè¶¨ç·©ï¼Œå„å€‹è­°ç¨‹éƒ½æ˜¯æœ‰äººæ•¸ç®¡åˆ¶çš„ï¼Œåªå¥½åœ¨å¤–é ­é€éç›´æ’­è§€çœ‹å¤©æ‰æŒ¨è¸¢å¤§è‡£çš„æ¼”è¬›ã€‚</p><p>ç¬¬ä¸€å¤©å°è±¡æœ€æ·±åˆ»çš„å°±æ˜¯äº¤å¤§é™³å¿—æˆæ•™æˆæ‰€ä¸»è¬›ï¼Œé—œæ–¼ä»–å€‘çš„åœ˜éšŠæ‰€é–‹ç™¼çš„<a href="https://github.com/free5gc/free5gc" target="_blank" rel="noopener">free5GC</a>ï¼Œç‚ºä¸–ç•Œç¬¬ä¸€å¥—ç¬¦åˆåœ‹éš›æ¨™æº–çš„é–‹æ”¾åŸå§‹ç¢¼5Gæ ¸å¿ƒç¶²è·¯ã€‚<br><img src="https://i.imgur.com/vxqXSla.jpg" alt><br><img src="https://i.imgur.com/RRdmuOt.jpg" alt></p><p>ç¬¬äºŒå¤©æˆ‘åªèƒ½åƒåŠ ä¸Šåˆçš„è­°é¡Œï¼Œç„¶å¾Œå°±è¦è¶•æ­é«˜éµå›å»äº†ï¼Œä½†ä»æ˜¯åƒåŠ äº†å¾ˆæ£’çš„å…©å ´è­°ç¨‹ï¼Œå…¶ä¸€æ˜¯Vueçš„ä½œè€…ã€å¤§ç¥<a href="https://twitter.com/youyuxi" target="_blank" rel="noopener">Evan You</a>ä¸»è¬›é—œæ–¼Vueç¬¬ä¸‰ç‰ˆçš„é–‹ç™¼éç¨‹æ‰€æ¶‰åŠçš„æŠ€è¡“é›£é»èˆ‡è¨­è¨ˆå–æ¨ï¼Œé›–ç„¶å—ç–«æƒ…å½±éŸ¿æ˜¯æ¡é ç«¯é€£ç·šæœƒè­°ï¼Œä½†é€™ä¾ç„¶æ˜¯ä»¤äººèˆˆå¥®çš„è­°ç¨‹ï¼æœ‰è¶£çš„æ˜¯ï¼Œåœ¨è­°ç¨‹æœ€å¾Œçš„QAæ™‚é–“ï¼Œæœ‰äººå•äº†Evan Youé€™æ¨£çš„ä¸€å€‹å•é¡Œï¼š</p><blockquote><p>è«‹å•Vueå’ŒReactæœ‰ä»€éº¼ä¸åŒå‘¢ï¼Ÿ</p></blockquote><p>çœ¾äººä¸ç¦å“„å ‚å¤§ç¬‘ğŸ˜‚ï¼ŒEvan Youä¹Ÿç„¡å¥ˆåœ°ç¬‘äº†ç¬‘ï¼Œä½†ä»–é‚„æ˜¯ç›¸ç•¶è€å¿ƒåœ°è§£é‡‹ã€æå‡ºä»–çš„çœ‹æ³•ã€‚</p><p>è­°ç¨‹çµæŸå¾Œï¼Œæˆ‘åˆç«‹åˆ»è¶•åˆ°å¦ä¸€å€‹æœƒå ´åƒåŠ é—œæ–¼Pi Thermal Cameraçš„è­°é¡Œï¼Œå› ç‚ºä¹‹å‰ç”¨Adafruit AMG8833 Moduleåšéä½è§£æåº¦çš„ç†±æˆåƒå„€ï¼Œæ‰€ä»¥å€‹äººæ˜¯ç›¸ç•¶æœŸå¾…é€™å ´è­°é¡Œçš„ï¼Œæˆ‘æ‰“ç®—ä¹‹å¾Œè³¼è²·æ›´é«˜è§£æåº¦çš„æ¨¡çµ„ä¾†é€²è¡Œé€²éšå¯¦ä½œã€‚</p><p>å¾Mozilla Taiwan Communityçš„æ”¤ä½ç²å¾—äº†å¸¥æ°£çš„Firefoxèƒ¸ç« ï¼â¬‡ï¸<br><img src="https://i.imgur.com/3XN2maN.jpg" alt></p><p>æ”¶é›†åˆ°äº†å¥½å¤šè²¼ç´™å‘€ğŸ™†â€â™‚ï¸ â¬‡ï¸<br><img src="https://i.imgur.com/7Jq8Gn9.jpg" alt></p><p>å®Œã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ±ºå®šå¾—å¾ˆè‡¨æ™‚ï¼Œä½†ä»Šå¹´ä¸ç”¨æ¶ç¥¨ï¼Œåªè¦å¡«å¯«å¥åº·è²æ˜æ›¸å°±èƒ½åƒåŠ äº†ã€‚
    
    </summary>
    
      <category term="Workshop" scheme="https://laplacetw.github.io/categories/Workshop/"/>
    
    
      <category term="coscup" scheme="https://laplacetw.github.io/tags/coscup/"/>
    
  </entry>
  
  <entry>
    <title>Arduino UNOï¼šCoffin Dance</title>
    <link href="https://laplacetw.github.io/arduino-uno-r3-buzzer-astronomia/"/>
    <id>https://laplacetw.github.io/arduino-uno-r3-buzzer-astronomia/</id>
    <published>2020-07-16T16:11:58.000Z</published>
    <updated>2020-07-17T14:13:34.472Z</updated>
    
    <content type="html"><![CDATA[<p>å…¶å¯¦åŸæ›²åå«Astronomiaå•Šï¼Œåªæ˜¯è¢«å¹¾ä½çŸ¥åèˆè€…(?)çµ¦æŠ¬å‡ºåäº†ã€‚<a id="more"></a>çœ‹åˆ°Arduinoç¯„ä¾‹ç¨‹å¼çš„toneMelodyç™¼å‡ºäº†ä¸€æ®µåƒæ˜¯gameoverçš„éŸ³æ•ˆï¼Œæˆ‘å°±æƒ³è®“èœ‚é³´å™¨æ’­æ”¾é€™æ®µç›¸ç•¶çŸ¥åçš„è¿·å› æ­Œæ›²ğŸ¤£</p><p>èœ‚é³´å™¨åˆ†ç‚ºæœ‰(éœ‡ç›ª)æºèœ‚é³´å™¨ï¼Œå’Œç„¡(éœ‡ç›ª)æºèœ‚é³´å™¨ï¼Œæœ‰æºèœ‚é³´å™¨å°±æ˜¯é«˜é›»ä½é€¼é€¼å«ï¼Œä½é›»ä½ä¸å«ï¼Œå°±é€™æ¨£ã€‚è€Œç„¡æºçš„èœ‚é³´å™¨å°±å¥½ç©äº†ï¼Œå¯ä»¥æ§åˆ¶å…¶è²éŸ³é »ç‡è€Œç”¢ç”ŸéŸ³èª¿é«˜ä½ã€‚</p><h3 id="Music-Scales"><a href="#Music-Scales" class="headerlink" title="Music Scales"></a>Music Scales</h3><p>åƒè€ƒç¯„ä¾‹ç¨‹å¼ä¸­æ‰€å¼•å…¥çš„pitches.hæª”æ¡ˆå…§å®¹ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_B0  31</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_C1  33</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_CS1 35</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_C4  262</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_CS4 277</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D4  294</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><br>é€™å€‹.hæª”å³æ˜¯å®šç¾©<a href="https://zh.wikipedia.org/wiki/%E5%94%B1%E5%90%8D" target="_blank" rel="noopener">å”±å</a>æ‰€å°æ‡‰çš„è²éŸ³é »ç‡(Hz)ï¼Œå…¶ä¸­C4å°±æ˜¯é‹¼ç´ç´éµçš„ä¸­å¤®Cï¼Œäº¦å³Cå¤§èª¿çš„ä½éŸ³Doã€‚å¦‚æ­¤ä¸€ä¾†åªè¦æœ‰ç°¡è­œï¼Œåƒæˆ‘é€™æ¨£å°æ¨‚ç†æ²’è¼’çš„äººä¹Ÿèƒ½æ•™Arduinoæ€éº¼æ¼”å¥éŸ³æ¨‚äº†å‘¢ã€‚</p><h3 id="LCD-Screen"><a href="#LCD-Screen" class="headerlink" title="LCD Screen"></a>LCD Screen</h3><p>ç„¶å¾Œæˆ‘æƒ³ç”¨å€‹LCDåœ¨æ—é‚Šé¡¯ç¤ºæ’­æ”¾çš„æ›²åï¼Œåƒè€ƒ<a href="https://blog.gtwang.org/iot/ywrobot-arduino-lcm-1602-iic-v1-lcd-display" target="_blank" rel="noopener">GTWçš„æ•™å­¸</a>è§£æ±ºäº†æˆ‘åœ¨ç·¨è­¯æ™‚ç™¼ç”Ÿçš„æ‰¾ä¸åˆ°å‡½å¼åº«çš„å•é¡Œã€‚è¦ä½¿ç”¨HD44780U 1602 LCDé ˆå®‰è£<a href="https://bitbucket.org/fmalpartida/new-liquidcrystal/downloads/" target="_blank" rel="noopener">LiquidCrystal library</a>ï¼Œä¸‹è¼‰å¾Œè§£å£“ç¸®åˆ°Arduinoçš„librariesè³‡æ–™å¤¾åº•ä¸‹å³å¯ã€‚ä½†é€™é‚Šåˆæœ‰å€‹å°å•é¡Œï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Arduino:1.8.13 (Mac OS X), é–‹ç™¼æ¿:"Arduino Uno"</span><br><span class="line">/Users/nick/Documents/Arduino/libraries/LiquidCrystal/I2CIO.cpp:35:10: fatal error: ../Wire/Wire.h: No such file or directory</span><br><span class="line"><span class="meta"> #</span>include &lt;../Wire/Wire.h&gt;</span><br></pre></td></tr></table></figure></p><p>é€™å°±è¦æ‰¾åˆ°å‰›å‰›è§£å£“ç¸®çš„è³‡æ–™å¤¾ä¸­çš„I2CIO.cppï¼Œå°‡#include &lt;../Wire/Wire.h&gt;æ”¹ç‚º#include &lt;Wire.h&gt;ã€‚</p><p>*1602 LCDçš„pinè…³èªªæ˜èˆ‡åƒç´ é»æ§åˆ¶ç­‰æ•™å­¸ï¼š<a href="https://lastminuteengineers.com/arduino-1602-character-lcd-tutorial/" target="_blank" rel="noopener">Interfacing 16Ã—2 Character LCD Module with Arduino</a></p><h3 id="Play-Music"><a href="#Play-Music" class="headerlink" title="Play Music!"></a>Play Music!</h3><p>ç¶“éå¼·è¿«ç—‡ä¼¼çš„åè¦†è†è½å’Œèª¿æ•´ç¯€æ‹ï¼Œæˆ‘è¦ºå¾—å¾ˆæ¥è¿‘åŸæ›²äº†ğŸ˜†<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;LiquidCrystal_I2C.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"pitches.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_BUZ 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Ref. https://youtu.be/miwoTFkiIfQ</span></span><br><span class="line"><span class="keyword">int</span> melody[] = &#123;</span><br><span class="line">    NOTE_AS4, NOTE_AS4, NOTE_AS4, NOTE_AS4,</span><br><span class="line">    NOTE_D5, NOTE_D5, NOTE_D5, NOTE_D5,</span><br><span class="line">    NOTE_C5, NOTE_C5, NOTE_C5, NOTE_C5,</span><br><span class="line">    NOTE_F5, NOTE_F5, NOTE_F5, NOTE_F5,</span><br><span class="line">    NOTE_G5, NOTE_G5, NOTE_G5, NOTE_G5, NOTE_G5, NOTE_G5,</span><br><span class="line">    NOTE_G5, NOTE_G5, NOTE_G5, NOTE_G5, NOTE_G5, NOTE_G5,</span><br><span class="line">    NOTE_C5, NOTE_AS4, NOTE_A4, NOTE_G4,</span><br><span class="line">    NOTE_G4, <span class="number">0</span>, NOTE_G4, NOTE_D5, NOTE_C5, NOTE_AS4, NOTE_A4, NOTE_A4, NOTE_A4,</span><br><span class="line">    NOTE_C5, NOTE_AS4, NOTE_A4, NOTE_G4, NOTE_G4, NOTE_G4,</span><br><span class="line">    NOTE_AS5, NOTE_A5, NOTE_AS5, NOTE_A5, NOTE_AS5, NOTE_G4,</span><br><span class="line">    NOTE_AS5, NOTE_A5, NOTE_AS5, NOTE_A5, NOTE_AS5, NOTE_G4</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// note durations: 4 = quarter note, 8 = eighth note, etc.:</span></span><br><span class="line">byte noteDurations[] = &#123;</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,</span><br><span class="line">    <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set the pins on the I2C chip used for LCD connections:</span></span><br><span class="line"><span class="comment">//                    addr, en,rw,rs,d4,d5,d6,d7,bl,blpol</span></span><br><span class="line"><span class="function">LiquidCrystal_I2C <span class="title">lcd</span><span class="params">(<span class="number">0x27</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">3</span>, POSITIVE)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    lcd.begin(<span class="number">16</span>, <span class="number">2</span>); <span class="comment">// lcd initial</span></span><br><span class="line">    lcd.backlight(); <span class="comment">// turn on the backlight</span></span><br><span class="line">    lcd.setCursor(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    lcd.print(<span class="string">"Play:Astronomia"</span>);</span><br><span class="line">    lcd.setCursor(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    lcd.print(<span class="string">"(Coffin Dance)"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// iterate over the notes of the melody:</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> thisNote = <span class="number">0</span>; thisNote &lt; <span class="number">59</span>; thisNote++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// to calculate the note duration, take one second divided by the note type.</span></span><br><span class="line">        <span class="comment">//e.g. quarter note = 1000 / 4, eighth note = 1000/8, etc.</span></span><br><span class="line">        <span class="keyword">int</span> noteDuration = <span class="number">1000</span> / noteDurations[thisNote];</span><br><span class="line">        tone(PIN_BUZ, melody[thisNote], noteDuration);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// to distinguish the notes, set a minimum time between them.</span></span><br><span class="line">        <span class="comment">// the note's duration + 30% seems to work well:</span></span><br><span class="line">        <span class="keyword">int</span> pauseBetweenNotes = noteDuration * <span class="number">1.30</span>;</span><br><span class="line">        delay(pauseBetweenNotes);</span><br><span class="line">        <span class="comment">// stop the tone playing:</span></span><br><span class="line">        noTone(PIN_BUZ);</span><br><span class="line">    &#125;</span><br><span class="line">    delay(<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ„Ÿè¬<a href="https://youtu.be/miwoTFkiIfQ" target="_blank" rel="noopener">é€™ä½å¤§å”çš„å½ˆå¥æ•™å­¸</a>ã€‚<br><div class="video-container"><iframe src="//www.youtube.com/embed/wqYNDwmzXDE" frameborder="0" allowfullscreen></iframe></div></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…¶å¯¦åŸæ›²åå«Astronomiaå•Šï¼Œåªæ˜¯è¢«å¹¾ä½çŸ¥åèˆè€…(?)çµ¦æŠ¬å‡ºåäº†ã€‚
    
    </summary>
    
      <category term="Arduino" scheme="https://laplacetw.github.io/categories/Arduino/"/>
    
    
      <category term="IoT" scheme="https://laplacetw.github.io/tags/IoT/"/>
    
      <category term="arduino" scheme="https://laplacetw.github.io/tags/arduino/"/>
    
  </entry>
  
  <entry>
    <title>Arduino UNOï¼šRGBæ¨¡çµ„ã€PWMã€è² æ•¸</title>
    <link href="https://laplacetw.github.io/arduino-uno-r3-rgb-module/"/>
    <id>https://laplacetw.github.io/arduino-uno-r3-rgb-module/</id>
    <published>2020-07-13T14:42:09.000Z</published>
    <updated>2020-07-15T09:24:56.696Z</updated>
    
    <content type="html"><![CDATA[<p>What happens if we give a negative value to analogWrite() ?<a id="more"></a>ç•¶æˆ‘çœ‹äº†learning kitæä¾›çš„ã€é—œæ–¼RGBæ¨¡çµ„çš„ç¯„ä¾‹ï¼Œåœ¨è¼¸å‡ºçµ¦RGBçš„æ•¸å€¼è®ŠåŒ–éç¨‹ä¸­æ˜¯æœ‰å‡ºç¾è² å€¼çš„ï¼Œæ–¼æ˜¯æˆ‘å›°æƒ‘äº†å¾ˆä¹…ï¼Œæƒ³å¼„æ˜ç™½analogWrite()å¦‚ä½•è™•ç†è² æ•¸ã€‚</p><h3 id="PWM"><a href="#PWM" class="headerlink" title="PWM"></a>PWM</h3><p>PWM = Pulse Width Modulationï¼Œè„ˆè¡å¯¬åº¦èª¿è®Šï¼Œæ˜¯ä¸€ç¨®åˆ©ç”¨æ•¸ä½è„ˆè¡è¨Šè™Ÿæ¨¡æ“¬é¡æ¯”è¨Šè™Ÿçš„æŠ€è¡“ï¼Œå¦‚ä½•æ¨¡æ“¬å‘¢ï¼Ÿæˆ‘å€‘çŸ¥é“æ•¸ä½è¨Šè™Ÿåªæœ‰0èˆ‡1å…©ç¨®ç‹€æ…‹ï¼Œä¹Ÿå°±æ˜¯ä½é›»ä½èˆ‡é«˜é›»ä½ï¼Œè€Œåœ¨é »ç‡ä¸è®Šçš„ç‹€æ…‹ä¸‹ï¼Œæ”¹è®Šå·¥ä½œé€±æœŸå¤§å°ï¼Œä½¿æ•´é«”å¹³å‡é›»å£“å€¼ä¸Šå‡æˆ–ä¸‹é™ä¾†åšåˆ°æ§åˆ¶æˆ–ç¯€èƒ½çš„è¡Œç‚ºï¼Œé€™å°±æ˜¯PWMã€‚ç™½è©±é»èªªå‘¢ï¼Œå°±æ˜¯å¿«é€Ÿçš„é–‹ã€é—œã€é–‹ã€é—œã€é–‹ã€é—œâ€¦ä»¥LEDç‡ˆä¾†èªªï¼Œå°±æ˜¯å¿«åˆ°è‚‰çœ¼ç„¡æ³•å¯Ÿè¦ºçš„ç¨‹åº¦ï¼Œç•¶æˆ‘å€‘èª¿æ•´å·¥ä½œé€±æœŸä¸­é–‹å’Œé—œçš„æŒçºŒæ™‚é–“æ¯”ä¾‹ï¼Œè‹¥é–‹çš„æ™‚é–“è¼ƒé•·ï¼Œé‚£éº¼LEDç‡ˆçœ‹èµ·ä¾†å°±æ¯”è¼ƒäº®ï¼Œåä¹‹å‰‡è¼ƒæš—ã€‚</p><p>åœ¨Arduinoä¸­å¯ç”¨PWMæ¨¡æ“¬0~5vä¹‹é–“çš„é›»å£“ã€‚åœ–ç‰‡é€£çµè‡ª<a href="https://www.arduino.cc/en/tutorial/PWM" target="_blank" rel="noopener">arduino.cc</a>â¬‡ï¸<br><img src="https://www.arduino.cc/en/uploads/Tutorial/pwm.gif" alt></p><h3 id="RGB-Module"><a href="#RGB-Module" class="headerlink" title="RGB Module"></a>RGB Module</h3><p>æˆ‘æ‰‹é‚Šçš„æ˜¯å…±é™½æ¥µRGBæ¨¡çµ„ï¼Œä¹Ÿå°±æ˜¯å…¶4æ ¹æ¥è…³ç‚ºVCCã€Rã€Gã€Bã€‚<br><img src="https://i.imgur.com/R6BxKqA.jpg" alt></p><p>RGBæ¨¡çµ„ç¯„ä¾‹ç¨‹å¼ï¼š<br>æ­¤ç¯„ä¾‹ä½¿ç”¨æœ‰PWMåŠŸèƒ½çš„digital I/O pin 9 ~ 11ï¼ŒåŸå§‹ç¯„ä¾‹æ˜¯æœ‰å°é€™3å€‹è…³ä½è¨­å®špin modeï¼Œä½†<a href="https://www.arduino.cc/reference/en/language/functions/analog-io/analogwrite/" target="_blank" rel="noopener">Arduinoå®˜æ–¹èªªanalogWrite()ä¸éœ€è¦è¨­å®špin modeå–”</a>ï¼š</p><blockquote><p>You do not need to call pinMode() to set the pin as an output before calling analogWrite().<br>The analogWrite function has nothing to do with the analog pins or the analogRead function.</p></blockquote><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_G 9</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_B 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_R 11</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Serial.begin(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">255</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">int</span> blue = <span class="number">128</span> -i;</span><br><span class="line">        <span class="comment">//twos_complement(blue);</span></span><br><span class="line"></span><br><span class="line">        analogWrite(PIN_R, i);</span><br><span class="line">        analogWrite(PIN_B, blue); <span class="comment">// 127 -&gt; 0 -&gt; 127 </span></span><br><span class="line">        analogWrite(PIN_G, <span class="number">255</span> - i);</span><br><span class="line"></span><br><span class="line">        delay(<span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">255</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> blue = <span class="number">128</span> -i;</span><br><span class="line">        <span class="comment">//twos_complement(blue);</span></span><br><span class="line"></span><br><span class="line">        analogWrite(PIN_R, i); </span><br><span class="line">        analogWrite(PIN_B, blue); <span class="comment">// 128 -&gt; 0 -&gt; 126 </span></span><br><span class="line">        analogWrite(PIN_G, <span class="number">255</span> - i);</span><br><span class="line"></span><br><span class="line">        delay(<span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">twos_complement</span><span class="params">(<span class="keyword">int</span> binary)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (binary &lt; <span class="number">0</span>) Serial.println((~binary) + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> Serial.println(binary);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/WQXvn2G.gif" alt></p><h3 id="analogWrite"><a href="#analogWrite" class="headerlink" title="analogWrite()"></a>analogWrite()</h3><p>å¾ä¸Šé¢çš„ç¯„ä¾‹ç¨‹å¼å¯ä»¥çœ‹åˆ°ï¼ŒanalogWrite()å¯«å…¥RGB moduleçš„B pinå€¼ï¼Œä¹Ÿå°±æ˜¯for loopä¸­çš„è®Šæ•¸blueï¼Œå®ƒæ˜¯æœƒå‡ºç¾è² å€¼çš„ã€‚ä½†analogWrite()åªæ¥å—0 ~ 255ä¹‹é–“çš„å€¼å‘¢ï¼Ÿï¼Ÿï¼Ÿå¾Œä¾†æˆ‘æ‰¾åˆ°<a href="https://techexplorations.com/blog/arduino/blog-what-happens-if-you-give-a-negative-pwm-value-to-analogwrite/" target="_blank" rel="noopener">ä¸€ç¯‡æ–‡ç« </a>èªªArduinoä½¿ç”¨äºŒè£œæ•¸ä¾†è™•ç†è² æ•¸ï¼Œæ–¼æ˜¯æˆ‘å¯«äº†twos_complement()ä¾†è¨ˆç®—äºŒè£œæ•¸ä¸¦printå‡ºå¯¦éš›ä¸Šå¯«å…¥B pinçš„å€¼ã€‚</p><h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref."></a>Ref.</h3><p><a href="https://www.arduino.cc/en/tutorial/PWM" target="_blank" rel="noopener">https://www.arduino.cc/en/tutorial/PWM</a><br><a href="http://wiki.csie.ncku.edu.tw/embedded/PWM" target="_blank" rel="noopener">http://wiki.csie.ncku.edu.tw/embedded/PWM</a><br><a href="https://www.arduino.cc/reference/en/language/functions/analog-io/analogwrite/" target="_blank" rel="noopener">https://www.arduino.cc/reference/en/language/functions/analog-io/analogwrite/</a><br><a href="https://techexplorations.com/blog/arduino/blog-what-happens-if-you-give-a-negative-pwm-value-to-analogwrite/" target="_blank" rel="noopener">https://techexplorations.com/blog/arduino/blog-what-happens-if-you-give-a-negative-pwm-value-to-analogwrite/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;What happens if we give a negative value to analogWrite() ?
    
    </summary>
    
      <category term="Arduino" scheme="https://laplacetw.github.io/categories/Arduino/"/>
    
    
      <category term="IoT" scheme="https://laplacetw.github.io/tags/IoT/"/>
    
      <category term="arduino" scheme="https://laplacetw.github.io/tags/arduino/"/>
    
  </entry>
  
  <entry>
    <title>æ­£ç¢ºç†è§£YOLOçš„è¾¨è­˜æº–ç¢ºç‡</title>
    <link href="https://laplacetw.github.io/data-sci-yolo-accuracy/"/>
    <id>https://laplacetw.github.io/data-sci-yolo-accuracy/</id>
    <published>2020-07-07T17:56:17.000Z</published>
    <updated>2020-08-05T06:36:45.670Z</updated>
    
    <content type="html"><![CDATA[<p>é€™å¹¾å¤©åª’é«”å ±å°äº†<a href="https://arxiv.org/abs/2004.10934" target="_blank" rel="noopener">YOLOv4</a>çš„ç›¸é—œæ–°èï¼Œæåˆ°å…¶ç‚ºä¸­ç ”é™¢ç ”ç©¶åœ˜éšŠèˆ‡ä¿„ç¾…æ–¯é–‹ç™¼è€…æ‰€å…±åŒç ”ç™¼ï¼Œè€Œé€™å…¨ä¸–ç•Œæœ€å¿«æœ€æº–çš„ç‰©é«”åµæ¸¬æ¼”ç®—æ³•ï¼Œå…¶å¹³å‡æº–ç¢ºç‡ç‚º43.5%ï¼Œæ–¼æ˜¯é€™43.5%çš„æº–ç¢ºç‡è¿…é€Ÿå¼•ä¾†è¨±å¤šä¸æ˜å°±è£¡çš„äººç•™è¨€æ‰¹è©•ã€‚<a id="more"></a>ä¸æ‡‚æ²’æœ‰é—œä¿‚ï¼Œæˆ‘å€‘å¯ä»¥å…ˆæŸ¥è­‰ï¼Œå†æå‡ºè³ªç–‘ï¼Œè€Œéåªæ˜¯ã€Œæˆ‘è¦ºå¾—é€™æº–ç¢ºç‡æœ‰å¤ ä½ã€å°±è¼•ç‡åœ°æ‰¹è©•æŒ‡è²¬(ä¸­ç ”é™¢é›£é“æ˜¯èƒ½éš¨ä¾¿èª‡å¤§å…¶è©çš„ç ”ç©¶æ©Ÿæ§‹å—ï¼Ÿ)ï¼Œä½†ä½ å¯èƒ½é€£state-of-the-artæ„å‘³ä»€éº¼éƒ½ä¸æ˜ç™½ã€‚é€™å°ç„¡ç§è²¢ç»çš„<a href="https://zh.wikipedia.org/wiki/%E9%96%8B%E6%BA%90%E8%BB%9F%E9%AB%94" target="_blank" rel="noopener">Open Source</a>é–‹ç™¼è€…ä¸€é»éƒ½ä¸å…¬å¹³ï¼ŒçœŸæ˜¯ç«™è‘—èªªè©±ä¸è…°ç–¼ã€èººè‘—ç•™è¨€ä¸è²»å‹ã€‚</p><h2 id="ä»€éº¼æ˜¯YOLO"><a href="#ä»€éº¼æ˜¯YOLO" class="headerlink" title="ä»€éº¼æ˜¯YOLO?"></a>ä»€éº¼æ˜¯YOLO?</h2><p></p><p><a href="https://pjreddie.com/darknet/yolo/" target="_blank" rel="noopener">YOLOå®˜ç¶²</a>æ˜¯é€™éº¼ä»‹ç´¹å®ƒè‡ªå·±çš„ï¼š</p><blockquote><p>You only look once (YOLO) is a state-of-the-art, real-time object detection system. On a Pascal Titan X it processes images at 30 FPS and has a mAP of 57.9% on COCO test-dev. (YOLOæ˜¯æœ€å…ˆé€²çš„å³æ™‚ç‰©é«”åµæ¸¬ç³»çµ±ï¼Œåœ¨Pascal Titan X GPUä¸Šä»¥30 FPSçš„é€Ÿåº¦è™•ç†å½±åƒï¼Œæ–¼COCOæ¸¬è©¦é–‹ç™¼è³‡æ–™é›†ä¸­çš„mAPç‚º57.9%)</p></blockquote><p>ç„¶å¾Œæˆ‘å€‘å¯èƒ½åˆæœƒç–‘æƒ‘ï¼šFPS? COCO? mAP? åˆ¥è‘—æ€¥ï¼Œå¤šç†è§£ä¸€ä¸‹ç‰©é«”åµæ¸¬ã€‚</p><p>é›»è…¦æ˜¯å¦‚ä½•é€²è¡Œç‰©é«”åµæ¸¬ï¼Ÿä¸€èˆ¬åšæ³•æ˜¯é€éå„ç¨®é¸æ“‡æ€§æœç´¢æ¼”ç®—æ³•(selective search)ï¼Œåµæ¸¬ã€åˆ†å‰²å‡ºå½±åƒä¸­å¯èƒ½æœ‰ç‰©é«”å­˜åœ¨çš„å€åŸŸ(region proposal)ï¼Œé‚£éº¼æ²’æœ‰ç‰©é«”å­˜åœ¨çš„å€åŸŸå°±ä¸éœ€è¦é€²è¡Œç„¡æ•ˆçš„é‹ç®—ï¼Œä¹Ÿèƒ½åŠ å¿«è™•ç†é€Ÿåº¦ï¼Œæ¥è‘—å†å°é€™äº›å¯èƒ½æœ‰ç‰©é«”å­˜åœ¨çš„å€åŸŸé€²è¡Œè¾¨è­˜åˆ†é¡ã€‚å¦‚æ­¤å…ˆæœç´¢region proposalå†é€²è¡Œè¾¨è­˜çš„è™•ç†æ–¹å¼ç¨±ç‚ºTwo Stage(e.g. R-CNN)ã€‚<br><img src="https://i.imgur.com/O62Ncev.png" alt></p><p>ä½†é€™æœ‰å€‹æ½›åœ¨å•é¡Œï¼Œå‡è¨­ç³»çµ±åµæ¸¬å‡ºå½±åƒä¸­æœ‰æ•¸ç™¾å€‹ç”šè‡³ä¸Šåƒå€‹region proposalï¼Œé‚£éº¼å°±å¾—é€²è¡Œä¸Šåƒæ¬¡çš„è¾¨è­˜é‹ç®—â€¦å€‹äººé›»è…¦å³ä¾¿æœ‰é«˜éšGPUäº¦å¯èƒ½åšä¸åˆ°å³æ™‚é‹ç®—ï¼Œæ›´é‘è«–è¡Œå‹•è£ç½®ã€‚</p><p></p><p>åœ–ç‰‡é€£çµè‡ª<a href="https://github.com/ouyanghuiyu/darknet_face_with_landmark" target="_blank" rel="noopener">https://github.com/ouyanghuiyu/darknet_face_with_landmark</a>â¬‡ï¸<br><img src="https://raw.githubusercontent.com/ouyanghuiyu/darknet_face_with_landmark/master/test_imgs/selfie.jpg" alt></p><p>æ–¼æ˜¯æˆ‘å€‘æœ‰äº†One Stage(e.g. YOLO)ï¼Œç‰©é«”åµæ¸¬å’Œè¾¨è­˜ä¸€æ°£å‘µæˆï¼Œé€™æ¨£çš„åšæ³•èƒ½å¤§å¹…æå‡è™•ç†é€Ÿåº¦ã€‚ä¸éæœ‰ä¸€å¥½æ²’å…©å¥½ï¼Œè¦é€Ÿåº¦å¿«ä½ å°±å¾—åœ¨æº–ç¢ºç‡åšé»å–æ¨ï¼Œå› æ­¤æ•´é«”è¾¨è­˜æº–ç¢ºç‡ç›¸è¼ƒTwo Stageä¾†å¾—å·®ä¸€äº›ï¼Œä½†One Stageåœ¨è¨±å¤šæ‡‰ç”¨ä¸Šä»æ˜¯å¯æ¥å—ç¯„åœå…§ï¼Œå…©ç¨®ä½œæ³•å„æœ‰å…¶å„ªå‹¢ï¼Œç«¯çœ‹éœ€æ±‚ã€‚<br><img src="https://i.imgur.com/OdWNkUk.png" alt></p><p>å›åˆ°YOLOï¼Œè‡ªå¾2015å¹´ç™¼ä½ˆv1ç™¼å±•è‡³ä»Šï¼Œæœ€æ–°ç‰ˆæœ¬ç‚ºä»Šå¹´4æœˆåº•æ‰€ç™¼ä½ˆçš„v4ï¼Œè™•ç†é€Ÿåº¦ç°¡ç›´å¿«åˆ°æ²’æœ‹å‹ï¼Œä½†YOLOçš„å‰µé€ è€…<a href="https://pjreddie.com/" target="_blank" rel="noopener">Joseph Redmon</a>ä»Šå¹´äºŒæœˆ<a href="https://twitter.com/pjreddie/status/1230524770350817280" target="_blank" rel="noopener">æ–¼æ¨ç‰¹å®£ä½ˆé€€å‡ºé›»è…¦è¦–è¦ºç ”ç©¶é ˜åŸŸ</a>ï¼Œç•¶æ™‚å¼•èµ·ç›¸ç•¶å¤§çš„è¨è«–ï¼Œå¤šå°‘äººå¼•é ¸æœŸç›¼YOLOçš„ä¸‹å€‹ç‰ˆæœ¬ï¼ŒJoseph Redmonè¡¨ç¤ºè‡ªå·±çš„å·¥ä½œå°äººé¡ç¤¾æœƒçš„è¡æ“Šæ€§å¯¦åœ¨å¤ªå¤§äº†ï¼Œå³ä½¿ç†±æ„›é›»è…¦è¦–è¦ºçš„ç ”ç©¶å·¥ä½œï¼Œä½†å…¶çµ‚ç©¶ç„¡æ³•å¿½è¦–è‡ªå·±çš„ç ”ç©¶æˆæœåœ¨è»äº‹ç§‘æŠ€æ‡‰ç”¨ä»¥åŠå€‹äººéš±ç§æ–¹é¢å¯èƒ½å°è‡´çš„å•é¡Œã€‚å› æ­¤YOLOv4ç‚ºä¿„ç¾…æ–¯é–‹ç™¼è€…ã€YOLOv3çš„å¯¦ç¾ â€” Darknetä½œè€…<a href="https://twitter.com/alexeyab84" target="_blank" rel="noopener">Alexey Bochkovskiy</a>èˆ‡ä¸­ç ”é™¢è³‡ç§‘æ‰€æ‰€é•·Hong-Yuan LiaoåŠåšå£«å¾Œç ”ç©¶å“¡Chien-Yao Wangç­‰ä¸‰äººåŸºæ–¼å¾Œå…©ä½ç ”ç™¼çš„CSPNetï¼Œå°YOLOçš„æœ€æ–°ç ”ç©¶æˆæœã€‚è€ŒJoseph Redmonä¹Ÿ<a href="https://github.com/pjreddie/darknet#darknet" target="_blank" rel="noopener">æ›´æ–°</a>äº†YOLOv4çš„è«–æ–‡èˆ‡åŸå§‹ç¢¼é€£çµï¼Œé¡¯ç¤ºYOLOv4ç‚ºå®˜æ–¹æ‰€èªå¯çš„å¾Œç¹¼ç‰ˆæœ¬ã€‚</p><h2 id="ä»€éº¼æ˜¯FPS"><a href="#ä»€éº¼æ˜¯FPS" class="headerlink" title="ä»€éº¼æ˜¯FPS?"></a>ä»€éº¼æ˜¯FPS?</h2><p></p><p>FPSå°±æ˜¯å½±æ ¼ç‡æˆ–æ˜¯ç¶“å¸¸è½åˆ°çš„å¹€æ•¸ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E5%BD%B1%E6%A0%BC%E7%8E%87" target="_blank" rel="noopener">ç¶­åŸºç™¾ç§‘</a>å°±æœ‰å¯«äº†æ²’å•¥å¥½èªªï¼š</p><blockquote><p>å½±æ ¼ç‡æ˜¯ç”¨æ–¼æ¸¬é‡é¡¯ç¤ºå½±æ ¼æ•¸çš„é‡åº¦ã€‚æ¸¬é‡å–®ä½ç‚ºã€Œæ¯ç§’é¡¯ç¤ºå½±æ ¼æ•¸ã€(Frame per Secondï¼ŒFPS)æˆ–ã€Œèµ«èŒ²ã€ï¼Œä¸€èˆ¬ä¾†èªªFPSç”¨æ–¼æè¿°å½±ç‰‡ã€é›»å­ç¹ªåœ–æˆ–éŠæˆ²æ¯ç§’æ’­æ”¾å¤šå°‘å½±æ ¼ã€‚</p></blockquote><h2 id="ä»€éº¼æ˜¯COCOè³‡æ–™é›†ï¼Ÿ"><a href="#ä»€éº¼æ˜¯COCOè³‡æ–™é›†ï¼Ÿ" class="headerlink" title="ä»€éº¼æ˜¯COCOè³‡æ–™é›†ï¼Ÿ"></a>ä»€éº¼æ˜¯COCOè³‡æ–™é›†ï¼Ÿ</h2><p></p><p><a href="https://cocodataset.org/" target="_blank" rel="noopener">COCOè³‡æ–™é›†(Common Objects in Context)</a>æ˜¯å¾®è»Ÿæ‰€ç™¼ä½ˆã€æ“æœ‰33è¬å¼µå½±åƒçš„å¤§å‹é–‹æºè³‡æ–™é›†ï¼š</p><blockquote><p>COCO is a large-scale object detection, segmentation, and captioning dataset. COCO has several features:</p><ul><li>Object segmentation</li><li>Recognition in context</li><li>Superpixel stuff segmentation</li><li>330K images (&gt;200K labeled)</li><li>1.5 million object instances</li><li>80 object categories</li><li>91 stuff categories</li><li>5 captions per image</li><li>250,000 people with keypoints</li></ul></blockquote><h2 id="ä»€éº¼æ˜¯mAPï¼Ÿ"><a href="#ä»€éº¼æ˜¯mAPï¼Ÿ" class="headerlink" title="ä»€éº¼æ˜¯mAPï¼Ÿ"></a>ä»€éº¼æ˜¯mAPï¼Ÿ</h2><p></p><p>mAPçš„â€mâ€ä»£è¡¨â€meanâ€ï¼Œç°¡è€Œè¨€ä¹‹ï¼ŒAP(average precision)æ˜¯ç”¨ä¾†è©•ä¼°ç‰©é«”è­˜åˆ¥æ¨¡å‹æ•ˆèƒ½è¡¨ç¾çš„æŒ‡æ¨™ä¹‹ä¸€ã€‚æˆ‘åƒè€ƒç¶­åŸºç™¾ç§‘<a href="https://en.wikipedia.org/wiki/Precision_and_recall" target="_blank" rel="noopener">Precison and Recall</a>é é¢çš„èªªæ˜åœ–ç‰‡ï¼Œé‡æ–°ç¹ªè£½äº†ä¸‹æ–¹é€™å¼µåœ–(åŸåœ–ç‚ºç›´å‘)ä¾†èªªæ˜ã€‚<br>*é—œæ–¼Precision and Recallå¯åƒè€ƒï¼š<a href="https://medium.com/@ChingTien/529d18abc3a" target="_blank" rel="noopener">å¿ƒç†å­¸å’Œæ©Ÿå™¨å­¸ç¿’ä¸­çš„ Accuracyã€Precisionã€Recall Rate å’Œ Confusion Matrix</a><br><img src="https://i.imgur.com/KgFbe8Y.png" alt></p><p>å‡è¨­æˆ‘ç¾åœ¨è¦å¾ä¸€äº›å«æœ‰å„ç¨®ç‰©é«”çš„å½±åƒä¸­æ‰¾å‡ºç‹—çš„åœ–ç‰‡ï¼Œé‚£éº¼ä¸Šåœ–å·¦å´æ·±ç°è‰²çŸ©å½¢ä»£è¡¨ç‹—çš„åœ–ç‰‡é›†åˆï¼Œå³å´æ·ºç°è‰²å½±åƒä»£è¡¨å…¶ä»–ç‰©é«”çš„åœ–ç‰‡é›†åˆï¼Œä¸­é–“çš„å¤§åœ“åœˆå‰‡æ˜¯è¢«åˆ¤å®šç‚ºç‹—çš„åœ–ç‰‡çš„é›†åˆï¼Œå…¶ä¸­åŒ…å«çœŸçš„ç‚ºç‹—çš„åœ–ç‰‡(åˆ†é¡æ­£ç¢º)ä»¥åŠä¸æ˜¯ç‹—çš„åœ–ç‰‡(åˆ†é¡éŒ¯èª¤)ã€‚æ‰€ä»¥precisionå°±ä»£è¡¨åœ¨ã€Œæ‰€æœ‰è¢«åˆ¤å®šç‚ºç‹—çš„åœ–ç‰‡ã€ä¹‹ä¸­æœ‰å¤šå°‘<strong>æ¯”ä¾‹</strong>æ˜¯ã€Œç‹—çš„åœ–ç‰‡ã€ã€‚</p><p>è‡³æ–¼average precisionçš„è¨ˆç®—å‰‡æ˜¯å°‡precisionåŠ ç¸½å¾Œå–å¹³å‡å€¼ï¼š</p><table><thead><tr><th style="text-align:center">åˆ¤å®šç‚ºç‹—ä¸”çœŸçš„ç‚ºç‹—çš„åœ–ç‰‡æ•¸</th><th style="text-align:center">åˆ¤å®šç‚ºç‹—çš„åœ–ç‰‡æ•¸</th><th style="text-align:center">Precision</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">2</td><td style="text-align:center">1/2</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">3</td><td style="text-align:center">1/3</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">4</td><td style="text-align:center">2/4</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">5</td><td style="text-align:center">2/5</td></tr><tr><td style="text-align:center">â€¦</td><td style="text-align:center">â€¦</td><td style="text-align:center">â€¦</td></tr></tbody></table><p>åˆç‰©é«”è­˜åˆ¥æœƒæœ‰è¨±å¤šé¡åˆ¥ï¼Œä»¥COCOè³‡æ–™é›†è€Œè¨€å°±æœ‰80ç¨®object categoriesï¼Œmean average precisionä¾¿æ˜¯æ‰€æœ‰é¡åˆ¥APåŠ ç¸½çš„å¹³å‡å€¼ã€‚</p><p>ï¼ŠCOCOè³‡æ–™é›†ç©¶ç«Ÿæœ‰å¤šå°‘å€‹é¡åˆ¥ï¼Ÿç¶²è·¯ä¸Šæœ‰äººèªª80ç¨®ï¼Œä¹Ÿæœ‰äººèªª91ç¨®ï¼Œåˆç†æ¨æ¸¬æ˜¯å°‡object categoriesè·Ÿstuff categoriesææ··äº†ï¼Œé€™å…©ç¨®åˆ†é¡çš„å·®ç•°æˆ‘ä¹Ÿæ˜¯çœ‹äº†æŸç¯‡è«–æ–‡çš„æ‘˜è¦æ‰æ˜ç™½ï¼Œæ ¹æ“š<a href="https://arxiv.org/abs/1612.03716" target="_blank" rel="noopener">COCO-Stuff: Thing and Stuff Classes in Context</a>æ‰€è¿°ï¼š</p><blockquote><p>Semantic classes can be either things (objects with a well-defined shape, e.g. car, person) or stuff (amorphous background regions, e.g. grass, sky).</p></blockquote><p>objecté¡å°±æ˜¯èƒ½æ˜ç¢ºç•Œå®šå½¢ç‹€çš„<strong>ç‰©é«”</strong>ï¼Œä¾‹å¦‚æ±½è»Šã€äººã€‚stuffé¡å‰‡æ˜¯æ²’æœ‰ç‰¹å®šå½¢ç‹€æˆ–é‚Šç•Œçš„<strong>èƒŒæ™¯å€åŸŸ</strong>ï¼Œä¾‹å¦‚è‰åœ°ã€å¤©ç©ºã€‚æ‡‚ï¼</p><h2 id="æ•ˆèƒ½è©•ä¼°æŒ‡æ¨™"><a href="#æ•ˆèƒ½è©•ä¼°æŒ‡æ¨™" class="headerlink" title="æ•ˆèƒ½è©•ä¼°æŒ‡æ¨™"></a>æ•ˆèƒ½è©•ä¼°æŒ‡æ¨™</h2><p></p><p>æ ¹æ“šCOCOè³‡æ–™é›†çš„æ•ˆèƒ½è©•ä¼°é é¢æ‰€è¿°ï¼š</p><blockquote><p>Average Precision (AP):</p><ul><li>APï¼šAP at IoU=.50:.05:.95 (primary challenge metric)</li><li>AP IoU=.50ï¼šAP at IoU=.50 (PASCAL VOC metric)</li><li>AP IoU=.75ï¼šAP at IoU=.75 (strict metric)<br></li></ul></blockquote><p>å¾é€™æ®µæ•˜è¿°å¯ä»¥ç¢ºå®šCOCOè³‡æ–™é›†æ•ˆèƒ½è©•ä¼°æŒ‡æ¨™çš„APæŒ‡çš„å°±æ˜¯mAPï¼š</p><blockquote><p>AP is averaged over all categories. Traditionally, this is called â€œmean average precisionâ€ (mAP). We make no distinction between AP and mAP (and likewise AR and mAR) and assume the difference is clear from context.</p></blockquote><p>èªªåˆ°é€™å…’åˆå¾—ç†è§£ä¸€å€‹è·ŸAPæœ‰é—œä¿‚çš„è©ï¼šIoU(Intersection over Unionï¼Œä¸¦äº¤æ¯”)ï¼Œç°¡è€Œè¨€ä¹‹ï¼Œç‰©é«”è­˜åˆ¥çš„IoUç‚ºç‰©é«”æ¨™è¨˜ç¯„åœèˆ‡ç³»çµ±åµæ¸¬ç¯„åœé€™å…©å€‹é›†åˆçš„äº¤é›†å’Œä¸¦é›†ä¹‹é–“çš„æ¯”ä¾‹ï¼Œæœ‰è«‹å°åŒ—å¸‚ç«‹å‹•ç‰©åœ’çš„æ°´è±šå›å¹«å¿™ç¤ºç¯„ä¸€ä¸‹ï¼š<br><img src="https://i.imgur.com/w7sc0Vc.jpg" alt><br>å‡è¨­ç´…æ¡†ç‚ºå½±åƒçš„åŸå§‹æ¨™è¨˜é‚Šç•Œç¯„åœa1ï¼Œé»ƒæ¡†ç‚ºYOLOæ‰€åµæ¸¬çš„ç‰©é«”é‚Šç•Œç¯„åœa2ï¼Œé‚£éº¼IoUå‰‡ç‚ºa1èˆ‡a2çš„<strong>äº¤é›†</strong>é™¤ä»¥a1èˆ‡a2çš„<strong>è¯é›†</strong>ã€‚</p><p>å› æ­¤ä»¥COCOè³‡æ–™é›†çš„APæŒ‡æ¨™è€Œè¨€ï¼Œå¯ä»¥çœ‹åˆ°å…¶IoUä¸¦éä¸€å€‹å›ºå®šå€¼ï¼Œè€Œæ˜¯ã€Œ.50:.05:.95ã€ï¼Œæ„æ€æ˜¯IoUå…±æœ‰{0.5, 0.55,â€¦0.95}10å€‹é–¾å€¼ï¼Œä»¥é€™10å€‹æ¨™æº–åšåˆ¤å®šã€è¨ˆç®—APå†å–å¹³å‡ï¼Œè€ŒAP50(IoU=.50)æˆ–AP75(IoU=.75)å‰‡æ˜¯å‚³çµ±çš„è©•ä¼°æ–¹å¼ã€‚</p><h2 id="å¹³å‡æº–ç¢ºç‡"><a href="#å¹³å‡æº–ç¢ºç‡" class="headerlink" title="å¹³å‡æº–ç¢ºç‡"></a>å¹³å‡æº–ç¢ºç‡</h2><p></p><p>èªªäº†ä¸€å †ï¼Œå¯ä»¥ä¾†çœ‹åº•ä¸‹é€™å¼µæ•ˆèƒ½è¡¨ç¾æ¯”è¼ƒåœ–äº†ã€‚</p><p>æˆ‘ç›´æ¥é€£çµ<a href="https://github.com/AlexeyAB/darknet" target="_blank" rel="noopener">Darknet</a>å…¶GitHubé é¢çš„åœ–ç‰‡â¬‡ï¸<br><img src="https://user-images.githubusercontent.com/4096485/82835867-f1c62380-9ecd-11ea-9134-1598ed2abc4b.png" alt></p><p>YOLOv4çš„æ•ˆèƒ½è¡¨ç¾æ˜¯ç›¸ç•¶çªå‡ºçš„ï¼Œåœ¨FPSç‚º90çš„æ™‚å€™ï¼Œv4çš„APæ¯”v3å¤šäº†10%ï¼Œè¦ä¸å…‰çœ‹å®ƒå’ŒYOLOv3é‚£æ¢ç·šä¹‹é–“æœ‰å¥½å¤§ä¸€æ®µå‚ç›´è·é›¢ä¹Ÿä¸é›£ç†è§£ã€‚å°æ–¼ä¸€ä»¶äº‹æƒ…çš„é›£æ˜“åº¦è‹¥æ˜¯æ²’æœ‰æ¦‚å¿µï¼Œåªçœ‹43.5%é€™å€‹æ•¸å­—èƒ½çœ‹å‡ºä»€éº¼å‘¢ï¼Ÿ</p><p>YOLOv4è«–æ–‡æ‘˜è¦ï¼š</p><blockquote><p>We use new features: WRC, CSP, CmBN, SAT, Mish activation, Mosaic data augmentation, CmBN, DropBlock regularization, and CIoU loss, and combine some of them to achieve state-of-the-art results: 43.5% AP (65.7% AP50) for the MS COCO dataset at a realtime speed of ~65 FPS on Tesla V100.</p></blockquote><p>è¾¨è­˜ç„¡æ•¸çš„ç‰©é«”è¦<strong>å³æ™‚</strong>åˆè¦<strong>å¿«ç‹ æº–</strong>ä½ èªªå®¹æ˜“å—ï¼Ÿ<br><img src="https://i.imgur.com/NG4nEoT.png" alt><br><div class="video-container"><iframe src="//www.youtube.com/embed/1_SiUOYUoOI" frameborder="0" allowfullscreen></iframe></div></p><h2 id="Research-Papers-of-YOLO"><a href="#Research-Papers-of-YOLO" class="headerlink" title="Research Papers of YOLO"></a>Research Papers of YOLO</h2><p></p><p></p><ul><li><a href="https://arxiv.org/abs/1506.02640" target="_blank" rel="noopener">You Only Look Once: Unified, Real-Time Object Detection</a></li><li><a href="https://arxiv.org/abs/1612.08242" target="_blank" rel="noopener">YOLO9000: Better, Faster, Stronger</a></li><li><a href="https://arxiv.org/abs/1804.02767" target="_blank" rel="noopener">YOLOv3: An Incremental Improvement</a></li><li><a href="https://arxiv.org/abs/2004.10934" target="_blank" rel="noopener">YOLOv4: Optimal Speed and Accuracy of Object Detection</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é€™å¹¾å¤©åª’é«”å ±å°äº†&lt;a href=&quot;https://arxiv.org/abs/2004.10934&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;YOLOv4&lt;/a&gt;çš„ç›¸é—œæ–°èï¼Œæåˆ°å…¶ç‚ºä¸­ç ”é™¢ç ”ç©¶åœ˜éšŠèˆ‡ä¿„ç¾…æ–¯é–‹ç™¼è€…æ‰€å…±åŒç ”ç™¼ï¼Œè€Œé€™å…¨ä¸–ç•Œæœ€å¿«æœ€æº–çš„ç‰©é«”åµæ¸¬æ¼”ç®—æ³•ï¼Œå…¶å¹³å‡æº–ç¢ºç‡ç‚º43.5%ï¼Œæ–¼æ˜¯é€™43.5%çš„æº–ç¢ºç‡è¿…é€Ÿå¼•ä¾†è¨±å¤šä¸æ˜å°±è£¡çš„äººç•™è¨€æ‰¹è©•ã€‚
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="deep learning" scheme="https://laplacetw.github.io/tags/deep-learning/"/>
    
      <category term="computer vision" scheme="https://laplacetw.github.io/tags/computer-vision/"/>
    
      <category term="yolo" scheme="https://laplacetw.github.io/tags/yolo/"/>
    
      <category term="darknet" scheme="https://laplacetw.github.io/tags/darknet/"/>
    
  </entry>
  
  <entry>
    <title>Arduino UNO R3</title>
    <link href="https://laplacetw.github.io/arduino-uno-r3-learning-kit/"/>
    <id>https://laplacetw.github.io/arduino-uno-r3-learning-kit/</id>
    <published>2020-07-02T03:00:47.000Z</published>
    <updated>2020-07-15T08:31:22.927Z</updated>
    
    <content type="html"><![CDATA[<p>çµ‚æ–¼æœ‰æ™‚é–“ç©ç©è²·ä¾†å¾ˆä¹…çš„learning kitã€‚é–‹ç™¼ç‰ˆç¨®é¡ç¹å¤šï¼Œä½†é™¤äº†ä¿®èª²ç©éTi OMAPç³»åˆ—çš„PandaBoardã€Devkit8000ï¼Œä¹Ÿå°±è‡ªå·±è²·çš„æ¨¹è“æ´¾3B+äº†ï¼Œ<a id="more"></a>ã€é€™éƒ½2020äº†é‚„æ²’ç©éArduinoï¼Œè±ˆä¸æ˜¯è¦çµ¦äººçœ‹ç¬‘è©±äº†ğŸ˜ã€å°±é€™éº¼æƒ³è‘—çš„æŸå¤©ä¾¿å…‰é€Ÿä¸‹å–®è²·ä¾†äº†å¥—ä»¶çµ„åˆæº–å‚™è©¦ç©ã€‚</p><p><img src="https://i.imgur.com/jWi2s0M.jpg" alt></p><p>å…ˆä¸‹è¼‰<a href="https://www.arduino.cc/en/Main/Software" target="_blank" rel="noopener">Arduino IDE</a>ï¼Œå°‡Arduinoé€éUSBæ¥ä¸ŠPCï¼Œè¨­ç½®å¥½USBé€£æ¥åŸ å°±å¯ä»¥é–‹å§‹ç©äº†ï¼Œå¯«æ®µç¨‹å¼ç¢¼ä¾†æ¸¬è©¦çœ‹çœ‹ã€‚<br><br>åºåˆ—åŸ è¼¸å‡ºè¦å…ˆç”¨<a href="https://www.arduino.cc/reference/en/language/functions/communication/serial/begin/" target="_blank" rel="noopener">Serial.begin()</a>æ–¹æ³•åˆå§‹åŒ–ã€è¨­å®šbaud rateâ¬‡ï¸<br><img src="https://i.imgur.com/PPlSksQ.png" alt><br><img src="https://i.imgur.com/OEk9ppo.png" alt></p><p>Arduinoçš„ç¨‹å¼æ¶æ§‹åŸºæœ¬ä¸Šå°±æ˜¯setup()è·Ÿloop()å…©å€‹å‡½å¼ï¼Œç”¨ä¾†åŸ·è¡Œåˆå§‹åŒ–å’ŒæŒçºŒåŸ·è¡Œçš„å‹•ä½œï¼Œç¶“éç·¨è­¯å¾Œæœƒæ•´åˆç‚ºmain()å‡½å¼ã€‚<a href="https://zh.wikipedia.org/wiki/Arduino" target="_blank" rel="noopener">Arduinoç¶­åŸºé é¢</a>å¯«è‘—å…¶IDEæ˜¯æºè‡ªProcessingç¨‹å¼èªè¨€ï¼Œå“ˆï¼æƒ³èµ·å¤§ä¸‰æ™‚æ›¾ç¶“ä¿®éæ¸…å¤§MOOCsçš„ç©é›»ç©å­¸ç¨‹å¼èª²ç¨‹ï¼Œç•¶æ™‚å°±æ˜¯ä½¿ç”¨é€™æœ‰è¶£çš„èªè¨€ï¼Œé›£æ€ªæœ‰ç¨®ç†Ÿæ‚‰æ„ŸğŸ¤£</p><p>ç’°å¢ƒè¨­ç½®å®Œæˆï¼Œä½¿ç”¨å¹¾å€‹LEDä¾†æ¸¬è©¦ã€å­¸ç¿’Arduinoç¨‹å¼ç·¨å¯«ï¼š</p><h3 id="LED-Control"><a href="#LED-Control" class="headerlink" title="LED Control"></a>LED Control</h3><p><br><br><img src="https://i.imgur.com/iKiu4BM.png" alt><br>æˆ‘å°‡PIN 13è¨­ç‚ºè¼¸å‡ºï¼Œå› æ­¤æ¿å­ä¸Šçš„LEDä¹Ÿæœƒè·Ÿè‘—é–ƒçˆã€‚<br><img src="https://i.imgur.com/AB5h1WK.gif" alt></p><h3 id="Traffic-Light"><a href="#Traffic-Light" class="headerlink" title="Traffic Light"></a>Traffic Light</h3><p>ä½¿ç”¨é»ƒç¶ ç´…3é¡†LEDæ¨¡æ“¬ç´…ç¶ ç‡ˆã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_LED_G 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_LED_Y 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_LED_R 4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  pinMode(PIN_LED_R, OUTPUT);</span><br><span class="line">  pinMode(PIN_LED_G, OUTPUT);</span><br><span class="line">  pinMode(PIN_LED_Y, OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  digitalWrite(PIN_LED_G, HIGH);</span><br><span class="line">  delay(<span class="number">3000</span>);</span><br><span class="line">  digitalWrite(PIN_LED_G, LOW);</span><br><span class="line"></span><br><span class="line">  digitalWrite(PIN_LED_Y, HIGH);</span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line">  digitalWrite(PIN_LED_Y, LOW);</span><br><span class="line"></span><br><span class="line">  digitalWrite(PIN_LED_R, HIGH);</span><br><span class="line">  delay(<span class="number">3000</span>);</span><br><span class="line">  digitalWrite(PIN_LED_R, LOW);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://i.imgur.com/rcmlVTs.gif" alt></p><h3 id="Switch-Control"><a href="#Switch-Control" class="headerlink" title="Switch Control"></a>Switch Control</h3><p>ä»¥æŒ‰éµé–‹é—œæ§åˆ¶LEDï¼šè‹¥åµæ¸¬åˆ°æŒ‰éµé–‹é—œçš„ç‹€æ…‹ç‚ºHIGH(æŒ‰ä¸‹)å‰‡ä½¿PIN_LEDç‹€æ…‹äº¦ç‚ºHIGHã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_LED 7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_SWITCH 8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  pinMode(PIN_SWITCH, INPUT);</span><br><span class="line">  pinMode(PIN_LED, OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> switch_status = digitalRead(PIN_SWITCH);</span><br><span class="line">  <span class="keyword">if</span>(switch_status == HIGH)&#123;</span><br><span class="line">    digitalWrite(PIN_LED, HIGH);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    digitalWrite(PIN_LED, LOW);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://i.imgur.com/iZzRafD.gif" alt></p><h3 id="Light-Ticker"><a href="#Light-Ticker" class="headerlink" title="Light Ticker"></a>Light Ticker</h3><p>Embedded Systemçš„è³‡æºéƒ½æ˜¯æœ‰é™çš„ï¼ŒUNO R3 Digital I/Oåƒ…æœ‰13å€‹portï¼ŒåˆRX/TXä½”äº†0å’Œ1å…©å€‹portï¼Œæ‰€ä»¥å¯¦éš›ä¸Šèƒ½ç”¨çš„ä¹Ÿå°±11å€‹portï¼Œå½Œè¶³çè²´å‘€ğŸ˜Œ&nbsp;&nbsp;ç•¶é‡åˆ°éœ€è¦æ§åˆ¶å¤šå€‹LEDçš„æƒ…æ³ï¼Œä¾‹å¦‚æ¨¡æ“¬è·‘é¦¬ç‡ˆï¼Œè®“æ¯é¡†LEDéƒ½ä½”ç”¨ä¸€å€‹portå¯¦åœ¨å¤ªæµªè²»ï¼Œè€Œæ­¤æ™‚ä¾¿æ˜¯74HC595ä½ç§»æš«å­˜å™¨æ´¾ä¸Šç”¨å ´çš„æ™‚å€™ï¼Œåªè¦ä½”ç”¨Arduino 3å€‹portå°±èƒ½æ§åˆ¶74HC595çš„8å€‹portï¼Œè¶…æ£’derã€‚<br><img src="https://i.imgur.com/hpNCaiM.jpg" alt><br>é—œæ–¼74HC595è©³ç´°çš„èªªæ˜èˆ‡æ¥ç·šå¯åƒè€ƒ<a href="https://www.youtube.com/watch?v=KKdNk5lne50" target="_blank" rel="noopener">ä½‘ä¾†äº†è€å¸«çš„æ•™å­¸å½±ç‰‡</a>ï¼Œä»–çš„ç¥è§£é‡‹ç›¸ç•¶é€šä¿—æ˜“æ‡‚ğŸ˜†</p><ul><li><p>ç›´ç™½çš„å¯«æ³•ï¼š<br>é›–ç„¶ç¨‹å¼ç¢¼é•·äº†é»ï¼Œä½†æˆ‘è¦ºå¾—é€™æ˜¯å®¹æ˜“ç†è§£å…¶é‹ä½œçš„å¯«æ³•ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_DATA 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_STORE 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_SHIFT 4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  pinMode(PIN_DATA, OUTPUT);</span><br><span class="line">  pinMode(PIN_SHIFT, OUTPUT);</span><br><span class="line">  pinMode(PIN_STORE, OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// left --&gt; right</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">7</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">    digitalWrite(PIN_STORE, LOW);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">8</span>; j++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(j == i)&#123; light_up(); &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123; light_down(); &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    digitalWrite(PIN_STORE, HIGH);</span><br><span class="line">    delay(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// right --&gt; left</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">8</span>; i++)&#123;</span><br><span class="line">    digitalWrite(PIN_STORE, LOW);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">8</span>; j++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(j == i)&#123; light_up(); &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123; light_down(); &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    digitalWrite(PIN_STORE, HIGH);</span><br><span class="line">    delay(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">light_up</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  digitalWrite(PIN_SHIFT, LOW);</span><br><span class="line">  digitalWrite(PIN_DATA, <span class="number">1</span>);</span><br><span class="line">  digitalWrite(PIN_SHIFT, HIGH);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">light_down</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  digitalWrite(PIN_SHIFT, LOW);</span><br><span class="line">  digitalWrite(PIN_DATA, <span class="number">0</span>);</span><br><span class="line">  digitalWrite(PIN_SHIFT, HIGH);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç°¡æ½”çš„å¯«æ³•ï¼š<br>ä½¿ç”¨<a href="https://www.arduino.cc/reference/en/language/functions/advanced-io/shiftout/" target="_blank" rel="noopener">shiftOut()</a>æ–¹æ³•ä¾†æ¨é€8-bitçš„æ•¸æ“šï¼Œç”±åƒæ•¸bit_orderä¾†æ§åˆ¶è®€å–é †åºï¼ŒMSBFIRSTç‚ºç”±å·¦è‡³å³ï¼ŒLSBFIRSTå‰‡ç›¸åã€‚æˆ‘è‡ªå®šç¾©äº†light_ticker()å‡½å¼ï¼Œæ¥æ”¶bit_orderåƒæ•¸ä¾†æ§åˆ¶è·‘é¦¬ç‡ˆæ–¹å‘ï¼Œæ‰€ä»¥loop()è£¡é ­åƒ…æœ‰å…©è¡Œcodeã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_DATA 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_STORE 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN_SHIFT 4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  pinMode(PIN_DATA, OUTPUT);</span><br><span class="line">  pinMode(PIN_SHIFT, OUTPUT);</span><br><span class="line">  pinMode(PIN_STORE, OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  light_ticker(MSBFIRST);  <span class="comment">// left  --&gt; right</span></span><br><span class="line">  light_ticker(LSBFIRST);  <span class="comment">// right --&gt; left</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">light_ticker</span><span class="params">(<span class="keyword">bool</span> bit_order)</span> </span>&#123;</span><br><span class="line">  byte num;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">8</span>; i++)&#123;</span><br><span class="line">    num =<span class="number">0</span>;</span><br><span class="line">    digitalWrite(PIN_STORE, LOW);</span><br><span class="line">    bitSet(num, i);</span><br><span class="line">    shiftOut(PIN_DATA, PIN_SHIFT, bit_order, num);</span><br><span class="line">    digitalWrite(PIN_STORE, HIGH);</span><br><span class="line">    delay(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://i.imgur.com/dhVYF1i.gif" alt></p><h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><p><a href="https://www.arduino.cc/reference/en/language/variables/data-types/int/" target="_blank" rel="noopener">Arduino - Data Types - int</a><br><a href="https://www.arduino.cc/reference/en/language/variables/data-types/byte/" target="_blank" rel="noopener">Arduino - Data Types - byte</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çµ‚æ–¼æœ‰æ™‚é–“ç©ç©è²·ä¾†å¾ˆä¹…çš„learning kitã€‚é–‹ç™¼ç‰ˆç¨®é¡ç¹å¤šï¼Œä½†é™¤äº†ä¿®èª²ç©éTi OMAPç³»åˆ—çš„PandaBoardã€Devkit8000ï¼Œä¹Ÿå°±è‡ªå·±è²·çš„æ¨¹è“æ´¾3B+äº†ï¼Œ
    
    </summary>
    
      <category term="Arduino" scheme="https://laplacetw.github.io/categories/Arduino/"/>
    
    
      <category term="IoT" scheme="https://laplacetw.github.io/tags/IoT/"/>
    
      <category term="arduino" scheme="https://laplacetw.github.io/tags/arduino/"/>
    
  </entry>
  
  <entry>
    <title>CIFAR-10åˆ†é¡ä»»å‹™çš„è¾¨è­˜æº–ç¢ºç‡</title>
    <link href="https://laplacetw.github.io/data-sci-vgg-cifar10/"/>
    <id>https://laplacetw.github.io/data-sci-vgg-cifar10/</id>
    <published>2020-06-28T23:27:27.000Z</published>
    <updated>2020-08-24T16:50:12.598Z</updated>
    
    <content type="html"><![CDATA[<p>å°DLåˆå­¸è€…è€Œè¨€ï¼Œæœ€å¸¸ç”¨ä¾†æ¸¬è©¦çš„å¤§æ¦‚å°±æ˜¯MNISTè·ŸCIFAR-10é€™å…©å€‹æ•¸æ“šé›†äº†ã€‚æˆ–è¨±å°å¤§ç¥å€‘ä¾†èªªä¸ééƒ½æ˜¯äº›ç©å…·ï¼Œä½†æˆ‘èªç‚ºCIFAR-10ä¸åªæ˜¯å€‹toy datasetï¼Œç›¸è¼ƒæ–¼MNISTé‚£æ¨£ä½¿ç”¨MLPå°±èƒ½è¼•æ˜“é”åˆ°è¿‘ä¹99%è¾¨è­˜æº–ç¢ºç‡çš„ç°éšå½±åƒï¼ŒCIFAR-10ä¸åƒâ€Hello World!â€é€™éº¼å®¹æ˜“å§ï¼ŸğŸ¤¨<a id="more"></a></p><p>é—œæ–¼<a href="https://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">CIFAR-10æ•¸æ“šé›†</a>ï¼Œåƒæˆ‘é€™æ¨£ç•¥æ‡‚ç•¥æ‡‚çš„äººå°±ä¸è´…è¨€äº†ï¼Œç¶²è·¯ä¸Šä»‹ç´¹CIFAR-10çš„æ–‡ç« å¾ˆå¤šã€‚ä¸éï¼Œç•¶æˆ‘çˆ¬äº†è¨±å¤šæ–‡ç« ä¹‹å¾Œï¼Œå¤§è‡´ä¸Šéƒ½æ˜¯ä»‹ç´¹æ•¸æ“šé›†å’Œä½¿ç”¨ç°¡å–®çš„CNNä¾†æ¸¬è©¦è€Œå·²(æº–ç¢ºç‡ç´„70%)ï¼Œå¦‚ä½•å°ç¾æœ‰æ¨¡å‹çµæ§‹å„ªåŒ–ä¸¦æå‡CIFAR-10æº–ç¢ºç‡é‚„æ˜¯æ²’é ­ç·’ï¼Œé›–ç„¶å¯ä»¥ç›´æ¥è¼‰å…¥Keraså…§å»ºçš„é è¨“ç·´æ¨¡å‹ï¼Œä¾‹å¦‚VGG-16ã€ResNet-50ï¼Œä½†æˆ‘èªç‚ºé‚£æ¨£åšæ²’å•¥æ„æ€ï¼Œæ ¹æœ¬ä¸Šé‚„æ˜¯æ²’ææ‡‚ï¼Œä¹Ÿåƒæ˜¯å¤§ç ²æ‰“å°é³¥ã€‚</p><h2 id="Keras-Sample-Code"><a href="#Keras-Sample-Code" class="headerlink" title="Keras Sample Code"></a>Keras Sample Code</h2><p></p><p><br>çœ‹ä¸€ä¸‹<a href="https://keras.io/examples/cifar10_cnn/" target="_blank" rel="noopener">Kerasçš„ç¯„ä¾‹ç¨‹å¼</a>ï¼Œæ ¹æ“šé é¢èªªæ˜ï¼Œè©²ç¯„ä¾‹æ–¼è¨“ç·´50 epochså¾Œé”åˆ°79%çš„é©—è­‰æº–ç¢ºç‡ã€‚å¯¦éš›è¨“ç·´äº†100 epochsä¹Ÿå·®ä¸å¤šã€‚</p><ul><li><p>Model Summary<br><img src="https://i.imgur.com/mgSpvB8.png" alt></p></li><li><p>Train History<br><img src="https://i.imgur.com/14YO3XH.png" alt></p></li></ul><h2 id="More-Optimization"><a href="#More-Optimization" class="headerlink" title="More Optimization"></a>More Optimization</h2><p>å°±Kerasç¯„ä¾‹ä¾†èªªï¼Œæˆ‘å˜—è©¦ä»¥ç›¸åŒçµæ§‹å¢åŠ å…¶ç¶²è·¯æ·±åº¦ï¼Œé©—è­‰æº–ç¢ºç‡æœ‰å¾—åˆ°äº›å¾®æå‡(ç´„82%)ï¼Œä½†æŒçºŒç›²ç›®åœ°åŠ æ·±ç¶²è·¯å»æœƒé€ æˆåæ•ˆæœã€‚å¾Œä¾†æˆ‘æ‰¾åˆ°äº†<a href="https://machinelearningmastery.com/how-to-develop-a-cnn-from-scratch-for-cifar-10-photo-classification/" target="_blank" rel="noopener">Jason Brownleeåšå£«çš„æ•™å­¸</a>ï¼Œé‚£æ˜¯ä¸€å€‹å¾ˆæ£’çš„tutorialï¼Œå˜—è©¦å°æ¨¡å‹çµæ§‹é€²è¡Œå„ªåŒ–å¾Œï¼Œè¨“ç·´çµæœåœ¨æ¸¬è©¦æ•¸æ“šé›†å–å¾—89%çš„æº–ç¢ºç‡(Train / Test : 94.60% / 89.35%)ã€‚</p><ul><li><p>Model Summary<br><img src="https://i.imgur.com/VxnAUMG.png" alt></p></li><li><p>Train History<br><img src="https://i.imgur.com/WzberYE.png" alt></p></li></ul><h2 id="Fractional-Max-Pooling"><a href="#Fractional-Max-Pooling" class="headerlink" title="Fractional Max-Pooling"></a>Fractional Max-Pooling</h2><p>åœ¨å„ªåŒ–äº†æ¨¡å‹çµæ§‹å¾Œï¼Œæ¸¬è©¦æº–ç¢ºç‡ä¾ç„¶ç„¡æ³•çªç ´90%ï¼Œå› æ­¤æˆ‘æœå°‹äº†state-of-the-art on CIFAR-10ï¼Œçœ‹çœ‹å¤§ç¥å€‘è¶…è„«å‡¡ä¿—çš„æ€è·¯ç©¶ç«Ÿæ˜¯å¦‚ä½•çªç ´å•é¡Œã€‚æ–¼æ˜¯æˆ‘<a href="https://laplacetw.github.io/study-fractional-max-pooling">ä»”ç´°é–±è®€äº†Fractional Max-Poolingé€™ç¯‡è«–æ–‡</a>ï¼Œä¸¦å¯¦éš›æ‡‰ç”¨åˆ°æˆ‘çš„æ¨¡å‹è¨“ç·´ï¼Œå„˜ç®¡æˆ‘æ²’æœ‰ä½¿ç”¨å’ŒåŸå§‹è«–æ–‡å¯¦é©—ä¸­åŒæ¨£æ·±çš„ç¶²è·¯çµæ§‹ï¼Œä¾ç„¶åœ¨æ¸¬è©¦æ•¸æ“šé›†çš„æº–ç¢ºç‡é”åˆ°äº†93%(Train / Test : 97.94% / 93.55%)ã€‚é †å¸¶ä¸€æï¼Œè©²æ¨¡å‹åœ¨æˆ‘çš„GTX 1660 Superè¨“ç·´600 epochséœ€è€—è²»30å€‹å°æ™‚å·¦å³ã€‚</p><p>é—œæ–¼Fractional Max-Poolingçš„å¯¦ç¾ï¼ŒTensorFlowå·²æœ‰å…§å»ºï¼Œè€ŒKeraså¯ä»¥åˆ©ç”¨Lambdaä¾†å¼•å…¥æ¨¡å‹ä¸­ä½¿ç”¨ï¼š<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">frac_max_pool</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> tf.nn.fractional_max_pool(x, [<span class="number">1.0</span>, <span class="number">1.41</span>, <span class="number">1.41</span>, <span class="number">1.0</span>], pseudo_random=<span class="keyword">True</span>, overlapping=<span class="keyword">True</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">model.add(Lambda(frac_max_pool))</span><br></pre></td></tr></table></figure></p><ul><li><p>Model Summary<br><img src="https://i.imgur.com/IW0Z2VC.png" alt></p></li><li><p>Train History<br><img src="https://i.imgur.com/mLV3eVI.png" alt></p></li></ul><h2 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h2><p>å°åƒæ•¸é‡å’Œæ¨¡å‹å¤§å°åšå€‹æ¯”è¼ƒï¼š</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">VGG-16/VGG-19</th><th style="text-align:center">VGG-like + FMP</th></tr></thead><tbody><tr><td style="text-align:center">total params</td><td style="text-align:center">10M+</td><td style="text-align:center">1.5M</td></tr><tr><td style="text-align:center">model size</td><td style="text-align:center">200+ MB</td><td style="text-align:center">12.4 MB</td></tr></tbody></table><h2 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h2><p></p><p><br><a href="https://github.com/laplacetw/vgg-like-cifar10" target="_blank" rel="noopener">https://github.com/laplacetw/vgg-like-cifar10</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å°DLåˆå­¸è€…è€Œè¨€ï¼Œæœ€å¸¸ç”¨ä¾†æ¸¬è©¦çš„å¤§æ¦‚å°±æ˜¯MNISTè·ŸCIFAR-10é€™å…©å€‹æ•¸æ“šé›†äº†ã€‚æˆ–è¨±å°å¤§ç¥å€‘ä¾†èªªä¸ééƒ½æ˜¯äº›ç©å…·ï¼Œä½†æˆ‘èªç‚ºCIFAR-10ä¸åªæ˜¯å€‹toy datasetï¼Œç›¸è¼ƒæ–¼MNISTé‚£æ¨£ä½¿ç”¨MLPå°±èƒ½è¼•æ˜“é”åˆ°è¿‘ä¹99%è¾¨è­˜æº–ç¢ºç‡çš„ç°éšå½±åƒï¼ŒCIFAR-10ä¸åƒâ€Hello World!â€é€™éº¼å®¹æ˜“å§ï¼ŸğŸ¤¨
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="keras" scheme="https://laplacetw.github.io/tags/keras/"/>
    
      <category term="deep learning" scheme="https://laplacetw.github.io/tags/deep-learning/"/>
    
      <category term="computer vision" scheme="https://laplacetw.github.io/tags/computer-vision/"/>
    
      <category term="cifar-10" scheme="https://laplacetw.github.io/tags/cifar-10/"/>
    
  </entry>
  
  <entry>
    <title>ç¿»è­¯ï¼šFractional Max-Pooling</title>
    <link href="https://laplacetw.github.io/study-fractional-max-pooling/"/>
    <id>https://laplacetw.github.io/study-fractional-max-pooling/</id>
    <published>2020-05-29T02:43:14.000Z</published>
    <updated>2020-09-01T14:03:32.425Z</updated>
    
    <content type="html"><![CDATA[<p>ä½œè€…ï¼šBenjamin Graham<br>åŸæ–‡ï¼š<a href="https://arxiv.org/abs/1412.6071" target="_blank" rel="noopener">https://arxiv.org/abs/1412.6071</a><br><a id="more"></a></p><h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><p>å·ç©ç¶²è·¯å¹¾ä¹ç¸½æ˜¯åŒ…å«è‹¥å¹²ç‰¹å¾µç©ºé–“å–æ¨£(pooling)çš„å½¢å¼ï¼Œé€šå¸¸ä½¿ç”¨Î± x Î± max-pooling(Î± = 2)ã€‚æœ€å¤§å–æ¨£ä½œç”¨æ–¼å·ç©ç¶²è·¯çš„éš±è—å±¤ï¼Œä»¥æ•´æ•¸å€ä¹˜å› å­Î±ä¾†ç¸®æ¸›éš±è—å±¤çš„å¤§å°ã€‚è€Œç•¶ä½ æ‹‹æ£„äº†75%çš„æ•¸æ“šæ‰€ç²å¾—çš„é©šäººå‰¯ç”¢ç‰©æ˜¯â€”åœ¨ç¶²è·¯ä¸­å»ºç«‹äº†ä¸€å®šç¨‹åº¦å°æ–¼å¹³ç§»èˆ‡å½ˆæ€§å½¢è®Šçš„ä¸è®Šæ€§ã€‚ç„¶è€Œï¼Œå¦‚æœä½ åªæ˜¯äº¤æ›¿ä½¿ç”¨å·ç©å±¤èˆ‡æœ€å¤§å–æ¨£ï¼Œå‰‡æ•ˆèƒ½è¡¨ç¾å°‡æœƒå—é™æ–¼ç‰¹å¾µç©ºé–“çš„å¿«é€Ÿç¸®æ¸›èˆ‡å–æ¨£å€åŸŸä¸ç›¸äº¤çš„ç‰¹æ€§ã€‚å› æ­¤ï¼Œæˆ‘å€‘åˆ¶è¨‚äº†åˆ†æ•¸å½¢å¼çš„æœ€å¤§å–æ¨£ï¼Œå…è¨±Î±æ¡ç”¨éæ•´æ•¸å€¼ã€‚åˆ†æ•¸éšæœ€å¤§å–æ¨£æ˜¯éš¨æ©Ÿçš„ï¼Œå› ç‚ºæ§‹å»ºåˆé©çš„å–æ¨£å€åŸŸæœ‰è¨±å¤šä¸åŒçš„æ–¹æ³•ã€‚æˆ‘å€‘ç™¼ç¾åˆ†æ•¸éšæœ€å¤§å–æ¨£çš„å½¢å¼æ¸›å°‘äº†è¨±å¤šæ•¸æ“šé›†çš„éæ“¬åˆç¾è±¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘æ”¹å–„äº†CIFAR-100ç›®å‰æœ€å…ˆé€²çš„æŠ€è¡“ï¼Œç”šè‡³æ²’ä½¿ç”¨éš¨æ©Ÿå»æ´»åŒ–(dropout)ã€‚</p><h3 id="å·ç©ç¥ç¶“ç¶²è·¯"><a href="#å·ç©ç¥ç¶“ç¶²è·¯" class="headerlink" title="å·ç©ç¥ç¶“ç¶²è·¯"></a>å·ç©ç¥ç¶“ç¶²è·¯</h3><p>å·ç©ç¶²è·¯è¢«ä½¿ç”¨ä¾†è§£æ±ºå½±åƒè¾¨è­˜å•é¡Œï¼Œä¸»è¦ç”±å…©ç¨®é¡å‹çš„åˆ†å±¤çµæ§‹çµ„æˆï¼š</p><ul><li>å·ç©æ¿¾æ³¢å±¤</li><li>è‹¥å¹²å½¢å¼çš„ç©ºé–“å–æ¨£ï¼Œä¾‹å¦‚æœ€å¤§å–æ¨£(max-pooling)</li></ul><p>èšç„¦æ–¼æ”¹å–„å·ç©å±¤çš„ç ”ç©¶é€ å°±äº†è±å¯Œçš„æŠ€è¡“ï¼Œä¾‹å¦‚dropout <a href="#åƒè€ƒæ–‡ç»">[10]</a>ã€DropConnect <a href="#åƒè€ƒæ–‡ç»">[12]</a>ã€deep networks with many small filters <a href="#åƒè€ƒæ–‡ç»">[2]</a>ã€large input layer filters for detecting texture <a href="#åƒè€ƒæ–‡ç»">[5]</a>ä»¥åŠdeeply supervised networks <a href="#åƒè€ƒæ–‡ç»">[6]</a>ã€‚</p><p>ç›¸è¼ƒä¹‹ä¸‹ï¼Œä¸èµ·çœ¼çš„å–æ¨£æ“ä½œå·²ç¶“è¢«é€æ¼¸å¿½ç•¥ï¼Œé•·æœŸä»¥ä¾†2 Ã— 2 max-pooling(MP2-pooling)å·²æˆç‚ºæ§‹å»ºå·ç©ç¥ç¶“ç¶²è·¯çš„é»˜èªé¸é …ã€‚MP2-poolingä¹‹æ‰€ä»¥å—æ­¡è¿æœ‰è¨±å¤šåŸå› ï¼šåŸ·è¡Œå¿«é€Ÿã€èƒ½è¿…é€Ÿç¸®æ¸›éš±è—å±¤çš„å¤§å°ã€å°æ–¼å¹³ç§»èˆ‡å½ˆæ€§å½¢è®Šæœ‰ä¸€å®šç¨‹åº¦çš„ä¸è®Šæ€§ã€‚ç„¶è€Œï¼Œå–æ¨£å€åŸŸçš„ä¸ç›¸äº¤ç‰¹æ€§å¯èƒ½é™åˆ¶å…¶æ³›åŒ–èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œç”±æ–¼MP2 poolingå¦‚æ­¤è¿…é€Ÿåœ°ç¸®æ¸›äº†éš±è—å±¤çš„å¤§å°ï¼Œå› æ­¤éœ€è¦é€éå †ç–Šé€£çºŒçš„å·ç©å±¤ï¼Œä»¥æ§‹å»ºçœŸæ­£çš„æ·±åº¦ç¶²è·¯ <a href="#åƒè€ƒæ–‡ç»">[7, 9, 11]</a>ã€‚æœ‰å…©ç¨®æ–¹æ³•å·²ç¶“è¢«æå‡ºä¾†è§£æ±ºæ­¤å•é¡Œï¼š</p><ul><li>ä½¿ç”¨3 x 3å–æ¨£å€åŸŸæ­é…æ­¥é•·2(strides = 2)çš„é‡ç–Šå–æ¨£ <a href="#åƒè€ƒæ–‡ç»">[5]</a></li><li>éš¨æ©Ÿå–æ¨£ï¼Œå³ä»¥å¤§å°åå·®çš„å–æ¨£å½¢å¼ä»£æ›¿åœ¨æ¯å€‹å–æ¨£å€åŸŸé¸æ“‡æœ€å¤§å€¼çš„å‹•ä½œ <a href="#åƒè€ƒæ–‡ç»">[13]</a></li></ul><p>ä½†æ˜¯ï¼Œé€™å…©ç¨®æŠ€è¡“ä»å°‡éš±è—å±¤å¤§å°ç¸®æ¸›äº†å…©å€ã€‚é€™ä»¤äººä¸ç¦æƒ³å•ï¼Œæ˜¯å¦èƒ½æœ‰æ›´å’Œç·©çš„æ–¹æ³•ä¾†æœ‰æ•ˆåœ°æ‡‰ç”¨ç‰¹å¾µç©ºé–“å–æ¨£ã€‚å¦‚æœå–æ¨£åªè®“éš±è—å±¤å¤§å°ç¸®æ¸›$ \sqrt 2 $å€ï¼Œé‚£éº¼æˆ‘å€‘åœ¨æ§‹å»ºå·ç©ç¥ç¶“ç¶²è·¯æ™‚èƒ½ä½¿ç”¨çš„å–æ¨£å±¤æ•¸ä¾¿èƒ½ç¿»å…©å€ã€‚æ¯å€‹å–æ¨£å±¤éƒ½æœ‰æ©Ÿæœƒä»¥ä¸åŒå°ºåº¦ä¾†æŸ¥çœ‹è¼¸å…¥å½±åƒï¼Œä»¥æ­£ç¢ºçš„å°ºåº¦æŸ¥çœ‹å½±åƒï¼Œæ‡‰è©²èƒ½æ›´å®¹æ˜“åœ°è¾¨è­˜å‡ºç·šç´¢ç‰¹å¾µï¼Œä¸¦å°‡ç‰©ä»¶æ¨™è¨˜ç‚ºç‰¹å®šé¡åˆ¥ã€‚</p><p>å› æ­¤ï¼Œæœ¬æ–‡çš„é‡é»æ˜¯æœ€å¤§å–æ¨£çš„ä¸€ç¨®ç‰¹æ®Šå½¢å¼ï¼Œæˆ‘å€‘ç¨±ä¹‹ç‚ºåˆ†æ•¸éšæœ€å¤§å–æ¨£(Fractional Max-Pooling, FMP)ï¼Œ FMPçš„æƒ³æ³•æ˜¯ï¼Œå°‡å½±åƒçš„ç‰¹å¾µç©ºé–“å°ºå¯¸ç¸®å°Î±å€(1 &lt; Î± &lt; 2)ã€‚å¦‚åŒéš¨æ©Ÿå–æ¨£ï¼ŒFMPåœ¨å–æ¨£éç¨‹ä¸­å¼•å…¥äº†ä¸€å®šç¨‹åº¦çš„éš¨æ©Ÿæ€§ã€‚ç„¶è€Œï¼ŒFMPèˆ‡éš¨æ©Ÿå–æ¨£ä¸åŒçš„æ˜¯ï¼Œå…¶éš¨æ©Ÿæ€§å’Œå–æ¨£å€åŸŸçš„é¸æ“‡æœ‰é—œï¼Œè€Œéæ¯å€‹å–æ¨£å€åŸŸå…§çš„å–æ¨£æ–¹å¼ã€‚</p><p>æ–¼ç¬¬äºŒç¯€ä¸­ï¼Œæˆ‘å€‘å°‡èªªæ˜åˆ†æ•¸éšæœ€å¤§å–æ¨£çš„å½¢å¼ã€‚ç°¡è€Œè¨€ä¹‹ï¼Œæœ‰ä¸‰ç¨®é¸æ“‡æœƒå½±éŸ¿FMPçš„å¯¦ç¾æ–¹å¼ï¼š</p><ul><li>å–æ¨£çš„éæ•´æ•¸å€¼Î±æ±ºå®šäº†å–æ¨£å±¤è¼¸å…¥å’Œè¼¸å‡ºçš„ç‰¹å¾µç©ºé–“å°ºå¯¸æ¯”ä¾‹ã€‚ä¾‹å¦‚2 Ã— 2æœ€å¤§å–æ¨£å°æ‡‰æ–¼Î± = 2çš„ç‰¹å®šæƒ…æ³ã€‚</li><li>å–æ¨£å€åŸŸå¯ä»¥ç”¨éš¨æ©Ÿæˆ–å½éš¨æ©Ÿçš„æ–¹å¼ä¾†é¸æ“‡ã€‚åœ¨FMPçš„éš¨æ©Ÿæ€§å’Œä½¿ç”¨éš¨æ©Ÿå»æ´»åŒ–æ˜¯å¦æ­é…æ•¸æ“šå¢å¼·(data augmentation)ä¹‹é–“ä¼¼ä¹å¾—åšé©ç•¶çš„å–æ¨ï¼Œéš¨æ©Ÿçš„FMPæˆ–è¨±å¯ä»¥è¡¨ç¾å¾—æ›´å¥½ï¼Œä½†å¦‚æœã€Œéåº¦ã€ä½¿ç”¨éš¨æ©Ÿå»æ´»åŒ–æˆ–è¨“ç·´æ•¸æ“šå¼·åŒ–ï¼Œå‰‡å¯èƒ½å°è‡´æ¬ æ“¬åˆ(underfitting)ã€‚</li><li>å–æ¨£å€åŸŸå¯ä»¥ä¸ç›¸äº¤(disjoint)æˆ–é‡ç–Š(overlapping)ã€‚ä¸ç›¸äº¤çš„å€åŸŸè¼ƒå®¹æ˜“æè¿°ï¼Œä½†æˆ‘å€‘ç™¼ç¾é‡ç–Šå€åŸŸçš„æ•ˆæœæ›´å¥½ã€‚</li></ul><p>æˆ‘å€‘æœƒåœ¨ç¬¬ä¸‰ç¯€ä¸­æè¿°å¦‚ä½•è¨­è¨ˆå’Œè¨“ç·´æˆ‘å€‘çš„å·ç©ç¶²è·¯ï¼Œä¸¦æ–¼ç¬¬å››ç¯€ä¸­å±•ç¤ºMNISTæ‰‹å¯«æ•¸å­—ã€CIFAR-10ã€CIFAR-100ã€é˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—ä»¥åŠCASIA-OLHWDB1.1æ‰‹å¯«æ¼¢å­—ç­‰æ•¸æ“šé›†çš„è¨“ç·´çµæœã€‚</p><h3 id="åˆ†æ•¸éšæœ€å¤§å–æ¨£"><a href="#åˆ†æ•¸éšæœ€å¤§å–æ¨£" class="headerlink" title="åˆ†æ•¸éšæœ€å¤§å–æ¨£"></a>åˆ†æ•¸éšæœ€å¤§å–æ¨£</h3><p>CNNçš„æ¯å€‹å·ç©æ¿¾æ³¢å™¨éƒ½æœƒç”¢ç”Ÿä¸€å€‹éš±å«è®Šæ•¸çš„çŸ©é™£ï¼Œé€šå¸¸ä½¿ç”¨æŸç¨®å½¢å¼çš„å–æ¨£ä¾†ç¸®æ¸›çŸ©é™£å¤§å°ã€‚æœ€å¤§å–æ¨£æ˜¯ä¸€å€‹æ¡ç”¨$ N_{in} \times N_{in} $çŸ©é™£ä¸¦è¿”å›è¼ƒå°çš„$ N_{out} \times N_{out} $è¼¸å‡ºçŸ©é™£çš„éç¨‹ï¼Œé€™æ˜¯é€éå°‡$ N_{in} \times N_{in} $è¼¸å…¥æ­£æ–¹å½¢åˆ†å‰²ç‚º$ N^2_{out} $å€‹å–æ¨£å€åŸŸ$ (P_{i,j}) $è€Œå¯¦ç¾ï¼š<br>$$ (P_{i,j}) \subset \lbrace 1,2,â€¦,N_{in} \rbrace ^2 \ \text{for each}\ (i,j) \in \lbrace 1,â€¦,N_{out} \rbrace ^2 $$<br>æ¥è‘—ä»¤ï¼š<br>$$ Output_{i,j} = \displaystyle{\max_{(k,l)\in P_{i,j}}} Input_{k,l} $$</p><p>ä»¥æˆ‘å€‘çš„ä½¿ç”¨æ…£ä¾‹2 x 2æœ€å¤§å–æ¨£è€Œè¨€ï¼Œ$ N_{in} = 2N_{out}\ and\ P_{i,j} = \rbrace 2i-1,2i \rbrace \times \rbrace 2j-1,2j \rbrace $ã€‚<a href="#åƒè€ƒæ–‡ç»">åƒè€ƒæ–‡ç» [5]</a>ä¸­æåˆ°ï¼Œæœ€å¤§å–æ¨£æ‡‰ç”¨æ–¼3 x 3é‡ç–Šå–æ¨£å€åŸŸï¼Œå› æ­¤$ N_{in} = 2N_{out}+1 $ï¼Œ$ P_{i,j} $ç‚º3 x 3æ­£æ–¹å½¢ï¼Œä»¥æ­¥é•·2é€²è¡Œæ“´å±•ã€‚ä¸Šè¿°å…©ç¨®æƒ…æ³ä¸­ï¼Œ$ N_{in}\ /\ N_{out} \approx 2 $ï¼Œå› æ­¤è¼¸å…¥å½±åƒä¸­ä»»ä½•æœ‰æ•ˆç‰¹å¾µçš„ç©ºé–“å¤§å°æœƒåœ¨æ¯å€‹å–æ¨£å±¤ä¸­æ¸›åŠã€‚ç›¸è¼ƒä¹‹ä¸‹ï¼Œå¦‚æœæˆ‘å€‘æ¡ç”¨$ N_{in}\ /\ N_{out} \approx \sqrt[n]{2} $ï¼Œå‰‡æœ‰æ•ˆç‰¹å¾µçš„ç©ºé–“å¤§å°ä¹‹ç¸®å°é€Ÿç‡æ¸›ç·©Nå€ã€‚ç‚ºæ¸…æ¥šèµ·è¦‹ï¼Œæˆ‘å€‘ç¾åœ¨å°‡é‡é»æ”¾åœ¨$ N_{in}\ /\ N_{out} \in (1,2) $ï¼Œå› ç‚ºæˆ‘å€‘ä¸»è¦æ„Ÿèˆˆè¶£çš„æ˜¯æº–ç¢ºç‡ï¼›å¦‚æœå°åŸ·è¡Œé€Ÿåº¦ç›¸ç•¶ä»‹æ„ï¼Œå‰‡FMPå¯ä»¥æ¡ç”¨$ N_{in}\ /\ N_{out} \in (2,3) $ã€‚</p><p><img src="https://i.imgur.com/n77VYDM.png" alt><br>Figure 1ï¼šç”±å·¦è‡³å³ä¾åºç‚º36 x 36çš„ç¶²æ ¼ï¼›4å€‹å½éš¨æ©Ÿçš„FMPä¸ç›¸äº¤å–æ¨£å€åŸŸï¼Œ$ \alpha \in \lbrace \sqrt[3]{2},\sqrt 2,2,\sqrt 5 \rbrace $ï¼›ä»¥åŠ$ \alpha = \sqrt 2 $çš„éš¨æ©Ÿçš„FMPä¸ç›¸äº¤å–æ¨£å€åŸŸã€‚å°$ \alpha \in (1,2) $ï¼ŒFMPç”Ÿæˆçš„çŸ©å½¢å–æ¨£å€åŸŸå…¶é‚Šé•·ç‚º1æˆ–2ã€‚å°$ \alpha \in (2,3) $ï¼Œå…¶å–æ¨£å€åŸŸé‚Šé•·å‰‡ç‚º2æˆ–3ã€‚</p><p>çµ¦å®šä¸€å°ç‰¹å®šæ•¸å€¼$ (N_{in},N_{out}) $ï¼Œæˆ‘å€‘éœ€è¦ä¸€ç¨®é¸æ“‡å–æ¨£å€åŸŸ$ (P_{i,j}) $çš„æ–¹æ³•ã€‚æˆ‘å€‘å°‡è€ƒæ…®å…©ç¨®é¡å‹çš„æ’åˆ—æ–¹å¼ï¼šé‡ç–Šçš„æ­£æ–¹å½¢ä»¥åŠä¸ç›¸äº¤çš„çŸ©å½¢é›†åˆã€‚åœ¨Figure 1ä¸­æˆ‘å€‘å±•ç¤ºäº†æ•¸ç¨®ä¸åŒçš„æ–¹æ³•ä¾†å°‡36 x 36æ­£æ–¹å½¢ç¶²æ ¼åˆ†å‰²ç‚ºä¸ç›¸äº¤çš„çŸ©å½¢ã€‚Figure 1ä¸­çš„ç¬¬2ã€ç¬¬3åŠç¬¬6å¼µå½±åƒå¯ä»¥ç”¨ä¾†å®šç¾©é‡ç–Šçš„2 x 2æ­£æ–¹å½¢çš„æ’åˆ—ï¼šå°‡å½±åƒä¸­æ¯å€‹çŸ©å½¢çš„å·¦ä¸Šè§’è¦–ç‚ºå…¶ä¸­ä¸€å€‹æ­£æ–¹å½¢çš„å·¦ä¸Šè§’ã€‚ç‚ºæ¨™æº–åŒ–åœ°æè¿°å¦‚ä½•ç”Ÿæˆå–æ¨£å€åŸŸï¼Œä»¤ï¼š<br>$$ (a_i)^{N_{out}}_{i=0}\ ,\ (b_i)^{N_{out}}_{i=0} $$<br><a id="link-formula-1"></a></p><p>ç‚ºå…©å€‹ä»¥1ç‚ºèµ·å§‹ã€$ N_{in} $çµæŸçš„æ•´æ•¸éå¢æ•¸åˆ—ï¼Œä¸”éå¢é‡çš†ç‚º1æˆ–2(i.e. $ a_{i+1}-a_i \in \lbrace 1,2 \rbrace $)ã€‚ç„¶å¾Œæˆ‘å€‘å¯ä»¥ç”¨ä»¥ä¸‹ä»»ä¸€æ–¹å¼å®šç¾©å–æ¨£å€åŸŸ :<br>$$ P = [a_{i-1},a_i-1] \times [b_{j-1},b_j-1]\ \text{or}\ P_{i,j} = [a_{i-1},a_i] \times [b_{j-1},b_j]\ \ (1) $$</p><p><img src="https://i.imgur.com/a1uq3oy.png" alt><br>Figure 2ï¼šå·¦ä¸Šè§’ç‚ºæŸ¯é”å…¬å¸é‡‹å‡ºçš„çœŸå¯¦è‰²å½©åœ–ç‰‡æ•¸æ“šé›†ï¼Œè§£æåº¦ç‚º384 x 256(åŸå§‹è§£æåº¦ç‚º768 x 512)ã€‚å…¶ä»–äº”å¼µå½±åƒå‰‡æ˜¯ä»¥éš¨æ©Ÿçš„ä¸ç›¸äº¤FMP$ \sqrt 2 $å–æ¨£å€åŸŸé€²è¡Œ6å±¤å¹³å‡å–æ¨£çš„çµæœï¼Œè§£æåº¦ç‚ºå·¦ä¸Šè§’çš„å…«åˆ†ä¹‹ä¸€ã€‚</p><p>æˆ‘å€‘ç¨±é€™å…©ç¨®æƒ…æ³åˆ†åˆ¥ç‚ºä¸ç›¸äº¤å’Œé‡ç–Šï¼Œæ¥è‘—å˜—è©¦å…©ç¨®ä¸åŒçš„æ–¹æ³•ä¾†ç”Ÿæˆæ•´æ•¸åºåˆ—ï¼šéš¨æ©Ÿæ•¸åˆ—ä»¥åŠå½éš¨æ©Ÿæ•¸åˆ—ã€‚å¦‚æœæ•¸åˆ—çš„å¢åŠ æ˜¯é€éå°é©ç•¶æ•¸é‡çš„1å’Œ2é€²è¡Œéš¨æ©Ÿæ’åˆ—è€Œç²å¾—çš„ï¼Œé‚£éº¼æˆ‘å€‘ç¨±å…¶ç‚ºéš¨æ©Ÿæ•¸åˆ—ã€‚è‹¥æ˜¯é€éä»¥ä¸‹æ–¹å¼å‰‡ç¨±ä¹‹å½éš¨æ©Ÿæ•¸åˆ—ï¼š<br>$$ a_i = ceiling(\alpha(i+u)),\ \alpha \in (1,2)\ \text{with some}\ u  \in (0,1) $$</p><p>ä»¥ä¸‹æ˜¯å°æ‡‰$ N_{in} = 25ã€N_{out} = 18 $ä¹‹æƒ…æ³çš„å¢é‡æ¨¡å¼ï¼Œå·¦å´å¢é‡ç‚ºéš¨æ©Ÿç”Ÿæˆï¼Œå³å´å¢é‡å‰‡ä¾†è‡ªå½éš¨æ©Ÿæ•¸åˆ—ï¼š</p><p>211112112211112122 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 112112121121211212<br>111222121121112121 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 212112121121121211<br>121122112111211212 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 211211212112121121</p><p>å„˜ç®¡å…©ç¨®é¡å‹çš„æ•¸åˆ—éƒ½æ˜¯ä¸è¦å‰‡çš„ï¼Œä½†å½éš¨æ©Ÿæ•¸åˆ—æ‰€ç”Ÿæˆçš„å–æ¨£å€åŸŸè¼ƒéš¨æ©Ÿæ•¸åˆ—ä¾†å¾—ç©©å®šã€‚ç‚ºé¡¯ç¤ºå–æ¨£å€åŸŸéš¨æ©ŸåŒ–çš„æ•ˆæœï¼Œè«‹åƒè€ƒFigure 2ã€‚æˆ‘å€‘æ‹æ”äº†ä¸€å¼µå½±åƒï¼Œæ¥è‘—ç–Šä»£ä½¿ç”¨ä¸ç›¸äº¤çš„éš¨æ©Ÿå–æ¨£å€åŸŸä¾†ç¸®æ¸›å½±åƒå¤§å°(åœ¨æ¯å€‹å–æ¨£å€åŸŸä¸­å–å¹³å‡å€¼)ã€‚çµæœæŒ‰æ¯”ä¾‹ç¸®æ¸›çš„å½±åƒé¡¯ç¤ºå‡ºå½ˆæ€§å½¢è®Šã€‚ç›¸ååœ°ï¼Œè‹¥æˆ‘å€‘ä½¿ç”¨å½éš¨æ©Ÿå–æ¨£å€åŸŸï¼Œå‰‡ç”Ÿæˆçš„å½±åƒåƒ…ç‚ºåŸå§‹å½±åƒçš„çœŸå¯¦æ¯”ä¾‹ç¸®å°ç‰ˆæœ¬ã€‚</p><h3 id="å¯¦ä½œæ–¹æ³•"><a href="#å¯¦ä½œæ–¹æ³•" class="headerlink" title="å¯¦ä½œæ–¹æ³•"></a>å¯¦ä½œæ–¹æ³•</h3><p><br><br><img src="https://i.imgur.com/WRZu8v6.png" alt><br>Figure 3ï¼šå¾®å‹FMP$ \sqrt 2 $ç¶²è·¯å„å±¤çš„ç©ºé–“å¤§å°å¦‚åœ–æ‰€ç¤ºã€‚åˆ†æ•¸$ \frac32,\frac64,\frac{10}{7} $è¿‘ä¼¼æ–¼$ \sqrt 2 $ã€‚</p><p>æˆ‘å€‘å°‡ä½¿ç”¨ç¨€ç–å·ç©ç¶²è·¯çš„å¯¦ä¾‹ä¾†é€²è¡Œè¨“ç·´ï¼Œé€™å¯¦éš›ä¸Šæ„å‘³è‘—æˆ‘å€‘èƒ½é€å±¤ä¾åºæŒ‡å®šå·ç©ç¶²è·¯çš„çµæ§‹ã€‚ä¾‹å¦‚ï¼š<br>$$ 10C2-FMP \sqrt 2 -20C-30C2-FMP \sqrt 2 -40C2-50C1-output $$</p><p>è¼¸å…¥å±¤çš„ç©ºé–“å¤§å°æ˜¯é€éç”±å³è‡³å·¦çš„é‹ç®—æ‰€ç²å¾—çš„ï¼šæ¯å€‹C2å·ç©å±¤å°‡ç©ºé–“å¤§å°å¢åŠ ç‚º2å€ï¼ŒFMP$ \sqrt 2 $å±¤å‰‡æ˜¯å°‡ç©ºé–“å¤§å°å¢åŠ ç‚º2å€(å››æ¨äº”å…¥è‡³æœ€æ¥è¿‘çš„æ•´æ•¸)ï¼›åƒè¦‹Figure 3ã€‚è¼¸å…¥å±¤é€šå¸¸æœƒå¤§æ–¼è¼¸å…¥å½±åƒâ€”å¿…è¦æ™‚æœƒè‡ªå‹•ä»¥0ä¾†è£œé½Šã€‚åˆ†æ•¸éšæœ€å¤§å–æ¨£ä¹Ÿèƒ½è¼•æ˜“åœ°åœ¨å¸¸ç”¨çš„å·ç©ç¥ç¶“ç¶²è·¯å¥—ä»¶ä¸­å¯¦ç¾ã€‚ç‚ºç°¡å–®èµ·è¦‹ï¼Œæˆ‘å€‘ä½¿ç”¨çš„æ‰€æœ‰ç¶²è·¯ä¸­æ¯å€‹å·ç©å±¤çš„æ¿¾æ³¢å™¨æ•¸é‡éƒ½å‘ˆç·šæ€§å¢é•·ã€‚å› æ­¤ï¼Œæˆ‘å€‘èƒ½ç°¡è¦åœ°èªªæ˜ä¸Šè¿°çš„ç¶²è·¯çµæ§‹ç‚º</p><p>$$ (10_nC2-FMP \sqrt 2)_3-C2-C1-output $$</p><p>$ 10_n $ä»£è¡¨ç¬¬nå€‹å·ç©å±¤ä¸­çš„æ¿¾æ³¢å™¨æ•¸é‡ç‚º$ 10_n $ï¼Œä¸‹æ¨™çš„3è¡¨ç¤º3å°äº¤æ›¿ä½¿ç”¨çš„C2/FMPå±¤ã€‚ä½¿ç”¨éš¨æ©Ÿå»æ´»åŒ–æ™‚ï¼Œé€²å…¥çš„ç¶²è·¯è¶Šæ·±ï¼Œæ‰€ä½¿ç”¨çš„éš¨æ©Ÿå»æ´»åŒ–æ•¸é‡å°±è¶Šå¤šã€‚æˆ‘å€‘åœ¨ç¬¬ä¸€å€‹éš±è—å±¤ä¸­ä½¿ç”¨0ï¼…éš¨æ©Ÿå»æ´»åŒ–ï¼Œä¸¦åœ¨æœ€å¾Œä¸€å€‹éš±è—å±¤ä¸­ç·šæ€§å¢åŠ è‡³50ï¼…ã€‚æ‰€ä½¿ç”¨çš„æ´»åŒ–å‡½æ•¸ç‚ºleaky ReLU(å¸¶æ»²æ¼æ•´æµç·šæ€§å‡½æ•¸)ã€‚</p><h4 id="æ¨¡å‹å¹³å‡"><a href="#æ¨¡å‹å¹³å‡" class="headerlink" title="æ¨¡å‹å¹³å‡"></a>æ¨¡å‹å¹³å‡</h4><p>æ¯æ¬¡æˆ‘å€‘åŸºæ–¼è¨“ç·´æˆ–æ¸¬è©¦ç›®çš„è€Œæ‡‰ç”¨FMPç¶²è·¯æ™‚ï¼Œéƒ½æœƒä½¿ç”¨ä¸åŒçš„éš¨æ©Ÿæˆ–å½éš¨æ©Ÿåºåˆ—ä¾†ç”Ÿæˆå–æ¨£å€åŸŸã€‚å› æ­¤FMPç¶²çµ¡å¯ä»¥è¢«è¦–ç‚ºç›¸ä¼¼ç¶²è·¯çš„é›†åˆï¼Œè€Œæ¯å€‹ä¸åŒçš„å–æ¨£å€åŸŸè¨­å®šéƒ½å®šç¾©äº†è©²é›†åˆçš„ä¸åŒæˆå“¡ã€‚ é€™é¡ä¼¼æ–¼éš¨æ©Ÿå»æ´»åŒ–<a href="#åƒè€ƒæ–‡ç»">[10]</a>ï¼›éš¨æ©Ÿå»æ´»åŒ–å…¶é®ç½©çš„ä¸åŒæ•¸å€¼å¯ä»¥ç”¨ä¾†å®šç¾©ç›¸é—œç¶²è·¯çš„é›†åˆã€‚å¦‚åŒéš¨æ©Ÿå»æ´»åŒ–ï¼ŒFMPç¶²è·¯çš„æ¨¡å‹å¹³å‡å¯ä»¥å¹«åŠ©æå‡æ•ˆèƒ½ã€‚å¦‚æœä½ å°åŒä¸€å¼µæ¸¬è©¦å½±åƒé€²è¡Œå¤šæ¬¡åˆ†é¡ï¼Œå¯èƒ½æœƒå¾—åˆ°è¨±å¤šä¸åŒçš„é æ¸¬çµæœã€‚å°æ¯å€‹æ¸¬è©¦å½±åƒé€²è¡Œå¤šæ¬¡åˆ†é¡å¾Œï¼Œä½¿ç”¨å¤šæ•¸æ±ºå¯ä»¥å¤§å¹…æå‡æº–ç¢ºåº¦ï¼›åƒè¦‹Figure 4ã€‚</p><p><img src="https://i.imgur.com/NXYLssj.png" alt><br>Figure 4ï¼šé‡è¤‡æ¸¬è©¦å°æ–¼ä¸€å€‹ç”±MNISTæ‰€è¨“ç·´çš„FMPç¶²è·¯ä¹‹å½±éŸ¿</p><h3 id="å¯¦é©—çµæœ"><a href="#å¯¦é©—çµæœ" class="headerlink" title="å¯¦é©—çµæœ"></a>å¯¦é©—çµæœ</h3><p><br></p><h4 id="ä¸ä½¿ç”¨æ•¸æ“šå¢å¼·æˆ–éš¨æ©Ÿå»æ´»åŒ–"><a href="#ä¸ä½¿ç”¨æ•¸æ“šå¢å¼·æˆ–éš¨æ©Ÿå»æ´»åŒ–" class="headerlink" title="ä¸ä½¿ç”¨æ•¸æ“šå¢å¼·æˆ–éš¨æ©Ÿå»æ´»åŒ–"></a>ä¸ä½¿ç”¨æ•¸æ“šå¢å¼·æˆ–éš¨æ©Ÿå»æ´»åŒ–</h4><p>ç‚ºæ¯”è¼ƒä¸åŒç¨®é¡çš„åˆ†æ•¸éšæœ€å¤§å–æ¨£ï¼Œæˆ‘å€‘åœ¨$ \text{MNIST}^1 $ä»¥åŠCIFAR-100æ•¸æ“šé›†ä¸Šè¨“ç·´FMPç¶²è·¯<a href="#åƒè€ƒæ–‡ç»">[4]</a>ã€‚å°æ–¼MNISTï¼Œæˆ‘å€‘ä½¿ç”¨äº†å°å‹çš„FMPç¶²è·¯ï¼š<br>$$ \text{input layer size 36 x 36ï¼š}\ (36_nC2-FMP \sqrt 2)_6-C2-C1-output $$ </p><p>å°æ–¼CIFAR-100å‰‡ä½¿ç”¨äº†è¼ƒå¤§çš„ç¶²è·¯ï¼š<br>$$ \text{input layer size 94 x 94ï¼š}\ (64_nC2-FMP \sqrt[3]{2})_{12}-C2-C1-output $$ </p><p>åœ¨ä¸ä½¿ç”¨è¨“ç·´æ•¸æ“šå¢å¼·çš„æƒ…æ³ä¸‹ï¼Œé€™å…©å€‹æ•¸æ“šé›†æœ€æ–°çš„æ¸¬è©¦èª¤å·®åˆ†åˆ¥ç‚º0.39%ä»¥åŠ34.57%<a href="#åƒè€ƒæ–‡ç»">[6]</a>ã€‚FMPç¶²è·¯çš„çµæœå¦‚Table 1æ‰€ç¤ºã€‚ä½¿ç”¨é‡è¤‡æ¸¬è©¦12æ¬¡çš„æ¨¡å‹å¹³å‡ï¼Œæˆ‘å€‘ç™¼ç¾ä½¿ç”¨éš¨æ©Ÿé‡ç–Šå–æ¨£çš„FMPå°é€™å…©å€‹æ•¸æ“šé›†çš„è¡¨ç¾æœ€ä½³ã€‚å°æ–¼CIFAR-100è€Œè¨€ï¼Œæ­¤æ–¹æ³•ç›¸è¼ƒæ–¼å¸¸è¦çš„æœ€å¤§å–æ¨£æœ‰è‘—ç›¸ç•¶ç¨‹åº¦çš„æ”¹é€²ã€‚å°±ç¶²è·¯çš„è¤‡é›œç¨‹åº¦æ¦‚æ‹¬ä¾†èªªï¼ŒCIFAR-100çš„ç¶²è·¯æ“æœ‰1200è¬å€‹æ¬Šé‡åƒæ•¸ï¼Œä¸”ç¶“é250æ¬¡è¨“ç·´æ•¸æ“šçš„é‡è¤‡è¨“ç·´(åœ¨GeForce GTX 780ä¸Šéœ€è€—è²»18å°æ™‚)ã€‚æˆ‘å€‘å˜—è©¦æ”¹è®ŠCIFAR-100æ¯å±¤çš„éš±è—å–®å…ƒæ•¸é‡ï¼Œæ­é…éš¨æ©Ÿé‡ç–Šå–æ¨£ï¼š</p><ul><li>ä½¿ç”¨$ {16}_nC2 $(0.8M weights)çš„æ¸¬è©¦çµæœèª¤å·®ç‚º42.07% / 34.87</li><li>ä½¿ç”¨$ {32}_nC2 $(3.2M weights)çš„æ¸¬è©¦çµæœèª¤å·®ç‚º35.09% / 29.66</li><li>ä½¿ç”¨$ {96}_nC2 $(27M weights)çµåˆéš¨æ©Ÿå»æ´»åŒ–ä»¥åŠè¼ƒç‚ºå’Œç·©çš„å­¸ç¿’ç‡è¡°æ¸›ï¼Œæ¸¬è©¦çµæœèª¤å·®ç‚º27.62% / 23.82</li></ul><p><img src="https://i.imgur.com/NblVtwE.png" alt><br>Table 1ï¼šMNISTä»¥åŠCIFAR-100çš„æ¸¬è©¦èª¤å·®</p><p>è¨»1ï¼š<a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">http://yann.lecun.com/exdb/mnist/</a></p><h4 id="é˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—"><a href="#é˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—" class="headerlink" title="é˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—"></a>é˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—</h4><p>ç‚ºæ¯”è¼ƒFMPå’ŒMP2å…©ç¨®å–æ¨£æ–¹å¼æ­é…è¨“ç·´æ•¸æ“šå¢å¼·çš„å½±éŸ¿ï¼Œæˆ‘å€‘ä½¿ç”¨ç·šä¸Šç·šä¸Šé˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—æ•¸æ“šé›†ä¾†æ¸¬è©¦ã€‚æ­¤æ•¸æ“šé›†åŒ…å«äº†183å€‹å°åº¦-é›…åˆ©å®‰æ–‡å­—ä¸­æ¯å€‹æ–‡å­—çš„45å€‹æ¨£æœ¬ã€‚ã€Œç·šä¸Šã€çš„æ„æ€æ˜¯æŒ‡æ¯ä¸€ç­†ç•«çš†ä»£è¡¨(x, y)åº§æ¨™åºåˆ—ã€‚æˆ‘å€‘ä½¿ç”¨æ¯å€‹æ–‡å­—çš„å‰36å€‹æ¨£æœ¬åšç‚ºè¨“ç·´é›†ï¼Œå‰©é¤˜çš„9å€‹æ¨£æœ¬åšç‚ºæ¸¬è©¦é›†ï¼Œä¸¦å°‡æ¨£æœ¬ç¸®æ”¾ç‚º64 x 64çš„å¤§å°ä¾†è¨“ç·´ä¸€å€‹æœ‰6å±¤MP2çš„ç¶²è·¯ï¼š<br>$$ 32_nC3-MP2-(C2-MP2)_{12}-C2-output $$</p><p>ä»¥åŠä½¿ç”¨10å±¤éš¨æ©Ÿçš„é‡ç–ŠFMP$ \sqrt 2 $å–æ¨£çš„FMPç¶²è·¯ï¼š<br>$$ (32_nC2-FMP\sqrt 2)_{10}-C2-C1-output $$</p><p>æˆ‘å€‘è¨“ç·´äº†æ²’æœ‰ä½¿ç”¨éš¨æ©Ÿå»æ´»åŒ–çš„ç¶²è·¯ï¼Œä»¥åŠï¼š</p><ul><li>ä¸ä½¿ç”¨æ•¸æ“šå¢å¼·</li><li>ä½¿ç”¨éš¨æ©Ÿå¹³ç§»ä¾†ä½ç§»æ–‡å­—</li><li>ä½¿ç”¨ä»¿å°„è½‰æ›(å¹³ç§»ã€æ—‹è½‰ã€æ‹‰ä¼¸ä»¥åŠå‰ªåˆ‡çš„éš¨æ©Ÿçµ„åˆ)</li></ul><p><img src="https://i.imgur.com/fNDKsYO.png" alt><br>Table 2ï¼šä»¥é˜¿è–©å§†èªæ‰‹å¯«æ–‡å­—æ•¸æ“šé›†æ­é…ä¸åŒé¡å‹çš„æ•¸æ“šå¢å¼·ä¾†è¨“ç·´ç¶²è·¯çš„æ¸¬è©¦èª¤å·®</p><p>åƒç…§Table 2ã€‚æŸç¨®æ„ç¾©ä¸Šä¾†èªªï¼Œæˆ‘å€‘å°æ–¼ã€Œåœ¨æŸç¨®ç¨‹åº¦çš„è¼•å¾®å¤±çœŸä¸‹ï¼Œç­†è·¡çš„æ„ç¾©é€šå¸¸æ˜¯ä¸è®Šçš„ã€çš„èªçŸ¥ï¼Œä¾†è‡ªæœ€å¤§å–æ¨£èˆ‡è¨“ç·´æ•¸æ“šå¢å¼·é€™å…©ç¨®ä¸åŒçš„æ–¹å¼ã€‚æœ‰è¶£çš„æ˜¯ï¼Œä¸ä½¿ç”¨æ•¸æ“šå¢å¼·çš„FMPç¶²è·¯æ¯”èµ·ä½¿ç”¨æ•¸æ“šå¢å¼·çš„MP2ç¶²è·¯è¡¨ç¾æ›´å¥½ï¼Œé¡¯ç¤ºFMPç¶²è·¯æ›´é©åˆè™•ç†è©²æ•¸æ“šé›†ã€‚</p><h4 id="ç·šä¸Šä¸­æ–‡æ‰‹å¯«æ–‡å­—"><a href="#ç·šä¸Šä¸­æ–‡æ‰‹å¯«æ–‡å­—" class="headerlink" title="ç·šä¸Šä¸­æ–‡æ‰‹å¯«æ–‡å­—"></a>ç·šä¸Šä¸­æ–‡æ‰‹å¯«æ–‡å­—</h4><p>CASIA-OLHWDB1.1æ•¸æ“šé›†åŒ…å«äº†3755å€‹ç¨ç«‹çš„GBK 1ç´šæ¼¢å­—æ‰‹å¯«æ¨£æœ¬<a href="#åƒè€ƒæ–‡ç»">[8]</a>ï¼Œæ¯å€‹é¡åˆ¥å¤§ç´„æœ‰240å€‹è¨“ç·´æ¨£æœ¬èˆ‡60å€‹æ¸¬è©¦æ¨£æœ¬ã€‚ä½¿ç”¨4å±¤çš„MP2å–æ¨£å±¤å¯ä»¥é”åˆ°5.61%çš„æ¸¬è©¦èª¤å·®<a href="#åƒè€ƒæ–‡ç»">[2]</a>ã€‚</p><p>æˆ‘å€‘ä½¿ç”¨<a href="#åƒè€ƒæ–‡ç»">[3]</a>æ‰€æè¿°çš„ç·šä¸Šå­—ç¬¦è¡¨ç¤ºæ³•ï¼›ä»¥64 x 64çš„å¤§å°ç¹ªè£½æ–‡å­—ï¼ŒåŠ ä¸Šé‡æ¸¬ç­†è·¡æ–¹å‘çš„ç‰¹å¾µï¼Œç”Ÿæˆ64 x 64 x 9çš„é™£åˆ—ã€‚ä½¿ç”¨2 x 2æœ€å¤§å–æ¨£ã€éš¨æ©Ÿå»æ´»åŒ–ä»¥åŠä»¿å°„è¨“ç·´æ•¸æ“šå¢å¼·ï¼Œæ¸¬è©¦çµæœèª¤å·®ç‚º3.82% <a href="#åƒè€ƒæ–‡ç»">[3]</a>ã€‚ä»¥å½éš¨æ©Ÿçš„é‡ç–ŠFMPå–ä»£æœ€å¤§å–æ¨£ï¼š<br>$$ (64_nC2-FMP\sqrt 2)_7-(C2-MP2-C1)_2-C2-C1-output $$</p><p>æ¸¬è©¦çµæœèª¤å·®ç‚º3.26%(1 test)ä»¥åŠ2.97%(12 tests)ã€‚</p><h4 id="CIFAR-10æ­é…éš¨æ©Ÿå»æ´»åŒ–èˆ‡è¨“ç·´æ•¸æ“šå¢å¼·"><a href="#CIFAR-10æ­é…éš¨æ©Ÿå»æ´»åŒ–èˆ‡è¨“ç·´æ•¸æ“šå¢å¼·" class="headerlink" title="CIFAR-10æ­é…éš¨æ©Ÿå»æ´»åŒ–èˆ‡è¨“ç·´æ•¸æ“šå¢å¼·"></a>CIFAR-10æ­é…éš¨æ©Ÿå»æ´»åŒ–èˆ‡è¨“ç·´æ•¸æ“šå¢å¼·</h4><p>å°æ–¼CIFAR-10æ•¸æ“šé›†ï¼Œæˆ‘å€‘ä½¿ç”¨äº†éš¨æ©Ÿå»æ´»åŒ–å’Œé€éä»¿å°„è½‰æ›ä¾†æ“´å……è¨“ç·´æ•¸æ“šï¼šéš¨æ©Ÿå°æ•¸æ“šé›†åŸ·è¡Œå¹³ç§»ã€æ—‹è½‰ã€åå°„ã€æ‹‰ä¼¸åŠå‰ªåˆ‡çš„é è™•ç†ã€‚ç›¸è¼ƒä¹‹ä¸‹ï¼Œäººé¡åœ¨CIFAR-10æ•¸æ“šé›†çš„è¡¨ç¾ä¼°è¨ˆç‚º6%$ {}^2 $ ã€‚è€Œè¿‘æœŸ(2015)æ–¼Kaggleå¹³å°ä¸Šçš„CIFAR-10ç«¶è³½ï¼Œç²å‹è€…çš„æ¸¬è©¦èª¤å·®ç‚º4.47%$ {}^3 $, ä½¿ç”¨ä¸Šè¿°çš„æ•¸æ“šå¢å¼·ç­–ç•¥å’Œä»¥ä¸‹çš„ç¶²è·¯çµæ§‹ï¼š<br>$$ (300_nC2-300_nC2-MP2)_5-C2-C1-output $$</p><p>ä½¿ç”¨å½éš¨æ©Ÿçš„é‡ç–ŠFMPç¶²è·¯ï¼š<br>$$ (160_nC2-FMP\sqrt[3]{2})_12-C2-C1-output $$</p><p>æˆ‘å€‘å¾—åˆ°äº†4.50%(1 test)ï¼Œ3.67%(12 tests)åŠ3.47%(100 tests)çš„æ¸¬è©¦èª¤å·®ã€‚</p><p>è¨»2ï¼š<a href="http://karpathy.github.io/2011/04/27/manually-classifying-cifar10/" target="_blank" rel="noopener">http://karpathy.github.io/2011/04/27/manually-classifying-cifar10/</a><br>è¨»3ï¼š<a href="https://www.kaggle.com/c/cifar-10/" target="_blank" rel="noopener">https://www.kaggle.com/c/cifar-10/</a><br>ï¼ŠåŸæ–‡ä¸­è¨»2çš„<a href="http://karpathy.ca/myblog/?p=160" target="_blank" rel="noopener">åŸå§‹ç¶²å€</a>å·²å¤±æ•ˆï¼Œæ¨æ¸¬æ˜¯ç¶²ç«™æ¬é·ã€‚</p><h3 id="çµè«–"><a href="#çµè«–" class="headerlink" title="çµè«–"></a>çµè«–</h3><p>æˆ‘å€‘åœ¨è¨±å¤šå—æ­¡è¿çš„æ•¸æ“šé›†ä¸Šè¨“ç·´æ­é…åˆ†æ•¸éšæœ€å¤§å–æ¨£çš„å·ç©ç¶²è·¯ï¼Œä¸¦æ–¼æ•ˆèƒ½æ–¹é¢ç™¼ç¾æœ‰é¡¯è‘—çš„æ”¹å–„ã€‚å–æ¨£å€åŸŸé‡ç–Šçš„FMPæ¯”èµ·ä¸ç›¸äº¤çš„ä¼¼ä¹è¡¨ç¾å¾—æ›´å¥½ã€‚ä½¿ç”¨è¨“ç·´æ•¸æ“šå¢å¼·æ™‚ï¼Œå½éš¨æ©Ÿå–æ¨£å€åŸŸæ¯”éš¨æ©Ÿå–æ¨£å€åŸŸçš„è¡¨ç¾æ›´ä½³ã€‚è‹¥å¾®èª¿éš¨æ©Ÿå»æ´»åŒ–çš„ä½¿ç”¨æ•¸é‡ï¼Œéš¨æ©Ÿå–æ¨£å¯èƒ½æœƒé‡æ–°å–å¾—å„ªå‹¢ã€‚</p><p>å†æ¬¡æŸ¥çœ‹Figure 2ç”±éš¨æ©Ÿå–æ¨£æ‰€å‰µé€ çš„å¤±çœŸï¼Œè«‹æ³¨æ„æ­¤ã€Œå¤±çœŸã€å¯ä»¥åˆ†è§£ç‚ºã€ŒXè»¸çš„å¤±çœŸã€å’Œã€ŒYè»¸çš„å¤±çœŸã€ï¼Œæ¢ç©¶ç„¡æ³•ä»¥<a href="#link-formula-1">æ–¹ç¨‹å¼(1)</a>è¡¨é”çš„å–æ¨£å€åŸŸå¯èƒ½æœƒå¾ˆæœ‰è¶£ï¼Œå› ç‚ºå®ƒå€‘å¯èƒ½å°‡æ›´ç‚ºé€šç”¨çš„å¤±çœŸç·¨ç¢¼è‡³çµæœçš„å·ç©ç¶²è·¯ã€‚</p><h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»"></a>åƒè€ƒæ–‡ç»</h3><p>[1] K. Bache and M. Lichman. UCI machine learning repository, 2013.</p><p>[2] D. Ciresan, U. Meier, and J. Schmidhuber. Multi-column deep neural networks for image classification. In Computer Vision and Pattern Recognition(CVPR), 2012 IEEE Conference on, pages 3642â€“3649, 2012.</p><p>[3] Ben Graham. Spatially-sparse convolutional neural networks. 2014.</p><p>[4] Alex Krizhevsky. Learning Multiple Layers of Features from Tiny Images.Technical report, 2009.</p><p>[5] Alex Krizhevsky, Ilya Sutskever, and Geoffrey E. Hinton. Imagenet classification with deep convolutional neural networks. In F.Pereira, C.J.C. Burges, L. Bottou, and K.Q. Weinberger, editors, Advances in Neural Information Processing Systems 25, pages 1097â€“1105. Curran Associates, Inc., 2012.</p><p>[6] Chen-Yu Lee, Saining Xie, Patrick Gallagher, Zhengyou Zhang, and Zhuowen Tu. Deeply-Supervised Nets, 2014.</p><p>[7] Min Lin, Qiang Chen, and Shuicheng Yan. Network in network. ICLR, 2014.</p><p>[8] C.-L. Liu, F. Yin, D.-H. Wang, and Q.-F. Wang. CASIA online and offline Chinese handwriting databases. In Proc. 11th International Conference on Document Analysis and Recognition (ICDAR), Beijing, China, pages 37â€“41, 2011.</p><p>[9] Karen Simonyan and Andrew Zisserman. Very deep convolutional networks for large-scale image recognition. 2014.</p><p>[10] Nitish Srivastava, Geoffrey Hinton, Alex Krizhevsky, Ilya Sutskever, and Ruslan Salakhutdinov. Dropout: A Simple Way to Prevent Neural Networks from Overfitting. Journal of Machine Learning Research, 15:1929â€“1958, 2014.</p><p>[11] Christian Szegedy, Wei Liu, Yangqing Jia, Pierre Sermanet, Scott Reed,Dragomir Anguelov, Dumitru Erhan, Vincent Vanhoucke, and Andrew Rabinovich. Going deeper with convolutions. 2014.</p><p>[12] Li Wan, Matthew Zeiler, Sixin Zhang, Yann Lecun, and Rob Fergus. Regularization of Neural Networks using DropConnect, 2013. JMLR W&amp;CP 28 (3) : 1058â€“1066, 2013.</p><p>[13] Matthew D. Zeiler and Rob Fergus. Stochastic Pooling for Regularization of Deep Convolutional Neural Networks. ICLR 2013.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½œè€…ï¼šBenjamin Graham&lt;br&gt;åŸæ–‡ï¼š&lt;a href=&quot;https://arxiv.org/abs/1412.6071&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://arxiv.org/abs/1412.6071&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Study" scheme="https://laplacetw.github.io/categories/Study/"/>
    
    
      <category term="deep learning" scheme="https://laplacetw.github.io/tags/deep-learning/"/>
    
      <category term="computer vision" scheme="https://laplacetw.github.io/tags/computer-vision/"/>
    
  </entry>
  
  <entry>
    <title>æ¨¹è“æ´¾ï¼šç´…å¤–ç·šç†±åƒå„€</title>
    <link href="https://laplacetw.github.io/rspi-thermal-cam-amg8833/"/>
    <id>https://laplacetw.github.io/rspi-thermal-cam-amg8833/</id>
    <published>2020-04-19T15:23:39.000Z</published>
    <updated>2020-08-21T09:05:53.983Z</updated>
    
    <content type="html"><![CDATA[<p>çœ‹åˆ°ç«è»Šç«™æ¶è¨­ç†±åƒå„€ç›£æ§æ—…å®¢å€‘çš„é«”æº«ï¼Œç„¶è€Œä¸¦éæ¯å€‹è»Šç«™éƒ½èƒ½è¨­ç½®å¦‚æ­¤æ˜‚è²´çš„å„€å™¨ï¼Œå‡ºæ–¼å¥½å¥‡ä¹Ÿæƒ³åšå€‹ä½æˆæœ¬çš„ä¾†çœ‹çœ‹ï¼Œé›–ç„¶è§£æåº¦èˆ‡ç²¾ç¢ºåº¦éƒ½æ¯”ä¸ä¸Šæ˜‚è²´çš„ç²¾å¯†å„€å™¨ï¼Œä½†åœ¨è¿‘è·é›¢ä¸‹èƒ½åšåˆ°å¿«é€Ÿã€è‡ªå‹•åµæ¸¬é«”æº«çš„è©±ï¼Œæ¯”èµ·è®“ç«™å‹™äººå“¡é€ä¸€é‡æ¸¬å¾Œé€²ç«™ï¼Œé€™æ‡‰è©²å ªç”¨ä¸”æœ‰æ•ˆç‡å¤šäº†ã€‚<br><a id="more"></a></p><h3 id="AMG8833-Intro"><a href="#AMG8833-Intro" class="headerlink" title="AMG8833 Intro"></a>AMG8833 Intro</h3><p><img src="https://i.imgur.com/JATdb1S.jpg" alt><br>æ–¼æ˜¯æˆ‘è²·ä¾†äº†Adafruit AMG8833æ¨¡çµ„ï¼Œé€™æ¨¡çµ„ä¸Šé ­è£è‘—Panasonicæ‰€ç”Ÿç”¢çš„ç´…å¤–ç·šé™£åˆ—æ„Ÿæ¸¬å™¨ã€‚<br>Datasheetï¼š<a href="https://b2b-api.panasonic.eu/file_stream/pids/fileversion/1819" target="_blank" rel="noopener">Panasonic IR Array Sensor Grid-EYE</a></p><p><img src="https://i.imgur.com/gQseBWz.jpg" alt><br><img src="https://i.imgur.com/DBrxsGu.jpg" alt></p><p>åƒè€ƒ<a href="https://www.adafruit.com/product/3538" target="_blank" rel="noopener">Adafruitå®˜ç¶²</a>çš„æŠ€è¡“åƒæ•¸èªªæ˜ï¼š</p><ol><li>æ„Ÿæ¸¬å™¨ç‚º8x8ç´…å¤–ç·šé™£åˆ—</li><li>æº«åº¦æ„Ÿæ¸¬å€é–“ç‚ºæ”æ°0åº¦ï½æ”æ°80åº¦(ç²¾åº¦ç‚ºæ­£è² 2.5åº¦)</li><li>äººé«”æœ€å¤§æ„Ÿæ¸¬è·é›¢ç‚º7ç±³</li><li>é€é<a href="https://zh.wikipedia.org/wiki/I%C2%B2C" target="_blank" rel="noopener">I2Cå”å®š</a>é€²è¡Œæ•¸æ“šå‚³è¼¸</li></ol><h3 id="Setting-amp-Installing"><a href="#Setting-amp-Installing" class="headerlink" title="Setting &amp; Installing"></a>Setting &amp; Installing</h3><p>æ¥ä¸‹ä¾†å°‡æ–¼é‹è¡ŒRaspbianä½œæ¥­ç³»çµ±çš„æ¨¹è“æ´¾ä¸Šé€²è¡Œç’°å¢ƒè¨­ç½®ï¼Œæˆ‘ç¿’æ…£<a href="https://laplacetw.github.io/rspi-meet-raspberry-pi-b3-plus/#Remote">ä½¿ç”¨VNC Serverèˆ‡æ¨¹è“æ´¾é€²è¡Œé ç«¯é€£ç·šæ“ä½œ</a>ã€‚</p><h4 id="ç³»çµ±æ›´æ–°"><a href="#ç³»çµ±æ›´æ–°" class="headerlink" title="ç³»çµ±æ›´æ–°"></a>ç³»çµ±æ›´æ–°</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get update</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get upgrade</span></span><br></pre></td></tr></table></figure><h4 id="å•Ÿç”¨I2C-amp-SPIä»‹é¢"><a href="#å•Ÿç”¨I2C-amp-SPIä»‹é¢" class="headerlink" title="å•Ÿç”¨I2C &amp; SPIä»‹é¢"></a>å•Ÿç”¨I2C &amp; SPIä»‹é¢</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo raspi-config</span></span><br></pre></td></tr></table></figure><p>åœ¨é¸é …5çš„ä»‹é¢è¨­å®šä¸­å•Ÿç”¨å®ƒå€‘ï¼Œç„¶å¾Œæ¸¬è©¦æ˜¯å¦æˆåŠŸå•Ÿç”¨<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls /dev/i2c* /dev/spi*</span></span><br></pre></td></tr></table></figure></p><h4 id="Package-Installing"><a href="#Package-Installing" class="headerlink" title="Package Installing"></a>Package Installing</h4><p>ç›´æ¥å®‰è£Adafruitçš„AMG88XX Packageï¼Œpipæœƒè™•ç†å…¶ä»–ä¾è³´çš„å‡½å¼åº«(e.g. Adafruit-Blinka)ã€‚<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo pip3 install adafruit-circuitpython-amg88xx</span></span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/sANUgo1.png" alt></p><h4 id="Blinka-Test"><a href="#Blinka-Test" class="headerlink" title="Blinka Test"></a>Blinka Test</h4><p>ä½¿ç”¨Adafruitçš„æ¸¬è©¦ç¯„ä¾‹ä¾†ç¢ºèªç’°å¢ƒè¨­å®šæ˜¯å¦å®Œæˆã€‚<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> board</span><br><span class="line"><span class="keyword">import</span> digitalio</span><br><span class="line"><span class="keyword">import</span> busio</span><br><span class="line"></span><br><span class="line">print(<span class="string">"Hello blinka!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Try to great a Digital input</span></span><br><span class="line">pin = digitalio.DigitalInOut(board.D4)</span><br><span class="line">print(<span class="string">"Digital IO ok!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Try to create an I2C device</span></span><br><span class="line">i2c = busio.I2C(board.SCL, board.SDA)</span><br><span class="line">print(<span class="string">"I2C ok!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Try to create an SPI device</span></span><br><span class="line">spi = busio.SPI(board.SCLK, board.MOSI, board.MISO)</span><br><span class="line">print(<span class="string">"SPI ok!"</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"done!"</span>)</span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/msoQDyb.png" alt></p><h4 id="I2C-Test"><a href="#I2C-Test" class="headerlink" title="I2C Test"></a>I2C Test</h4><p>ä¾ç…§<a href="https://pinout.xyz/" target="_blank" rel="noopener">æ¨¹è“æ´¾GPIO</a>èˆ‡AMG8833é€²è¡Œé€£æ¥ï¼š</p><ol><li>3V Poweré€£æ¥åˆ°Vin</li><li>GNDé€£æ¥åˆ°GND</li><li>é€£æ¥SDA &amp; SCL<br><img src="https://i.imgur.com/ilmXszn.jpg" alt></li></ol><p>è©¦è‘—é€éI2Cè®€å–æ„Ÿæ¸¬å™¨æ•¸æ“šä¸¦å°å‡ºä¾†<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> busio</span><br><span class="line"><span class="keyword">import</span> board</span><br><span class="line"><span class="keyword">import</span> adafruit_amg88xx</span><br><span class="line"></span><br><span class="line">i2c = busio.I2C(board.SCL, board.SDA)</span><br><span class="line">amg = adafruit_amg88xx.AMG88XX(i2c)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> amg.pixels:</span><br><span class="line">        <span class="comment"># Pad to 1 decimal place</span></span><br><span class="line">        print([<span class="string">"&#123;0:.1f&#125;"</span>.format(temp) <span class="keyword">for</span> temp <span class="keyword">in</span> row])</span><br><span class="line">        print(<span class="string">""</span>)</span><br><span class="line">    print(<span class="string">"\n"</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/DK85IXe.png" alt></p><h3 id="Build-Thermal-Camera"><a href="#Build-Thermal-Camera" class="headerlink" title="Build Thermal Camera"></a>Build Thermal Camera</h3><p>å®‰è£æº«åº¦æ•¸æ“šè¦–è¦ºåŒ–æ‰€éœ€çš„å‡½å¼åº«<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install -y python3-scipy python3-pygame</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo pip3 install colour</span></span><br></pre></td></tr></table></figure></p><p>Adafruitå®˜æ–¹ç¯„ä¾‹ç¨‹å¼ï¼š<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""This example is for Raspberry Pi (Linux) only!</span></span><br><span class="line"><span class="string">   It will not work on microcontrollers running CircuitPython!"""</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> busio</span><br><span class="line"><span class="keyword">import</span> board</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span> scipy.interpolate <span class="keyword">import</span> griddata</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> colour <span class="keyword">import</span> Color</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> adafruit_amg88xx</span><br><span class="line"></span><br><span class="line">i2c_bus = busio.I2C(board.SCL, board.SDA)</span><br><span class="line"></span><br><span class="line"><span class="comment">#low range of the sensor (this will be blue on the screen)</span></span><br><span class="line">MINTEMP = <span class="number">26.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#high range of the sensor (this will be red on the screen)</span></span><br><span class="line">MAXTEMP = <span class="number">32.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#how many color values we can have</span></span><br><span class="line">COLORDEPTH = <span class="number">1024</span></span><br><span class="line"></span><br><span class="line">os.putenv(<span class="string">'SDL_FBDEV'</span>, <span class="string">'/dev/fb1'</span>)</span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment">#initialize the sensor</span></span><br><span class="line">sensor = adafruit_amg88xx.AMG88XX(i2c_bus)</span><br><span class="line"></span><br><span class="line"><span class="comment"># pylint: disable=invalid-slice-index</span></span><br><span class="line">points = [(math.floor(ix / <span class="number">8</span>), (ix % <span class="number">8</span>)) <span class="keyword">for</span> ix <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">64</span>)]</span><br><span class="line">grid_x, grid_y = np.mgrid[<span class="number">0</span>:<span class="number">7</span>:<span class="number">32j</span>, <span class="number">0</span>:<span class="number">7</span>:<span class="number">32j</span>]</span><br><span class="line"><span class="comment"># pylint: enable=invalid-slice-index</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sensor is an 8x8 grid so lets do a square</span></span><br><span class="line">height = <span class="number">240</span></span><br><span class="line">width = <span class="number">240</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#the list of colors we can choose from</span></span><br><span class="line">blue = Color(<span class="string">"indigo"</span>)</span><br><span class="line">colors = list(blue.range_to(Color(<span class="string">"red"</span>), COLORDEPTH))</span><br><span class="line"></span><br><span class="line"><span class="comment">#create the array of colors</span></span><br><span class="line">colors = [(int(c.red * <span class="number">255</span>), int(c.green * <span class="number">255</span>), int(c.blue * <span class="number">255</span>)) <span class="keyword">for</span> c <span class="keyword">in</span> colors]</span><br><span class="line"></span><br><span class="line">displayPixelWidth = width / <span class="number">30</span></span><br><span class="line">displayPixelHeight = height / <span class="number">30</span></span><br><span class="line"></span><br><span class="line">lcd = pygame.display.set_mode((width, height))</span><br><span class="line"></span><br><span class="line">lcd.fill((<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">pygame.display.update()</span><br><span class="line">pygame.mouse.set_visible(<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line">lcd.fill((<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">pygame.display.update()</span><br><span class="line"></span><br><span class="line"><span class="comment">#some utility functions</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">constrain</span><span class="params">(val, min_val, max_val)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> min(max_val, max(min_val, val))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map_value</span><span class="params">(x, in_min, in_max, out_min, out_max)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min</span><br><span class="line"></span><br><span class="line"><span class="comment">#let the sensor initialize</span></span><br><span class="line">time.sleep(<span class="number">.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">#read the pixels</span></span><br><span class="line">    pixels = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> sensor.pixels:</span><br><span class="line">        pixels = pixels + row</span><br><span class="line">    pixels = [map_value(p, MINTEMP, MAXTEMP, <span class="number">0</span>, COLORDEPTH - <span class="number">1</span>) <span class="keyword">for</span> p <span class="keyword">in</span> pixels]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#perform interpolation</span></span><br><span class="line">    bicubic = griddata(points, pixels, (grid_x, grid_y), method=<span class="string">'cubic'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#draw everything</span></span><br><span class="line">    <span class="keyword">for</span> ix, row <span class="keyword">in</span> enumerate(bicubic):</span><br><span class="line">        <span class="keyword">for</span> jx, pixel <span class="keyword">in</span> enumerate(row):</span><br><span class="line">            pygame.draw.rect(lcd, colors[constrain(int(pixel), <span class="number">0</span>, COLORDEPTH- <span class="number">1</span>)],</span><br><span class="line">                             (displayPixelHeight * ix, displayPixelWidth * jx,</span><br><span class="line">                              displayPixelHeight, displayPixelWidth))</span><br><span class="line"></span><br><span class="line">    pygame.display.update()</span><br></pre></td></tr></table></figure><br><br><br>è¿·ä½ ç´…å¤–ç·šç†±åƒå„€å°±é€™éº¼é‹ä½œèµ·ä¾†å›‰ï½ğŸ™†â€â™‚ï¸ å¯ä¾ç…§è‡ªå·±çš„æ¸¬è©¦ç’°å¢ƒï¼Œå˜—è©¦èª¿æ•´æ„Ÿæ¸¬æº«åº¦ä¸Šä¸‹é™è®“å½±åƒæ¸…æ™°ä¸€äº›ã€‚<br><img src="https://i.imgur.com/KtWuOfU.gif" alt></p><p>ï¼Šåƒè€ƒ</p><ol><li><a href="https://www.strongpilab.com/i2c-introduction/" target="_blank" rel="noopener">I2C-å”å®šç”¨æ³•åŸç†ç°¡ä»‹-æ™¶ç‰‡æºé€šçš„æ©‹æ¨‘</a></li><li><a href="https://learn.adafruit.com/circuitpython-on-raspberrypi-linux/installing-circuitpython-on-raspberry-pi" target="_blank" rel="noopener">Installing CircuitPython Libraries on Raspberry Pi</a></li><li><a href="https://learn.adafruit.com/adafruit-amg8833-8x8-thermal-camera-sensor/python-circuitpython" target="_blank" rel="noopener">Adafruit AMG8833 8x8 Thermal Camera Sensor</a></li><li><a href="https://learn.adafruit.com/adafruit-amg8833-8x8-thermal-camera-sensor/raspberry-pi-thermal-camera" target="_blank" rel="noopener">Raspberry Pi Thermal Camera</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çœ‹åˆ°ç«è»Šç«™æ¶è¨­ç†±åƒå„€ç›£æ§æ—…å®¢å€‘çš„é«”æº«ï¼Œç„¶è€Œä¸¦éæ¯å€‹è»Šç«™éƒ½èƒ½è¨­ç½®å¦‚æ­¤æ˜‚è²´çš„å„€å™¨ï¼Œå‡ºæ–¼å¥½å¥‡ä¹Ÿæƒ³åšå€‹ä½æˆæœ¬çš„ä¾†çœ‹çœ‹ï¼Œé›–ç„¶è§£æåº¦èˆ‡ç²¾ç¢ºåº¦éƒ½æ¯”ä¸ä¸Šæ˜‚è²´çš„ç²¾å¯†å„€å™¨ï¼Œä½†åœ¨è¿‘è·é›¢ä¸‹èƒ½åšåˆ°å¿«é€Ÿã€è‡ªå‹•åµæ¸¬é«”æº«çš„è©±ï¼Œæ¯”èµ·è®“ç«™å‹™äººå“¡é€ä¸€é‡æ¸¬å¾Œé€²ç«™ï¼Œé€™æ‡‰è©²å ªç”¨ä¸”æœ‰æ•ˆç‡å¤šäº†ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Raspberry Pi" scheme="https://laplacetw.github.io/categories/Raspberry-Pi/"/>
    
    
      <category term="IoT" scheme="https://laplacetw.github.io/tags/IoT/"/>
    
      <category term="raspberry pi" scheme="https://laplacetw.github.io/tags/raspberry-pi/"/>
    
      <category term="adafruit" scheme="https://laplacetw.github.io/tags/adafruit/"/>
    
      <category term="thermal camera" scheme="https://laplacetw.github.io/tags/thermal-camera/"/>
    
  </entry>
  
  <entry>
    <title>Pythonæ‰¹æ¬¡å½±ç‰‡è½‰GIF</title>
    <link href="https://laplacetw.github.io/python-batch-video-to-gif/"/>
    <id>https://laplacetw.github.io/python-batch-video-to-gif/</id>
    <published>2020-04-09T17:30:51.000Z</published>
    <updated>2020-08-05T06:34:56.333Z</updated>
    
    <content type="html"><![CDATA[<p>å¶çˆ¾æœƒç‚ºäº†DEMOç”¨é€”ï¼Œéœ€è¦å°‡å½±ç‰‡è½‰æ›ç‚ºGIFçš„å½¢å¼ï¼Œä¾¿æ–¼ç©¿æ’åœ¨æ–‡ç« è£¡é ­ï¼Œä½†æˆ‘ä¸æƒ³ç‚ºäº†é€™å°å°çš„éœ€æ±‚å®‰è£ä»€éº¼è»Ÿé«”ã€‚<a id="more"></a>è€Œç·šä¸Šæœå‹™å°±æ˜¯åœ–å€‹æ–¹ä¾¿æ‰“åˆ°å¾ˆå¤šä½¿ç”¨è€…çš„ç—›é»ï¼Œä½†ä½ å¿…é ˆå°‡åœ–ç‰‡ä¸Šå‚³ï¼Œé€™å°æŸäº›ä½¿ç”¨è€…è€Œè¨€å¯èƒ½æœ‰ç–‘æ…®â€¦é›–ç„¶æˆ‘è¦‹åˆ°çš„ç·šä¸Šè½‰æª”æœå‹™ä½¿ç”¨è€…éƒ½æ˜¯è«åå®‰å¿ƒåœ°ä¸Šå‚³çš„(?)</p><p>Pythonæ˜¯éå¸¸ç¾å¥½çš„ç¨‹å¼èªè¨€ï¼Œè‡ªå·±å¯«æ®µç¨‹å¼ç¢¼ä¾†è™•ç†å°±è¡Œäº†ğŸ˜&nbsp;&nbsp;æˆ‘å€‘åªéœ€è¦å…ˆåœ¨é›»è…¦å®‰è£<a href="https://ffmpeg.org/" target="_blank" rel="noopener">FFmpeg</a>ï¼Œç„¶å¾Œå¼•å…¥<a href="https://pypi.org/project/moviepy/" target="_blank" rel="noopener">moviepy</a>é€™å€‹å¥—ä»¶å°±è¡Œäº†ï¼Œä½œè€…zulkoåœ¨ä»–çš„å€‹äººç¶²ç«™æœ‰<a href="http://zulko.github.io/blog/2014/01/23/making-animated-gifs-from-video-files-with-python/" target="_blank" rel="noopener">è©³ç´°çš„æ•™å­¸</a>ã€‚</p><hr><p>ç¯„ä¾‹ç¨‹å¼ï¼š</p><p>è¨­ç½®åƒæ•¸å¯æ›´æ›å½±ç‰‡è¼¸å…¥æ ¼å¼ã€æ˜¯å¦åŠ å…¥æµ®æ°´å°ä»¥åŠç”Ÿæˆçš„GIFå’Œæµ®æ°´å°çš„ç¸®æ”¾å€ç‡ã€‚<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">from</span> glob <span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">import</span> moviepy.editor <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># setting</span></span><br><span class="line">filetype = <span class="string">'.mov'</span></span><br><span class="line">watermark = <span class="string">'./devilcat.png'</span></span><br><span class="line">scale_gif = <span class="number">0.3</span></span><br><span class="line">scale_mark = <span class="number">0.3</span></span><br><span class="line"></span><br><span class="line">videos = glob(<span class="string">'./*'</span> + filetype)</span><br><span class="line">videos.sort()</span><br><span class="line"><span class="keyword">for</span> video <span class="keyword">in</span> videos:</span><br><span class="line">    output = video.replace(filetype, <span class="string">'.gif'</span>)</span><br><span class="line">    <span class="keyword">with</span> mp.VideoFileClip(video).resize(scale_gif) <span class="keyword">as</span> clip:</span><br><span class="line">        <span class="keyword">if</span> watermark == <span class="string">''</span>:  <span class="comment"># no watermark</span></span><br><span class="line">            clip.write_gif(output, fps=<span class="number">5</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            mark_image = (mp.ImageClip(watermark)</span><br><span class="line">            .resize(scale_mark)</span><br><span class="line">            .set_duration(clip.duration)</span><br><span class="line">            .set_pos((<span class="string">"left"</span>, <span class="string">"top"</span>)))</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># add watermark to video</span></span><br><span class="line">            mark_video = mp.CompositeVideoClip([clip, mark_image])</span><br><span class="line">            mark_video.write_gif(output, fps=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><br>ï¼Šé—œæ–¼resizeçš„éŒ¯èª¤åƒè€ƒï¼š<a href="https://stackoverflow.com/questions/57696343/moviepy-does-not-recognize-resize-function" target="_blank" rel="noopener">stackoverflow â€” Moviepy does not recognize resize function</a></p><hr><p>æˆ‘ä½¿ç”¨<a href="https://youtu.be/H4Cn4taeuA4" target="_blank" rel="noopener">YTé »é“å“ˆå“ˆå°è¨ªå•æµªæ¼«Dukeç¶“å…¸ç‰‡æ®µ</a>ç•¶ç¯„ä¾‹ï¼Œå¯¦éš›åŸ·è¡Œå°‡å½±ç‰‡è½‰æ›ç‚ºGIFå‹•åœ–ä¸¦åŠ ä¸Šæµ®æ°´å°ã€‚</p><ul><li><p>é¦–å…ˆä¾†ç•«ä¸€å€‹æµ®æ°´å°â€¦æƒ¡é­”è²“ç”·ï¼ä½ ä»Šæ™šçš„æƒ¡å¤¢ï¼(æ¿€å‹• â¬‡ï¸<br><img src="https://i.imgur.com/FwCJqVN.png" alt></p></li><li><p>æ¥è‘—æº–å‚™å¹¾å€‹è¦è½‰æˆGIFçš„ç‰‡æ®µï¼Œé–‹å§‹è½‰æ›â¬‡ï¸<br><img src="https://i.imgur.com/6FNRGii.png" alt></p></li><li><p>è½‰æª”çµæœï¼Œå¯ä»¥çœ‹åˆ°GIFå·¦ä¸Šè§’å‡ºç¾å‰›å‰›ç•«çš„æµ®æ°´å°ğŸ¤£&nbsp;&nbsp;â¬‡ï¸</p></li></ul><table><thead><tr><th style="text-align:center">ä¸–ç•Œè¦æœ‰æ„›!</th><th style="text-align:center">é›è‚‰é£¯â¤ï¸</th></tr></thead><tbody><tr><td style="text-align:center"><img src="https://i.imgur.com/tLDHNqj.gif" alt></td><td style="text-align:center"><img src="https://i.imgur.com/IaS7v3K.gif" alt></td></tr><tr><td style="text-align:center">å¥½çœ‹!</td><td style="text-align:center">æµªæ¼«Dukeâ¤ï¸</td></tr><tr><td style="text-align:center"><img src="https://i.imgur.com/XLTZUVm.gif" alt></td><td style="text-align:center"><img src="https://i.imgur.com/aKcPhnH.gif" alt></td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¶çˆ¾æœƒç‚ºäº†DEMOç”¨é€”ï¼Œéœ€è¦å°‡å½±ç‰‡è½‰æ›ç‚ºGIFçš„å½¢å¼ï¼Œä¾¿æ–¼ç©¿æ’åœ¨æ–‡ç« è£¡é ­ï¼Œä½†æˆ‘ä¸æƒ³ç‚ºäº†é€™å°å°çš„éœ€æ±‚å®‰è£ä»€éº¼è»Ÿé«”ã€‚
    
    </summary>
    
      <category term="Python" scheme="https://laplacetw.github.io/categories/Python/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="moviepy" scheme="https://laplacetw.github.io/tags/moviepy/"/>
    
      <category term="mytoolbox" scheme="https://laplacetw.github.io/tags/mytoolbox/"/>
    
  </entry>
  
  <entry>
    <title>eMaskå£ç½©é è³¼&amp;å–è²¨</title>
    <link href="https://laplacetw.github.io/taiwan-emask-pre-order/"/>
    <id>https://laplacetw.github.io/taiwan-emask-pre-order/</id>
    <published>2020-03-26T14:40:12.000Z</published>
    <updated>2020-03-29T17:03:12.627Z</updated>
    
    <content type="html"><![CDATA[<p>Taiwan No.1â¤ï¸<a id="more"></a></p><h3 id="å£ç½©é è³¼"><a href="#å£ç½©é è³¼" class="headerlink" title="å£ç½©é è³¼"></a>å£ç½©é è³¼</h3><p><br><br><a href="https://emask.taiwan.gov.tw/msk/index.jsp" target="_blank" rel="noopener">eMaskå£ç½©é è³¼ç³»çµ±</a>æ–¼3/12~3/18é–‹æ”¾é¦–æ³¢é è³¼ï¼Œä»Šå¤©çµ‚æ–¼é–‹å§‹å–è²¨å•¦ï¼å–è²¨æ™‚é–“ç‚º3/26~4/1ï¼Œè‹¥æ²’æœ‰åœ¨æœŸé™å…§å®Œæˆé ˜å–å°±è¦–åŒæ”¾æ£„å”·ã€‚(é€™å¯ä¸æ˜¯ä»€éº¼æ„šäººç¯€æ¢—ï¼</p><p>ç¬¬äºŒæ³¢é è³¼æœŸé–“ç‚º3/25~3/27æ™šä¸Š8é»æˆªæ­¢ï¼Œè©³æƒ…è¦‹<a href="https://mrmad.com.tw/emask-taiwan-gov-20-app" target="_blank" rel="noopener">è¡›ç¦éƒ¨å…¬å‘Š</a>ï¼Œæˆ‘å€‹äººæ˜¯ä½¿ç”¨å¥ä¿å¿«æ˜“é€šAPPä¾†é è³¼çš„ï¼Œç›¸é—œè¨­å®šå¯ä»¥åƒè€ƒé€™ç¯‡æ•™å­¸ï¼š<a href="https://mrmad.com.tw/emask-taiwan-gov-20-app" target="_blank" rel="noopener">é»æˆ‘</a>ï¼Œç„¡é ˆè®€å–æˆ‘å€‘çš„<del>åœ°è¡¨æœ€å¼·</del>å¥ä¿å¡ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><p>é è³¼å®Œæˆå¾Œå°±ç­‰å¾…æŠ½ç±¤ï¼Œé¦–æ³¢é è³¼äººæ•¸ä¸å¤šï¼Œå› æ­¤æœ‰åƒåŠ é è³¼çš„äººéƒ½èƒ½è²·åˆ°(å„˜ç®¡æœ‰18è¬äººæ²’æœ‰ç¹³è²»â€¦)ï¼Œç¬¬äºŒæ³¢å°±æœªçŸ¥æ•¸äº†ï¼ ï¼ <br>3/28 æ›´æ–°ï¼šå› ç‚ºç¬¬äºŒæ³¢é è³¼äººæ•¸ä¾ç„¶æœªè¶…éä¸Šé™ï¼Œå› æ­¤ç™»è¨˜é è³¼è€…éƒ½èƒ½è²·åˆ°ã€‚<br><img src="https://i.imgur.com/vRZqnCX.jpg" alt></p><h3 id="é è³¼ç¹³è²»"><a href="#é è³¼ç¹³è²»" class="headerlink" title="é è³¼ç¹³è²»"></a>é è³¼ç¹³è²»</h3><p><br><br>ç¬¬äºŒæ³¢é è³¼é–‹æ”¾APPä¹Ÿèƒ½åˆ·å¡ç¹³è²»å›‰ï½è©±èªªå¡«å¯«ä¿¡ç”¨å¡è³‡è¨Šçš„é€™å€‹ã€Œå¡ç‰‡å¾Œä¸‰ç¢¼ã€åè€Œè®“æˆ‘æœ‰é»éŒ¯æ„•ï¼Œå°±æª¢æ ¸ç¢¼å‘€ğŸ˜…<br><img src="https://i.imgur.com/Hi10jKK.png" alt><br>ç¹³è²»æˆåŠŸï¼<br><img src="https://i.imgur.com/t3NxohE.png" alt></p><h3 id="å£ç½©é ˜å–"><a href="#å£ç½©é ˜å–" class="headerlink" title="å£ç½©é ˜å–"></a>å£ç½©é ˜å–</h3><p><br><br>çµ±ä¸€è¶…å•†iboné¦–é å°±èƒ½çœ‹åˆ°å£ç½©å–è²¨å°ˆå€ğŸ˜·<br><img src="https://i.imgur.com/c0mPcLA.jpg" alt></p><p>è¼¸å…¥èº«åˆ†è­‰å¾Œ4ç¢¼ä»¥åŠå–è²¨é€šçŸ¥ç°¡è¨Šä¸­çš„å–è²¨åºè™Ÿ<br><img src="https://i.imgur.com/jEZxkSq.jpg" alt></p><p>æ‹¿è‘—å°ç™½å–®åˆ°è¶…å•†æ«ƒæª¯å°±èƒ½é ˜å–åˆ°çè²´çš„å£ç½©ï¼<br><img src="https://i.imgur.com/CW90CFq.jpg" alt></p><p>å¸Œæœ›é€™ç³Ÿç³•çš„ä¸€åˆ‡èƒ½ç›¡å¿«çµæŸğŸ˜¬ï¼Œç¥ç¦æˆ‘å€‘éƒ½å¥å¥åº·åº·ğŸ’ªã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Taiwan No.1â¤ï¸
    
    </summary>
    
      <category term="Daily" scheme="https://laplacetw.github.io/categories/Daily/"/>
    
    
      <category term="covid-2019" scheme="https://laplacetw.github.io/tags/covid-2019/"/>
    
  </entry>
  
  <entry>
    <title>Manjaroå®‰è£NVIDIA Driverï¼†CUDA</title>
    <link href="https://laplacetw.github.io/linux-manjaro-nvidia-driver-and-cuda/"/>
    <id>https://laplacetw.github.io/linux-manjaro-nvidia-driver-and-cuda/</id>
    <published>2020-03-02T17:19:26.000Z</published>
    <updated>2020-03-02T17:20:23.761Z</updated>
    
    <content type="html"><![CDATA[<p>æå®šManjaroçš„åŸºæœ¬ç’°å¢ƒå¾Œï¼Œæ¥ä¸‹ä¾†è¦è¨­å®šGTX 1660 Superä»¥åˆ©å¾ŒçºŒçš„é‹ç®—ä»»å‹™â€¦å™¢ï¼ŒåˆæŠ˜é¨°äº†ä¸å°‘æ™‚é–“ï¼Œå¾—å¥½å¥½ç´€éŒ„éç¨‹èˆ‡å•é¡Œæ‰è¡Œå¶ã€‚<a id="more"></a></p><h3 id="Manjaro-freezing-at-boot-screen-after-NVIDIA-driver-installed"><a href="#Manjaro-freezing-at-boot-screen-after-NVIDIA-driver-installed" class="headerlink" title="Manjaro freezing at boot screen after NVIDIA driver installed"></a>Manjaro freezing at boot screen after NVIDIA driver installed</h3><p>é€éManjaroç¡¬é«”åµæ¸¬å®‰è£non-free driverï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mhwd -a pci nonfree 0300</span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/mfQGFmj.png" alt></p><p>é‡æ–°é–‹æ©Ÿå¾Œï¼Œå¾ˆå¥½ï¼Œç•«é¢å°±åœåœ¨é»‘è¢å¹•äº†ï¼Œé€²ä¸å»ç™»å…¥ç•«é¢(å‚»çœ¼ã€‚åŸä¾†åœ¨å®‰è£äº†NVIDIAé©…å‹•å¾Œé‚„å¿…é ˆæ‰‹å‹•ä¿®æ”¹ç¡¬é«”è¨­å®šï¼Œå¦å‰‡è¦–çª—æœå‹™çš„é‹ä½œæœƒç•°å¸¸ï¼Œå°è‡´ç³»çµ±çœ‹èµ·ä¾†æ›äº†ï¼Œæ‰€ä»¥å®‰è£Nå¡é©…å‹•çš„æ­£ç¢ºå§¿å‹¢æ‡‰è©²æ˜¯è¦å…ˆä¿®æ”¹è¨­å®šæ–‡ä»¶å¾Œå†é‡æ–°å•Ÿå‹•ã€‚é¦–å…ˆï¼Œåœ¨é»‘è¢å¹•çš„ç•«é¢æŒ‰ä¸‹ctrl + alt + F3ä¾†é€²å…¥Terminalï¼š</p><p>æŸ¥è©¢GPU BusID<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lspci | grep -E <span class="string">"VGA|3D"</span></span><br></pre></td></tr></table></figure><br>è¼¸å‡ºè¨Šæ¯å‰ä¸‰çµ„æ•¸å­—å³ç‚ºBusID(å¿½ç•¥å‰ç¶´0)ï¼Œä¾‹å¦‚ã€Œ01:00.0ã€å‰‡BusIDç‚ºã€Œ1:0:0ã€ã€‚</p><p>å‚™ä»½è¨­å®š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mv /etc/X11/xorg.conf.d/90-mhwd.conf /etc/X11/xorg.conf.d/90-mhwd.conf.bak</span><br></pre></td></tr></table></figure></p><p>å¯«å…¥ /etc/X11/xorg.conf.d/90-mhwd.confï¼ŒBusIDæ”¹ç‚ºä½ è¦è¨­å®šçš„GPUï¼Œæˆ‘æ˜¯è¨­å®šç‚ºå…§é¡¯çš„AMD GPUã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Section <span class="string">"Module"</span></span><br><span class="line">    Load <span class="string">"modesetting"</span></span><br><span class="line">EndSection</span><br><span class="line"></span><br><span class="line">Section <span class="string">"Device"</span></span><br><span class="line">    Identifier <span class="string">"nvidia"</span></span><br><span class="line">    Driver <span class="string">"nvidia"</span></span><br><span class="line">    BusID <span class="string">"PCI:1:0:0"</span></span><br><span class="line">    Option <span class="string">"AllowEmptyInitialConfiguration"</span></span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å®Œæˆå¾Œé‡æ–°å•Ÿå‹•å³å¯ã€‚</p><p>åƒè€ƒï¼š<a href="https://blog.csdn.net/baidu_33340703/article/details/103977592" target="_blank" rel="noopener">https://blog.csdn.net/baidu_33340703/article/details/103977592</a></p><h3 id="CUDAï¼†cuDNN"><a href="#CUDAï¼†cuDNN" class="headerlink" title="CUDAï¼†cuDNN"></a>CUDAï¼†cuDNN</h3><p>åœ¨å®‰è£CUDAä¹‹å‰ï¼Œå…ˆç¢ºèªNå¡é©…å‹•æ˜¯å¦æ­£ç¢ºå®‰è£ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvidia-smi</span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/UKIf8U1.png" alt></p><p>å®‰è£CUDAã€cuDNNä»¥åŠå¾ŒçºŒæœƒç”¨åˆ°çš„Pythonå‡½å¼åº«ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -Syu tensorflow-cuda cuda cudnn python-pycuda python-tensorflow-cuda python-matplotlib</span><br></pre></td></tr></table></figure><br>ï¼Šç‚ºé¿å…å’Œpacmanè»Ÿé«”åº«æä¾›çš„ç‰ˆæœ¬è¡çªï¼ŒArch/Manjaroç§»é™¤äº†pipè»Ÿé«”åº«ä¸­çš„tensorflow-gpuï¼Œä»¥tensorflow-cudaå–ä»£ä¹‹ã€‚</p><p>å°‡CUDAå®‰è£ç›®éŒ„ä¸­çš„samplesè¤‡è£½åˆ°homeç›®éŒ„ä¸‹ï¼Œç·¨è­¯ç„¶å¾Œæ¸¬è©¦CUDAæ˜¯å¦å®‰è£æˆåŠŸï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cp -r /opt/cuda/samples ~</span><br><span class="line">$ ~/samples</span><br><span class="line">$ sudo make -k</span><br></pre></td></tr></table></figure><br>ç·¨è­¯éç¨‹éœ€è¦é»æ™‚é–“ï¼Œå¤§æ¦‚30åˆ†é˜ï¼Œç·¨è­¯å®Œæˆå¾ŒåŸ·è¡ŒdeviceQueryï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/samples/1_Utilities/deviceQuery</span><br><span class="line">$ ./deviceQuery</span><br><span class="line">./deviceQuery Starting...</span><br><span class="line"></span><br><span class="line">CUDA Device Query (Runtime API) version (CUDART static linking)</span><br><span class="line"></span><br><span class="line">Detected 1 CUDA Capable device(s)</span><br><span class="line"></span><br><span class="line">Device 0: <span class="string">"GeForce GTX 1660 SUPER"</span></span><br><span class="line"> CUDA Driver Version / Runtime Version          10.2 / 10.2</span><br><span class="line"> CUDA Capability Major/Minor version number:    7.5</span><br><span class="line"> Total amount of global memory:                 5945 MBytes (6233391104 bytes)</span><br><span class="line"> (22) Multiprocessors, ( 64) CUDA Cores/MP:     1408 CUDA Cores</span><br><span class="line"> </span><br><span class="line">(ç•¥...)</span><br><span class="line"></span><br><span class="line">deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 10.2, CUDA Runtime Version = 10.2, NumDevs = 1</span><br><span class="line">Result = PASS  <span class="comment"># PASSè¡¨ç¤ºCUDAå®‰è£æˆåŠŸ</span></span><br></pre></td></tr></table></figure></p><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>ç”¨<a href="https://laplacetw.github.io/data-sci-ml-hello-world-mnist/">MNISTæ‰‹å¯«æ•¸å­—è¾¨è­˜</a>ä¾†åšæ¸¬è©¦ï¼Œæ¯æ‰¹æ¬¡éƒ½1ç§’å°±é‹ç®—å®Œäº†ï¼Œé›–ç„¶å¯¦éš›æ‡‰è©²ä¸åˆ°1ç§’XD</p><h3 id="Keras-could-not-create-cudnn-handle-cudnn-status-alloc-failed"><a href="#Keras-could-not-create-cudnn-handle-cudnn-status-alloc-failed" class="headerlink" title="Keras could not create cudnn handle: cudnn_status_alloc_failed"></a>Keras could not create cudnn handle: cudnn_status_alloc_failed</h3><p>å™¢ï¼Œæ­£æƒ³èªªä¸€åˆ‡éƒ½é…ç½®å¥½äº†ï¼Œè¶•ç·Šä¾†ç¹¼çºŒå¯¦é©—æ”¾ç½®äº†åŠå€‹æœˆçš„cifar-10æ¨¡å‹è¨“ç·´(å› ç‚ºGoogle CoLabçš„å…è²»è³‡æºå¤ªç†±é–€å°è‡´ç¶“å¸¸æ–·ç·šè€Œç™½å¿™ï¼Œåªå¥½è‡ªå·±å»ºç½®é‹ç®—ç’°å¢ƒäº†ğŸ˜‚)ï¼Œçµæœå‡ºç¾äº†ä¸€å€‹çœ‹èµ·ä¾†å¾ˆå²å®³çš„éŒ¯èª¤è¨Šæ¯(å‚»çœ¼x2ã€‚æŸ¥è©¢å¾Œç™¼ç¾æ˜¯GPUè¨˜æ†¶é«”é…ç½®å•é¡Œï¼Œ<a href="https://www.tensorflow.org/guide/gpu#limiting_gpu_memory_growth" target="_blank" rel="noopener">Tensorflowç‚ºäº†é¿å…è¨˜æ†¶é«”ç¢ç‰‡åŒ–</a>ï¼Œé è¨­æœƒç›¡å¯èƒ½æŠŠå¯è¦‹çš„GPUè¨˜æ†¶é«”éƒ½æ˜ å°„çµ¦ç•¶å‰çš„é€²ç¨‹ï¼š</p><blockquote><p>By default, TensorFlow maps nearly all of the GPU memory of all GPUs (subject to CUDA_VISIBLE_DEVICES) visible to the process. This is done to more efficiently use the relatively precious GPU memory resources on the devices by reducing memory fragmentation.</p></blockquote><p>çµæœå°±æ˜¯cifar-10é€™æ¨£çš„é‹ç®—é‡å°±å°è‡´è¨˜æ†¶é«”ä¸è¶³è€Œæ‹‹å‡ºéŒ¯èª¤è¨Šæ¯ï¼Œæ‰€ä»¥æˆ‘å€‘å¿…é ˆè®“TensorflowæŒ‰éœ€æ±‚é…ç½®GPUè¨˜æ†¶é«”ï¼š<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">config = tf.compat.v1.ConfigProto()  <span class="comment"># tensorflow-gpu 2.1.0</span></span><br><span class="line">config.gpu_options.allow_growth=<span class="keyword">True</span></span><br><span class="line">tf.compat.v1.keras.backend.set_session(tf.compat.v1.Session(config=config))</span><br></pre></td></tr></table></figure></p><p>è§£æ±ºï½æ¯æ‰¹æ¬¡çš„é‹ç®—é€Ÿåº¦æ¯”æˆ‘åœ¨CoLabä¸Šé¢å¿«10ç§’å‘¢ï¼Œ$$æ²’æœ‰ç™½èŠ±äº†QQ</p><p>åƒè€ƒï¼š</p><ul><li><a href="https://blog.csdn.net/weixin_42769131/article/details/88848478" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42769131/article/details/88848478</a></li><li><a href="https://blog.csdn.net/zuoyouzouzou/article/details/104329286" target="_blank" rel="noopener">https://blog.csdn.net/zuoyouzouzou/article/details/104329286</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æå®šManjaroçš„åŸºæœ¬ç’°å¢ƒå¾Œï¼Œæ¥ä¸‹ä¾†è¦è¨­å®šGTX 1660 Superä»¥åˆ©å¾ŒçºŒçš„é‹ç®—ä»»å‹™â€¦å™¢ï¼ŒåˆæŠ˜é¨°äº†ä¸å°‘æ™‚é–“ï¼Œå¾—å¥½å¥½ç´€éŒ„éç¨‹èˆ‡å•é¡Œæ‰è¡Œå¶ã€‚
    
    </summary>
    
      <category term="Linux" scheme="https://laplacetw.github.io/categories/Linux/"/>
    
    
      <category term="keras" scheme="https://laplacetw.github.io/tags/keras/"/>
    
      <category term="linux" scheme="https://laplacetw.github.io/tags/linux/"/>
    
      <category term="manjaro" scheme="https://laplacetw.github.io/tags/manjaro/"/>
    
      <category term="nvidia" scheme="https://laplacetw.github.io/tags/nvidia/"/>
    
  </entry>
  
  <entry>
    <title>Manjaro:You need to load kernel first</title>
    <link href="https://laplacetw.github.io/linux-need-to-load-kernel-first/"/>
    <id>https://laplacetw.github.io/linux-need-to-load-kernel-first/</id>
    <published>2020-02-23T16:58:38.000Z</published>
    <updated>2020-02-23T16:59:41.830Z</updated>
    
    <content type="html"><![CDATA[<p>Manjaroåœ¨å®‰è£å®Œæˆä¸¦åŸ·è¡ŒåŒæ­¥è»Ÿé«”åº«&amp;æ›´æ–°å¾Œï¼Œé‡æ–°é–‹æ©Ÿé»‘å±é¡¯ç¤ºã€Œerror: file â€˜/boot/vmlinuz-4.19-x86_64â€™ not foundã€<a id="more"></a>ã€ã€Œerror: You need to load kernel firstã€ï¼Œé€™å•é¡Œåœ¨æˆ‘é‡æ–°å®‰è£ä¸¦æ›´æ–°å¾Œä¾ç„¶ç™¼ç”Ÿäº†ï¼Œåˆ°Manjaro Forumçˆ¬æ–‡æ‰å¾—çŸ¥æ­¤å•é¡Œä¾†è‡ªpacmanåŸå§‹ç¢¼çš„è®Šæ›´ï¼Œè‹¥ä½¿ç”¨ä½æ–¼18.1.5çš„èˆŠç‰ˆæœ¬ISOæª”é€²è¡Œå®‰è£å°±å¯èƒ½æœƒå—åˆ°å½±éŸ¿ï¼Œè€Œæˆ‘æ˜¯ä½¿ç”¨18.0.1ä¾†å®‰è£çš„ğŸ˜…</p><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>ä½¿ç”¨live USBä¾†é–‹æ©Ÿå•Ÿå‹•Manjaroï¼Œåœ¨terminalåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sudo manjaro-chroot -a</span><br><span class="line">$ pacman -S linux419 linux419-headers</span><br><span class="line">$ mkinitcpio -P</span><br><span class="line">$ update-grub</span><br><span class="line">$ sync</span><br><span class="line">$ <span class="built_in">exit</span></span><br></pre></td></tr></table></figure></p><p>headerç‰ˆæœ¬ä¾ç…§éŒ¯èª¤è¨Šæ¯é¡¯ç¤ºå“ªå€‹ç‰ˆæœ¬not foundï¼Œé‡æ–°å®‰è£è©²ç‰ˆæœ¬å°±è¡Œäº†ï¼ŒæŒ‡ä»¤åŸ·è¡Œå®Œç•¢é‡æ–°é–‹æ©Ÿå³å¯ã€‚</p><p>åƒè€ƒ :</p><ul><li><a href="https://forum.manjaro.org/t/howto-rescue-your-system-error-hook-invalid-value-path/123226" target="_blank" rel="noopener">Rescue your system: error: hook â€¦ Invalid value Path</a></li><li><a href="https://forum.manjaro.org/t/error-file-boot-vmlinux-4-19-x86-64-not-found/123303" target="_blank" rel="noopener">error: file â€˜/boot/vmlinux-4.19-x86_64â€™ not found</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Manjaroåœ¨å®‰è£å®Œæˆä¸¦åŸ·è¡ŒåŒæ­¥è»Ÿé«”åº«&amp;amp;æ›´æ–°å¾Œï¼Œé‡æ–°é–‹æ©Ÿé»‘å±é¡¯ç¤ºã€Œerror: file â€˜/boot/vmlinuz-4.19-x86_64â€™ not foundã€
    
    </summary>
    
      <category term="Linux" scheme="https://laplacetw.github.io/categories/Linux/"/>
    
    
      <category term="error" scheme="https://laplacetw.github.io/tags/error/"/>
    
      <category term="linux" scheme="https://laplacetw.github.io/tags/linux/"/>
    
      <category term="manjaro" scheme="https://laplacetw.github.io/tags/manjaro/"/>
    
  </entry>
  
  <entry>
    <title>Manjaro KDE å®‰è£ï¼†å€‹äººåŒ–</title>
    <link href="https://laplacetw.github.io/linux-manjaro-install-and-optimization/"/>
    <id>https://laplacetw.github.io/linux-manjaro-install-and-optimization/</id>
    <published>2020-02-22T11:25:53.000Z</published>
    <updated>2020-06-05T07:04:42.582Z</updated>
    
    <content type="html"><![CDATA[<p>å‰é™£å­çµ„äº†ä¸€å°æ–°ä¸»æ©Ÿï¼Œå®‰è£äº†Manjaro Linuxã€‚<br><a id="more"></a><br>å…¶å¯¦æ˜¯ç‚ºäº†NVIDIA GPUçš„é‹ç®—åŠ›ï¼Œç¤™æ–¼çª®å­¸ç”Ÿç¶“è²»æœ‰é™åƒ…èƒ½æ“ å‡º20Kå·¦å³çš„é ç®—ï¼Œå–æ¨å¾Œå¯¦éš›èŠ±è²»ç‚º18Kã€‚</p><ul><li>AMD AM4 Ryzen 5 2400G</li><li>ASUS PRIME A320M-K</li><li>Crucial 16GB DDR4-3200 Ballistix SportLT</li><li>WD Blue 250GB(M.2 SATA 3D TLC)</li><li>Power Master N9 RGB/ATX</li><li>Antec NX650</li><li>Zotec GTX1660 SUPER Twin Fan 6G(T16620F-10L)</li></ul><p><img src="https://i.imgur.com/E7LsmEN.jpg" alt><br><img src="https://i.imgur.com/9waIGr8.jpg" alt></p><h3 id="About-Manjaro"><a href="#About-Manjaro" class="headerlink" title="About Manjaro"></a>About Manjaro</h3><p>ç›®å‰å¯¦éš›æ¥è§¸éçš„Linuxç‰ˆæœ¬ä¹Ÿå°±Ubuntuè·ŸRaspberry Piçš„Raspbianï¼Œæœ¬ä¾†ä¹Ÿæ˜¯é è¨ˆè¦è£Ubuntuï¼Œä½†ç„¡æ„é–“çœ‹åˆ°Manjaroçš„ç›¸é—œæ–‡ç« ï¼Œæ±ºå®šå®‰è£KDEæ¡Œé¢ç’°å¢ƒç‰ˆæœ¬ï¼Œå…§å»ºçš„ä¸‹æ‹‰å¼terminalçœŸé¦™ğŸ˜‹</p><p>Manjaroæ˜¯åŸºæ–¼Archçš„Linuxç™¼è¡Œç‰ˆ(é€™æ„å‘³è‘—è¨±å¤šå•é¡Œéƒ½èƒ½åœ¨<a href="https://wiki.archlinux.org" target="_blank" rel="noopener">Arch Wiki</a>æ‰¾åˆ°ç­”æ¡ˆ)ï¼Œåˆå§‹ç‰ˆæœ¬ç™¼è¡Œæ—¥æœŸç‚º2011å¹´7æœˆ10æ—¥ï¼Œç›®æ¨™ç‚ºä½¿å¼·å¤§çš„Arch Linuxèƒ½è¢«äººå€‘æ›´å®¹æ˜“åœ°ä½¿ç”¨ï¼Œç¡¬é«”æª¢æ¸¬èˆ‡æ ¸å¿ƒåˆ‡æ›æ˜¯Manjaroç›¸ç•¶çªå‡ºçš„ç‰¹è‰²ã€‚<a href="https://manjaro.org/download/" target="_blank" rel="noopener">å®˜æ–¹</a>æ”¯æ´æ¡Œé¢ç’°å¢ƒæœ‰XFCEã€KDE Plasmaã€GNOMEï¼Œå¦å¤–ç¤¾ç¾¤ä¹Ÿæ”¯æ´äº†å…¶ä»–æ¡Œé¢ç’°å¢ƒï¼Œä¾‹å¦‚MATEã€LXDEç­‰ã€‚Manjaroé›–ç„¶å’ŒArchåŒæ¨£æ¡ç”¨æ»¾å‹•æ›´æ–°ï¼Œä½†<a href="https://manjaro.org/features/fresh-and-stable/" target="_blank" rel="noopener">æ ¹æ“šManjaroå®˜æ–¹æ‰€è¿°</a>ï¼Œç‚ºé¿å…æ»¾å‹•æ›´æ–°å¯èƒ½å¼•ç™¼çš„ç›¸å®¹æ€§å•é¡Œæˆ–éŒ¯èª¤ï¼ŒManjaroæœ‰3å€‹è»Ÿé«”åº«:Stableã€Testingã€Unstableï¼ŒArchçš„æ»¾å‹•æ›´æ–°åœ¨ç¶“éManjaroå®˜æ–¹æ¸¬è©¦å¾Œæ‰æœƒæ­£å¼ç™¼ä½ˆçµ¦Manjaroçš„ä½¿ç”¨è€…ï¼Œæ‰€ä»¥Manjaroçš„æ»¾å‹•æ›´æ–°ç›¸å°æ–¼Archæœƒæœ‰ä¸€å®šçš„å»¶é²ã€‚è‡³æ–¼å®‰å…¨æ€§ç›¸é—œçš„æ›´æ–°å‰‡æ¡ç”¨ã€Œå¿«é€Ÿè¿½è¹¤ã€çš„åšæ³•ï¼Œå…¶æœ‰è¼ƒé«˜çš„å„ªå…ˆæ¸¬è©¦ç­‰ç´šï¼Œç”šè‡³æ˜¯ç•¥éæ¸¬è©¦ï¼Œä»¥ä¾¿ç›¡å¿«ä¿®å¾©å®‰å…¨æ€§å•é¡Œã€‚(â†“å®˜ç¶²åœ–ç‰‡)<br><img src="https://manjaro.org/img/features/repositories.png" alt></p><p>ç¤¾ç¾¤è³‡æº :</p><ul><li><a href="https://forum.manjaro.org" target="_blank" rel="noopener">Manjaro Forum</a></li><li><a href="https://wiki.manjaro.org/" target="_blank" rel="noopener">Manjaro Wiki</a> / <a href="https://wiki.archlinux.org/index.php/Main_page_(æ­£é«”ä¸­æ–‡" target="_blank" rel="noopener">Manjaro Wiki(ç¹ä¸­)</a> )</li><li><a href="https://manjaro-zh.blogspot.com/p/blog-page_7.html" target="_blank" rel="noopener">Manjaroï¼ ä¸­æ–‡</a></li></ul><p>ï¼ŠWikié é¢äº¦æœ‰åˆ—å‡ºå®˜æ–¹æ¨ç‰¹ã€è‡‰æ›¸èˆ‡Redditè¨è«–ç‰ˆçš„é€£çµã€‚å¦å¤–ï¼Œå®˜æ–¹è«–å£‡é›–ç„¶ä¹Ÿæœ‰(ç°¡é«”)ä¸­æ–‡è¨è«–å€ï¼Œä½†ç›®å‰æ´»èºç¨‹åº¦è·ŸManjaroï¼ ä¸­æ–‡(ç¹é«”)è¨è«–å€å·®ä¸å¤šâ€¦ä¸»è¦é‚„æ˜¯è‹±æ–‡è¨è«–å€è¼ƒç‚ºæ´»èºã€‚</p><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>ISOè¼‰é» : <a href="https://manjaro.org/download/" target="_blank" rel="noopener">å®˜ç¶²</a>ã€<a href="https://osdn.net/projects/manjaro/storage/" target="_blank" rel="noopener">OSDN(å«ç¤¾ç¾¤ç‰ˆæœ¬)</a><br>æ¥ä¸‹ä¾†å°±æ˜¯æ‰¾æ”¯é–’ç½®çš„4GB+ USBä¾†è£½ä½œé–‹æ©Ÿéš¨èº«ç¢Ÿï¼Œç‡’éŒ„å·¥å…·æ¨è–¦<a href="https://www.balena.io/etcher/" target="_blank" rel="noopener">BalenaEtcher</a>ã€‚å®Œæˆå¾Œå°±ä½¿ç”¨é€™æ”¯éš¨èº«ç¢Ÿä¾†é–‹æ©Ÿï¼ŒManjaroå•Ÿå‹•é¸é …çš„é©…å‹•è¨­å®šå»ºè­°é¸æ“‡non-freeï¼Œé€²å…¥æ¡Œé¢ç’°å¢ƒå¾Œå•Ÿå‹•å®‰è£ç¨‹å¼<del>ç„¶å¾Œå°±æ˜¯ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥</del>ã€‚<br><img src="https://i.imgur.com/BdZpaEz.png" alt></p><p>Manjaroçš„å®‰è£å°±è·ŸM$çš„ä½œæ¥­ç³»çµ±ä¸€æ¨£ç°¡å–®æ²’å•¥å¥½èªªğŸ˜</p><h3 id="Setting"><a href="#Setting" class="headerlink" title="Setting"></a>Setting</h3><p>æ ¸å¿ƒåˆ‡æ›<br><img src="https://i.imgur.com/VP0nbJW.png" alt><br>MHWD - Manjaro Hardware Detection<br><img src="https://i.imgur.com/890z6MZ.png" alt></p><h4 id="Network"><a href="#Network" class="headerlink" title="Network"></a>Network</h4><p>â†“DSLå°±æ˜¯è¨­å®šä¸€èˆ¬å®¶ç”¨æœ‰ç·šç¶²è·¯ï¼Œä¾‹å¦‚CHT ADSLã€‚<br><img src="https://i.imgur.com/i3sv4Dh.png" alt></p><h4 id="WiFi"><a href="#WiFi" class="headerlink" title="WiFi"></a>WiFi</h4><p>é€™éƒ¨åˆ†æœ‰é»æŠ˜é¨°ğŸ¤ªï¼ŒåŸæœ¬è²·äº†æŸçŸ¥åAç‰Œå» å•†çš„USBç¶²å¡ï¼Œå¤–ç›’å¯«äº†æ”¯æ´WINã€MACã€LINUXï¼Œè€ŒManjaroæ—©å°±å…§å»ºè©²ç¶²å¡çš„WiFiæ™¶ç‰‡é©…å‹•äº†â€¦ä½†ç„¡è«–æ˜¯å…§å»ºæˆ–æ˜¯AURä¸‹è¼‰ä¾†çš„ï¼Œæ€éº¼æå°±æ˜¯æŠ“ä¸åˆ°ï¼Œæˆ‘è€—äº†å¥½å¹¾å€‹æ™šä¸Šçš„æ™‚é–“åœ¨çˆ¬æ–‡è·Ÿæ¸¬è©¦ï¼Œæœ€å¾Œé‚„åœ¨Manjaro Forumç™¼å•ä»æ˜¯æ²’æœ‰è§£æ±ºï¼Œæ–¼æ˜¯æˆ‘æ±ºå®šæ£„ç”¨(ç‹€æ…‹é¡¯ç¤ºç‚ºå¾ˆæ··æ€’)ã€‚</p><p>æŸ¥äº†ä¸€ä¸‹ç›´æ¥è²·ä¾†TP-Link TL-WN722Nï¼Œæˆ‘ä»–Xä»€éº¼è¨­å®šéƒ½æ²’æï¼ä»€éº¼é©…å‹•éƒ½æ²’è£ï¼ä¸€æ’å°±çˆ½ï¼ï¼ï¼<br><img src="https://i.imgur.com/hp7z3aA.jpg" alt></p><h4 id="Chinese-IME-Input-Method-Editor"><a href="#Chinese-IME-Input-Method-Editor" class="headerlink" title="Chinese IME(Input Method Editor)"></a>Chinese IME(Input Method Editor)</h4><p>ä¸­æ–‡è¼¸å…¥æ³•å®‰è£åƒè€ƒ : <a href="https://manjaro-zh.blogspot.com/2015/05/manjaro-linux-gcin.html" target="_blank" rel="noopener">Manjaro@ä¸­æ–‡</a><br>å®‰è£gcin<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S gcin</span><br></pre></td></tr></table></figure></p><p>ç·¨è¼¯.xprofile<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kate ~/.xprofile</span><br></pre></td></tr></table></figure><br>å¯«å…¥ä»¥ä¸‹è¨­å®š :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=gcin</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=gcin</span><br><span class="line"><span class="built_in">export</span> LC_CTYPE=zh_TW.UTF-8</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">"@im=gcin"</span></span><br><span class="line">gcin &amp;</span><br></pre></td></tr></table></figure></p><p>æ‰“é–‹terminalåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gtk-query-immodules-2.0 --update-cache</span><br><span class="line">$ sudo gtk-query-immodules-3.0 --update-cache</span><br></pre></td></tr></table></figure></p><p>ç„¶å¾Œé‡æ–°ç™»å…¥å³å¯ä½¿ç”¨ã€‚</p><h4 id="Google-Chrome-Chromium"><a href="#Google-Chrome-Chromium" class="headerlink" title="Google Chrome / Chromium"></a>Google Chrome / Chromium</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S chromium</span><br><span class="line">$ sudo pacman -S google-chrome</span><br></pre></td></tr></table></figure><h4 id="VS-Code"><a href="#VS-Code" class="headerlink" title="VS Code"></a>VS Code</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S code</span><br></pre></td></tr></table></figure><h3 id="MacOS-like-KDE"><a href="#MacOS-like-KDE" class="headerlink" title="MacOS-like KDE"></a>MacOS-like KDE</h3><p>å…¨åŸŸä¸»é¡Œ : Glassy<br>åœ–ç¤º : McMojave-circle-dark<br>æ¸¸æ¨™ : McMojave-circle-dark<br>å®‰è£ Latte Dockæ¡Œé¢å…ƒä»¶ :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S latte-dock</span><br></pre></td></tr></table></figure></p><p>â†“çœ‹èµ·ä¾†è·ŸMac OSæ¡Œé¢ç’°å¢ƒæœ‰87%åƒğŸ¤£ğŸ¤£ğŸ¤£<br><img src="https://i.imgur.com/5xQmNUU.png" alt><br><img src="https://i.imgur.com/8jMN6Zb.png" alt><br><img src="https://i.imgur.com/W5KyxXn.png" alt><br><img src="https://i.imgur.com/EvXxv3m.png" alt></p><p>è™›æ“¬æ¡Œé¢åˆ‡æ› :<br><img src="https://i.imgur.com/F2H0OyB.gif" alt></p><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>æŸ¥è©¢Pacman Mirrorä¾†æº<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pacman-mirrors -l</span><br></pre></td></tr></table></figure></p><p>è®Šæ›´Mirrorä¾†æºç‚ºTaiwan<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman-mirrors -t 5 -c Taiwan</span><br></pre></td></tr></table></figure></p><p>åŒæ­¥è»Ÿé«”åº«ï¼†æ›´æ–°<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -Syyu</span><br></pre></td></tr></table></figure></p><p><img src="https://i.imgur.com/yHCOIyM.png" alt></p><h3 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h3><p>åŸå‰‡ä¸Šæœƒåœ¨æ­¤æ¢ç›®æŒçºŒç´€éŒ„è‡ªå·±ä½¿ç”¨Manjaro Linuxæ‰€é‡åˆ°çš„å•é¡Œï¼Œç‰¹åˆ¥æ˜¯ç³»çµ±æ›´æ–°å¾ŒOrz<br><br></p><h4 id="Mojibake-Garbled-Text"><a href="#Mojibake-Garbled-Text" class="headerlink" title="Mojibake(Garbled Text)"></a>Mojibake(Garbled Text)</h4><p>ç³»çµ±æ›´æ–°å¾Œè‹¥ç™¼ç”Ÿä¸­æ–‡äº‚ç¢¼çš„æƒ…æ³ï¼Œå‰‡éœ€å®‰è£å­—é«”ä¸¦é‡æ–°ç™»å…¥ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S noto-fonts-cjk</span><br></pre></td></tr></table></figure></p><p>æˆ‘æ‰€å®‰è£çš„Noto Fontsç‚ºGoogleçš„é–‹æºå­—å‹ï¼Œ<a href="https://tinyurl.com/uhwvs4w" target="_blank" rel="noopener">Arch Wiki</a>äº¦æœ‰å…¶ä»–æ¨è–¦çš„ä¸­æ–‡å­—é«”å¯é¸æ“‡ã€‚</p><h4 id="Dolphin-Launch-Error"><a href="#Dolphin-Launch-Error" class="headerlink" title="Dolphin Launch Error"></a>Dolphin Launch Error</h4><p>ç³»çµ±æ›´æ–°å¾Œæ–¼å•Ÿå‹•Dolphinæ™‚ç„¡æ³•æ­£å¸¸é¡¯ç¤ºæª”æ¡ˆï¼Œä¸¦é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼š<br>Unable to create io-slave. klauncher said: Error loading â€˜/usr/lib/qt/plugins/kf5/kio/file.soâ€™</p><p>åœ¨<a href="https://forum.manjaro.org/t/unable-to-create-io-slave-klauncher-said-error-loading-usr-lib-qt-plugins-kf5-kio-file-so/25866" target="_blank" rel="noopener">Manjaro Forum</a>æ‰¾åˆ°å•é¡Œçš„ç™¼ç”ŸåŸå› æ˜¯Qtç‰ˆæœ¬è¡çªå°è‡´çš„ï¼Œå› ç‚ºç³»çµ±ç•¶ä¸‹ä»è¼‰å…¥èˆŠç‰ˆæœ¬Qtï¼Œç„¶å¾Œæˆ‘å€‘åŸ·è¡Œäº†ç³»çµ±æ›´æ–°ã€‚</p><p>å°‡é›»è…¦é‡æ–°å•Ÿå‹•ï¼Œæˆ–åœ¨terminalåŸ·è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°å•Ÿå‹•Dolphinå³å¯ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dbus-launch dolphin</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰é™£å­çµ„äº†ä¸€å°æ–°ä¸»æ©Ÿï¼Œå®‰è£äº†Manjaro Linuxã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://laplacetw.github.io/categories/Linux/"/>
    
    
      <category term="linux" scheme="https://laplacetw.github.io/tags/linux/"/>
    
      <category term="manjaro" scheme="https://laplacetw.github.io/tags/manjaro/"/>
    
      <category term="kde" scheme="https://laplacetw.github.io/tags/kde/"/>
    
  </entry>
  
  <entry>
    <title>Pythonæ‰¹æ¬¡åŠ å¯†PDFæ–‡ä»¶</title>
    <link href="https://laplacetw.github.io/python-pdf-batch-encrypt/"/>
    <id>https://laplacetw.github.io/python-pdf-batch-encrypt/</id>
    <published>2020-02-17T14:30:28.000Z</published>
    <updated>2020-07-06T02:57:07.205Z</updated>
    
    <content type="html"><![CDATA[<p>åˆå¥½ä¸€æ®µæ™‚é–“æ²’æ›´æ–°äº†(å¿™ï¼Œç„¶å¾Œå°±2020å¹´äº†â€¦ç´€éŒ„ä¸€ä¸‹å‰é™£å­å¯«äº†æ®µç¨‹å¼ç¢¼å¹«äººè™•ç†æ‰¹æ¬¡åŠ å¯†PDFã€‚<br><a id="more"></a></p><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>äº‹å¯¦ä¸Šé€™éœ€æ±‚èˆ‡è–ªè³‡ç³»çµ±æœ‰é—œï¼Œæˆ‘åªçŸ¥é“é‚£ç³»çµ±ä¼¼ä¹å¾ˆçï¼Œä½†äººå·¥è™•ç†é€™ç¨®å¤§é‡é‡è¤‡æ€§çš„å•é¡Œæ›´çğŸ™„<br>æ–¼æ˜¯æˆ‘å€‘æœƒæœ‰ç„¡æ•¸å€‹PDFæ–‡ä»¶å’Œä¸€å€‹txtæ–‡ä»¶ï¼ŒPDFå…§å®¹æ˜¯å€‹äººæ©Ÿå¯†ğŸ˜ï¼Œè€Œtxtè£¡é ­å‰‡æ˜¯å°ç…§è¡¨ï¼Œç•¶ç¨‹å¼è®€é€²è·¯å¾‘ä¸‹æ‰€æœ‰PDFæ–‡ä»¶å¾Œï¼Œæœƒä¾ç…§PDFæª”åå»å°ç…§æ¯å€‹äººçš„ID Numberï¼Œä»¥ä½œç‚ºPDFæ–‡ä»¶åŠ å¯†çš„å¯†ç¢¼ï¼Œç„¶å¾Œä½¿ç”¨PyPDF2é€™å€‹æ¨¡çµ„ä¾†é€²è¡ŒåŠ å¯†ã€‚éœ€æ³¨æ„è®€å–è·Ÿå¯«å…¥çš„æª”åä¸èƒ½ç›¸åŒï¼Œå› ç‚ºåŠ å¯†å®Œæœƒé‡åˆ°æª”æ¡ˆå·²å­˜åœ¨è€Œç„¡æ³•å›å¯«çš„æƒ…æ³ï¼Œåªå¥½åœ¨è®€æª”ä¹‹å‰ä¸€å¾‹å…ˆæŠŠæª”åæ”¹ç‚ºâ€tmp.pdfâ€ï¼Œè®€é€²ä¾†åŠ å¯†å®Œå†å¦å­˜å›åŸæª”åï¼Œç„¶å¾Œåˆªé™¤â€tmp.pdfâ€ï¼Œå¦‚æ­¤å®Œæˆä¸€å€‹PDFæ–‡ä»¶çš„åŠ å¯†ã€‚</p><p>ï¼ŠPDFæª”åå³ç‚ºcodeï¼Œè€Œtxtæª”è£¡é ­çš„å°ç…§è¡¨æœ‰å…©å€‹æ¬„ä½ï¼šcode | id_number</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># *** coding:utf-8 ***</span></span><br><span class="line"><span class="keyword">import</span> os, glob</span><br><span class="line"><span class="keyword">from</span> PyPDF2 <span class="keyword">import</span> PdfFileReader <span class="keyword">as</span> pdfReader</span><br><span class="line"><span class="keyword">from</span> PyPDF2 <span class="keyword">import</span> PdfFileWriter <span class="keyword">as</span> pdfWriter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_id_by_code</span><span class="params">(code, table)</span>:</span></span><br><span class="line">    pswd = <span class="string">"123456"</span>  <span class="comment"># default password</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> table:</span><br><span class="line">        <span class="keyword">if</span> code <span class="keyword">in</span> i:</span><br><span class="line">            pswd = str(i).split()[<span class="number">1</span>]</span><br><span class="line">            print(code, <span class="string">"--&gt;"</span>, pswd)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> pswd</span><br><span class="line"></span><br><span class="line">id = open(<span class="string">"ID.txt"</span>)</span><br><span class="line">ID_table = list(id)</span><br><span class="line">id.close()</span><br><span class="line"></span><br><span class="line">pdf_files = glob.glob(<span class="string">r"*.pdf"</span>)</span><br><span class="line"><span class="keyword">for</span> path <span class="keyword">in</span> pdf_files:</span><br><span class="line">    code = path.replace(<span class="string">".pdf"</span>, <span class="string">""</span>)</span><br><span class="line">    os.rename(path, <span class="string">"tmp.pdf"</span>)</span><br><span class="line">    in_file = open(<span class="string">"tmp.pdf"</span>, <span class="string">"r+b"</span>)</span><br><span class="line">    in_pdf = pdfReader(in_file)</span><br><span class="line"></span><br><span class="line">    out_pdf = pdfWriter()</span><br><span class="line">    out_pdf.appendPagesFromReader(in_pdf)</span><br><span class="line">    pswd = find_id_by_code(code, ID_table)</span><br><span class="line">    out_pdf.encrypt(pswd)</span><br><span class="line"></span><br><span class="line">    out_file = open(path, <span class="string">"wb"</span>)</span><br><span class="line">    out_pdf.write(out_file)</span><br><span class="line"></span><br><span class="line">    in_file.close()</span><br><span class="line">    out_file.close()</span><br><span class="line">    os.remove(<span class="string">"tmp.pdf"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> in_pdf, out_pdf</span><br><span class="line">input(<span class="string">"Encrypt Complete! Now you can close the window."</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆå¥½ä¸€æ®µæ™‚é–“æ²’æ›´æ–°äº†(å¿™ï¼Œç„¶å¾Œå°±2020å¹´äº†â€¦ç´€éŒ„ä¸€ä¸‹å‰é™£å­å¯«äº†æ®µç¨‹å¼ç¢¼å¹«äººè™•ç†æ‰¹æ¬¡åŠ å¯†PDFã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="https://laplacetw.github.io/categories/Python/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="mytoolbox" scheme="https://laplacetw.github.io/tags/mytoolbox/"/>
    
      <category term="pdf" scheme="https://laplacetw.github.io/tags/pdf/"/>
    
  </entry>
  
</feed>
